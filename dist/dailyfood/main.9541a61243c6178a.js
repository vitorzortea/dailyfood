"use strict";(self.webpackChunkdailyfood=self.webpackChunkdailyfood||[]).push([[179],{6217:(It,Ie,k)=>{k.d(Ie,{nm:()=>xn});var I=k(2122);k(4650),k(259);var Pe=k(5861),Oe=k(9681),We=k(4859),et=k(2090),Ye=k(1877);const Y=new Map,Ae={activated:!1,tokenObservers:[]},nt={initialized:!1,enabled:!1};function qe(le){return Y.get(le)||Object.assign({},Ae)}function ot(){return nt}const x="https://content-firebaseappcheck.googleapis.com/v1",Ce="exchangeDebugToken",Ue={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Je{constructor(ie,fe,Fe,tt,yt){if(this.operation=ie,this.retryPolicy=fe,this.getWaitDuration=Fe,this.lowerBound=tt,this.upperBound=yt,this.pending=null,this.nextErrorWaitInterval=tt,tt>yt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ie){var fe=this;return(0,Pe.Z)(function*(){fe.stop();try{fe.pending=new et.BH,yield function Xe(le){return new Promise(ie=>{setTimeout(ie,le)})}(fe.getNextRun(ie)),fe.pending.resolve(),yield fe.pending.promise,fe.pending=new et.BH,yield fe.operation(),fe.pending.resolve(),yield fe.pending.promise,fe.process(!0).catch(()=>{})}catch(Fe){fe.retryPolicy(Fe)?fe.process(!1).catch(()=>{}):fe.stop()}})()}getNextRun(ie){if(ie)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const fe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),fe}}}const it=new et.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jt(le,ie){return cn.apply(this,arguments)}function cn(){return(cn=(0,Pe.Z)(function*({url:le,body:ie},fe){const Fe={"Content-Type":"application/json"},tt=fe.getImmediate({optional:!0});if(tt){const Ut=yield tt.getHeartbeatsHeader();Ut&&(Fe["X-Firebase-Client"]=Ut)}const yt={method:"POST",body:JSON.stringify(ie),headers:Fe};let Kt,In;try{Kt=yield fetch(le,yt)}catch(Ut){throw it.create("fetch-network-error",{originalErrorMessage:Ut?.message})}if(200!==Kt.status)throw it.create("fetch-status-error",{httpStatus:Kt.status});try{In=yield Kt.json()}catch(Ut){throw it.create("fetch-parse-error",{originalErrorMessage:Ut?.message})}const nn=In.ttl.match(/^([\d.]+)(s)$/);if(!nn||!nn[2]||isNaN(Number(nn[1])))throw it.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${In.ttl}`});const hn=1e3*Number(nn[1]),ln=Date.now();return{token:In.token,expireTimeMillis:ln+hn,issuedAtTimeMillis:ln}})).apply(this,arguments)}const Fn="firebase-app-check-database",Bn=1,Mn="firebase-app-check-store";let _n=null;function $r(le,ie){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,Pe.Z)(function*(le,ie){const Fe=(yield function mt(){return _n||(_n=new Promise((le,ie)=>{try{const fe=indexedDB.open(Fn,Bn);fe.onsuccess=Fe=>{le(Fe.target.result)},fe.onerror=Fe=>{var tt;ie(it.create("storage-open",{originalErrorMessage:null===(tt=Fe.target.error)||void 0===tt?void 0:tt.message}))},fe.onupgradeneeded=Fe=>{0===Fe.oldVersion&&Fe.target.result.createObjectStore(Mn,{keyPath:"compositeKey"})}}catch(fe){ie(it.create("storage-open",{originalErrorMessage:fe?.message}))}}),_n)}()).transaction(Mn,"readwrite"),yt=Fe.objectStore(Mn).put({compositeKey:le,value:ie});return new Promise((Kt,In)=>{yt.onsuccess=nn=>{Kt()},Fe.onerror=nn=>{var hn;In(it.create("storage-set",{originalErrorMessage:null===(hn=nn.target.error)||void 0===hn?void 0:hn.message}))}})})).apply(this,arguments)}const vn=new Ye.Yd("@firebase/app-check");function kn(le,ie){return(0,et.hl)()?function Vn(le,ie){return $r(function An(le){return`${le.options.appId}-${le.name}`}(le),ie)}(le,ie).catch(fe=>{vn.warn(`Failed to write token to IndexedDB. Error: ${fe}`)}):Promise.resolve()}function an(){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,Pe.Z)(function*(){const le=ot();if(le.enabled&&le.token)return le.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const st={error:"UNKNOWN_ERROR"};function je(le){return et.US.encodeString(JSON.stringify(le),!1)}function pt(le){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,Pe.Z)(function*(le,ie=!1){const fe=le.app;!function at(le){if(!qe(le).activated)throw it.create("use-before-activation",{appName:le.name})}(fe);const Fe=qe(fe);let yt,tt=Fe.token;if(tt&&!oe(tt)&&(Fe.token=void 0,tt=void 0),!tt){const nn=yield Fe.cachedTokenPromise;nn&&(oe(nn)?tt=nn:yield kn(fe,void 0))}if(!ie&&tt&&oe(tt))return{token:tt.token};let In,Kt=!1;if(function Ir(){return ot().enabled}()){Fe.exchangeTokenPromise||(Fe.exchangeTokenPromise=Jt(function fn(le,ie){const{projectId:fe,appId:Fe,apiKey:tt}=le.options;return{url:`${x}/projects/${fe}/apps/${Fe}:${Ce}?key=${tt}`,body:{debug_token:ie}}}(fe,yield an()),le.heartbeatServiceProvider).finally(()=>{Fe.exchangeTokenPromise=void 0}),Kt=!0);const nn=yield Fe.exchangeTokenPromise;return yield kn(fe,nn),Fe.token=nn,{token:nn.token}}try{Fe.exchangeTokenPromise||(Fe.exchangeTokenPromise=Fe.provider.getToken().finally(()=>{Fe.exchangeTokenPromise=void 0}),Kt=!0),tt=yield qe(fe).exchangeTokenPromise}catch(nn){"appCheck/throttled"===nn.code?vn.warn(nn.message):vn.error(nn),yt=nn}return tt?yt?In=oe(tt)?{token:tt.token,internalError:yt}:Se(yt):(In={token:tt.token},Fe.token=tt,yield kn(fe,tt)):In=Se(yt),Kt&&function K(le,ie){const fe=qe(le).tokenObservers;for(const Fe of fe)try{"EXTERNAL"===Fe.type&&null!=ie.error?Fe.error(ie.error):Fe.next(ie)}catch{}}(fe,In),In})).apply(this,arguments)}function ct(le,ie){const fe=qe(le),Fe=fe.tokenObservers.filter(tt=>tt.next!==ie);0===Fe.length&&fe.tokenRefresher&&fe.tokenRefresher.isRunning()&&fe.tokenRefresher.stop(),fe.tokenObservers=Fe}function qn(le){const{app:ie}=le,fe=qe(ie);let Fe=fe.tokenRefresher;Fe||(Fe=function X(le){const{app:ie}=le;return new Je((0,Pe.Z)(function*(){let Fe;if(Fe=qe(ie).token?yield pt(le,!0):yield pt(le),Fe.error)throw Fe.error;if(Fe.internalError)throw Fe.internalError}),()=>!0,()=>{const fe=qe(ie);if(fe.token){let Fe=fe.token.issuedAtTimeMillis+.5*(fe.token.expireTimeMillis-fe.token.issuedAtTimeMillis)+3e5;return Fe=Math.min(Fe,fe.token.expireTimeMillis-3e5),Math.max(0,Fe-Date.now())}return 0},Ue.RETRIAL_MIN_WAIT,Ue.RETRIAL_MAX_WAIT)}(le),fe.tokenRefresher=Fe),!Fe.isRunning()&&fe.isTokenAutoRefreshEnabled&&Fe.start()}function oe(le){return le.expireTimeMillis-Date.now()>0}function Se(le){return{token:je(st),error:le}}class me{constructor(ie,fe){this.app=ie,this.heartbeatServiceProvider=fe}_delete(){const{tokenObservers:ie}=qe(this.app);for(const fe of ie)ct(this.app,fe.next);return Promise.resolve()}}const Tr="app-check-internal";!function Sr(){(0,Oe._registerComponent)(new We.wA("app-check",le=>function ft(le,ie){return new me(le,ie)}(le.getProvider("app").getImmediate(),le.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((le,ie,fe)=>{le.getProvider(Tr).initialize()})),(0,Oe._registerComponent)(new We.wA(Tr,le=>function ee(le){return{getToken:ie=>pt(le,ie),addTokenListener:ie=>function Nt(le,ie,fe,Fe){const{app:tt}=le,yt=qe(tt);if(yt.tokenObservers=[...yt.tokenObservers,{next:fe,error:Fe,type:ie}],yt.token&&oe(yt.token)){const In=yt.token;Promise.resolve().then(()=>{fe({token:In.token}),qn(le)}).catch(()=>{})}yt.cachedTokenPromise.then(()=>qn(le))}(le,"INTERNAL",ie),removeTokenListener:ie=>ct(le.app,ie)}}(le.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oe.registerVersion)("@firebase/app-check","0.6.4")}();class xn{constructor(){return(0,I.vb)("app-check")}}typeof window<"u"&&window},1205:(It,Ie,k)=>{k.d(Ie,{zQ:()=>x,rT:()=>nt,f7:()=>wt,L6:()=>Y,_Q:()=>Ae,lh:()=>qe,Qv:()=>Ye,nw:()=>ot});var I=k(4650),j=k(7579),F=k(9646),re=k(9751),ae=k(8996),de=k(6451),ge=k(5363),he=k(3900),_e=k(4004),q=k(6063);class Q extends j.x{constructor(Ce=1/0,Ue=1/0,ke=q.l){super(),this._bufferSize=Ce,this._windowTime=Ue,this._timestampProvider=ke,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ue===1/0,this._bufferSize=Math.max(1,Ce),this._windowTime=Math.max(1,Ue)}next(Ce){const{isStopped:Ue,_buffer:ke,_infiniteTimeWindow:Je,_timestampProvider:Xe,_windowTime:Lt}=this;Ue||(ke.push(Ce),!Je&&ke.push(Xe.now()+Lt)),this._trimBuffer(),super.next(Ce)}_subscribe(Ce){this._throwIfClosed(),this._trimBuffer();const Ue=this._innerSubscribe(Ce),{_infiniteTimeWindow:ke,_buffer:Je}=this,Xe=Je.slice();for(let Lt=0;Lt<Xe.length&&!Ce.closed;Lt+=ke?1:2)Ce.next(Xe[Lt]);return this._checkFinalizedStatuses(Ce),Ue}_trimBuffer(){const{_bufferSize:Ce,_timestampProvider:Ue,_buffer:ke,_infiniteTimeWindow:Je}=this,Xe=(Je?1:2)*Ce;if(Ce<1/0&&Xe<ke.length&&ke.splice(0,ke.length-Xe),!Je){const Lt=Ue.now();let it=0;for(let Dt=1;Dt<ke.length&&ke[Dt]<=Lt;Dt+=2)it=Dt;it&&ke.splice(0,it+1)}}}var se=k(3099);function Ke(Ee,Ce,Ue){let ke,Je=!1;return Ee&&"object"==typeof Ee?({bufferSize:ke=1/0,windowTime:Ce=1/0,refCount:Je=!1,scheduler:Ue}=Ee):ke=Ee??1/0,(0,se.B)({connector:()=>new Q(ke,Ce,Ue),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Je})}var Le=k(590),Ne=k(576);function _t(Ee,Ce){return(0,Ne.m)(Ce)?(0,he.w)(()=>Ee,Ce):(0,he.w)(()=>Ee)}var be=k(9468),Ve=k(9300),Be=k(2122),Qe=k(2011),Pe=k(6895),Oe=k(6217);k(9260);const Ye=new I.OlP("angularfire2.auth.use-emulator"),Y=new I.OlP("angularfire2.auth.settings"),Ae=new I.OlP("angularfire2.auth.tenant-id"),nt=new I.OlP("angularfire2.auth.langugage-code"),qe=new I.OlP("angularfire2.auth.use-device-language"),wt=new I.OlP("angularfire.auth.persistence"),ot=(Ee,Ce,Ue,ke,Je,Xe,Lt,it)=>(0,Qe.cc)(`${Ee.name}.auth`,"AngularFireAuth",Ee.name,()=>{const Dt=Ce.runOutsideAngular(()=>Ee.auth());if(Ue&&Dt.useEmulator(...Ue),ke&&(Dt.tenantId=ke),Dt.languageCode=Je,Xe&&Dt.useDeviceLanguage(),Lt)for(const[at,St]of Object.entries(Lt))Dt.settings[at]=St;return it&&Dt.setPersistence(it),Dt},[Ue,ke,Je,Xe,Lt,it]);let x=(()=>{class Ee{constructor(Ue,ke,Je,Xe,Lt,it,Dt,at,St,Qt,Jt,cn){const bn=new j.x,Zn=(0,F.of)(void 0).pipe((0,ge.Q)(Lt.outsideAngular),(0,he.w)(()=>Xe.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4217)))),(0,_e.U)(()=>(0,Qe.on)(Ue,Xe,ke)),(0,_e.U)(fn=>ot(fn,Xe,it,at,St,Qt,Dt,Jt)),Ke({bufferSize:1,refCount:!1}));if((0,Pe.PM)(Je))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,F.of)(null);else{Zn.pipe((0,Le.P)()).subscribe();const Fn=Zn.pipe((0,he.w)(bt=>bt.getRedirectResult().then(_n=>_n,()=>null)),Be.iC,Ke({bufferSize:1,refCount:!1})),Bn=Zn.pipe((0,he.w)(bt=>new re.y(_n=>({unsubscribe:Xe.runOutsideAngular(()=>bt.onAuthStateChanged(mt=>_n.next(mt),mt=>_n.error(mt),()=>_n.complete()))})))),Mn=Zn.pipe((0,he.w)(bt=>new re.y(_n=>({unsubscribe:Xe.runOutsideAngular(()=>bt.onIdTokenChanged(mt=>_n.next(mt),mt=>_n.error(mt),()=>_n.complete()))}))));this.authState=Fn.pipe(_t(Bn),(0,be.R)(Lt.outsideAngular),(0,ge.Q)(Lt.insideAngular)),this.user=Fn.pipe(_t(Mn),(0,be.R)(Lt.outsideAngular),(0,ge.Q)(Lt.insideAngular)),this.idToken=this.user.pipe((0,he.w)(bt=>bt?(0,ae.D)(bt.getIdToken()):(0,F.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(bt=>bt?(0,ae.D)(bt.getIdTokenResult()):(0,F.of)(null))),this.credential=(0,de.T)(Fn,bn,this.authState.pipe((0,Ve.h)(bt=>!bt))).pipe((0,_e.U)(bt=>bt?.user?bt:null),(0,be.R)(Lt.outsideAngular),(0,ge.Q)(Lt.insideAngular))}return(0,Qe.pX)(this,Zn,Xe,{spy:{apply:(fn,Fn,Bn)=>{(fn.startsWith("signIn")||fn.startsWith("createUser"))&&Bn.then(Mn=>bn.next(Mn))}}})}}return Ee.\u0275fac=function(Ue){return new(Ue||Ee)(I.LFG(Qe.Dh),I.LFG(Qe.xv,8),I.LFG(I.Lbi),I.LFG(I.R0b),I.LFG(Be.HU),I.LFG(Ye,8),I.LFG(Y,8),I.LFG(Ae,8),I.LFG(nt,8),I.LFG(qe,8),I.LFG(wt,8),I.LFG(Oe.nm,8))},Ee.\u0275prov=I.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"any"}),Ee})()},2011:(It,Ie,k)=>{k.d(Ie,{Dh:()=>he,GT:()=>de,cc:()=>Le,hO:()=>Ke,on:()=>q,pX:()=>ae,xv:()=>_e});var I=k(4650),j=k(9260),F=k(2122);It=k.hmd(It);const re=["ngOnDestroy"],ae=(Ve,Be,Qe,Pe={})=>new Proxy(Ve,{get:(Oe,We)=>Qe.runOutsideAngular(()=>{var et;if(Ve[We])return!(null===(et=Pe?.spy)||void 0===et)&&et.get&&Pe.spy.get(We,Ve[We]),Ve[We];if(re.indexOf(We)>-1)return()=>{};const Ye=Be.toPromise().then(Y=>{const Ae=Y&&Y[We];return"function"==typeof Ae?Ae.bind(Y):Ae&&Ae.then?Ae.then(nt=>Qe.run(()=>nt)):Qe.run(()=>Ae)});return new Proxy(()=>{},{get:(Y,Ae)=>Ye[Ae],apply:(Y,Ae,nt)=>Ye.then(qe=>{var wt;const ot=qe&&qe(...nt);return!(null===(wt=Pe?.spy)||void 0===wt)&&wt.apply&&Pe.spy.apply(We,nt,ot),ot})})})}),de=(Ve,Be)=>{Be.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Pe=>{Object.defineProperty(Ve.prototype,Pe,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Pe))})})};class ge{constructor(Be){return Be}}const he=new I.OlP("angularfire2.app.options"),_e=new I.OlP("angularfire2.app.name");function q(Ve,Be,Qe){const Oe="object"==typeof Qe&&Qe||{};Oe.name=Oe.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const et=j.Z.apps.filter(Ye=>Ye&&Ye.name===Oe.name)[0]||Be.runOutsideAngular(()=>j.Z.initializeApp(Ve,Oe));try{JSON.stringify(Ve)!==JSON.stringify(et.options)&&Q("error",`${et.name} Firebase App already initialized with different options${It.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(et)}const Q=(Ve,...Be)=>{(0,I.X6Q)()&&typeof console<"u"&&console[Ve](...Be)},se={provide:ge,useFactory:q,deps:[he,I.R0b,[new I.FiY,_e]]};let Ke=(()=>{class Ve{constructor(Qe){j.Z.registerVersion("angularfire",F.q4.full,"core"),j.Z.registerVersion("angularfire",F.q4.full,"app-compat"),j.Z.registerVersion("angular",I.q4F.full,Qe.toString())}static initializeApp(Qe,Pe){return{ngModule:Ve,providers:[{provide:he,useValue:Qe},{provide:_e,useValue:Pe}]}}}return Ve.\u0275fac=function(Qe){return new(Qe||Ve)(I.LFG(I.Lbi))},Ve.\u0275mod=I.oAB({type:Ve}),Ve.\u0275inj=I.cJS({providers:[se]}),Ve})();function Le(Ve,Be,Qe,Pe,Oe){const[,We,et]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===Ve)||[];if(We)return function Ne(Ve,Be){try{return Ve.toString()===Be.toString()}catch{return Ve===Be}}(Oe,et)||(be("error",`${Be} was already initialized on the ${Qe} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Oe,was:et})),We;{const Ye=Pe();return globalThis.\u0275AngularfireInstanceCache.push([Ve,Ye,Oe]),Ye}}const _t=!!It.hot,be=(Ve,...Be)=>{(0,I.X6Q)()&&typeof console<"u"&&console[Ve](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(It,Ie,k)=>{k.d(Ie,{q4:()=>Ti,iC:()=>v,HU:()=>$a,vb:()=>Wo,JM:()=>ji});var I=k(4650),j=k(259),F=k(5861),re=k(9681),ae=k(2090),de=k(4859),ge=k(1877),he=k(8766);const _e="@firebase/installations",q="0.6.4",Q=1e4,se=`w:${q}`,Ke="FIS_v2",Le="https://firebaseinstallations.googleapis.com/v1",Ne=36e5,Be=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(h){return h instanceof ae.ZR&&h.code.includes("request-failed")}function Pe({projectId:h}){return`${Le}/projects/${h}/installations`}function Oe(h){return{token:h.token,requestStatus:2,expiresIn:qe(h.expiresIn),creationTime:Date.now()}}function We(h,y){return et.apply(this,arguments)}function et(){return(et=(0,F.Z)(function*(h,y){const L=(yield y.json()).error;return Be.create("request-failed",{requestName:h,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ye({apiKey:h}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":h})}function Ae(h){return nt.apply(this,arguments)}function nt(){return(nt=(0,F.Z)(function*(h){const y=yield h();return y.status>=500&&y.status<600?h():y})).apply(this,arguments)}function qe(h){return Number(h.replace("s","000"))}function x(){return(x=(0,F.Z)(function*({appConfig:h,heartbeatServiceProvider:y},{fid:A}){const L=Pe(h),G=Ye(h),te=y.getImmediate({optional:!0});if(te){const At=yield te.getHeartbeatsHeader();At&&G.append("x-firebase-client",At)}const ut={method:"POST",headers:G,body:JSON.stringify({fid:A,authVersion:Ke,appId:h.appId,sdkVersion:se})},Et=yield Ae(()=>fetch(L,ut));if(Et.ok){const At=yield Et.json();return{fid:At.fid||A,registrationStatus:2,refreshToken:At.refreshToken,authToken:Oe(At.authToken)}}throw yield We("Create Installation",Et)})).apply(this,arguments)}function De(h){return new Promise(y=>{setTimeout(y,h)})}const Ce=/^[cdef][\w-]{21}$/,Ue="";function ke(){try{const h=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(h),h[0]=112+h[0]%16;const A=function Je(h){return function Ee(h){return btoa(String.fromCharCode(...h)).replace(/\+/g,"-").replace(/\//g,"_")}(h).substr(0,22)}(h);return Ce.test(A)?A:Ue}catch{return Ue}}function Xe(h){return`${h.appName}!${h.appId}`}const Lt=new Map;function it(h,y){const A=Xe(h);St(A,y),function Qt(h,y){const A=function cn(){return!Jt&&"BroadcastChannel"in self&&(Jt=new BroadcastChannel("[Firebase] FID Change"),Jt.onmessage=h=>{St(h.data.key,h.data.fid)}),Jt}();A&&A.postMessage({key:h,fid:y}),function bn(){0===Lt.size&&Jt&&(Jt.close(),Jt=null)}()}(A,y)}function St(h,y){const A=Lt.get(h);if(A)for(const L of A)L(y)}let Jt=null;const Zn="firebase-installations-database",fn=1,Fn="firebase-installations-store";let Bn=null;function Mn(){return Bn||(Bn=(0,he.X3)(Zn,fn,{upgrade:(h,y)=>{0===y&&h.createObjectStore(Fn)}})),Bn}function bt(h,y){return _n.apply(this,arguments)}function _n(){return(_n=(0,F.Z)(function*(h,y){const A=Xe(h),G=(yield Mn()).transaction(Fn,"readwrite"),te=G.objectStore(Fn),we=yield te.get(A);return yield te.put(y,A),yield G.done,(!we||we.fid!==y.fid)&&it(h,y.fid),y})).apply(this,arguments)}function mt(h){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,F.Z)(function*(h){const y=Xe(h),L=(yield Mn()).transaction(Fn,"readwrite");yield L.objectStore(Fn).delete(y),yield L.done})).apply(this,arguments)}function Vn(h,y){return yn.apply(this,arguments)}function yn(){return(yn=(0,F.Z)(function*(h,y){const A=Xe(h),G=(yield Mn()).transaction(Fn,"readwrite"),te=G.objectStore(Fn),we=yield te.get(A),ut=y(we);return void 0===ut?yield te.delete(A):yield te.put(ut,A),yield G.done,ut&&(!we||we.fid!==ut.fid)&&it(h,ut.fid),ut})).apply(this,arguments)}function Pn(h){return $r.apply(this,arguments)}function $r(){return $r=(0,F.Z)(function*(h){let y;const A=yield Vn(h.appConfig,L=>{const G=function Ft(h){return kn(h||{fid:ke(),registrationStatus:0})}(L),te=function vt(h,y){if(0===y.registrationStatus){if(!navigator.onLine)return{installationEntry:y,registrationPromise:Promise.reject(Be.create("app-offline"))};const A={fid:y.fid,registrationStatus:1,registrationTime:Date.now()},L=function Rt(h,y){return An.apply(this,arguments)}(h,A);return{installationEntry:A,registrationPromise:L}}return 1===y.registrationStatus?{installationEntry:y,registrationPromise:vn(h)}:{installationEntry:y}}(h,G);return y=te.registrationPromise,te.installationEntry});return A.fid===Ue?{installationEntry:yield y}:{installationEntry:A,registrationPromise:y}}),$r.apply(this,arguments)}function An(){return An=(0,F.Z)(function*(h,y){try{const A=yield function ot(h,y){return x.apply(this,arguments)}(h,y);return bt(h.appConfig,A)}catch(A){throw Qe(A)&&409===A.customData.serverCode?yield mt(h.appConfig):yield bt(h.appConfig,{fid:y.fid,registrationStatus:0}),A}}),An.apply(this,arguments)}function vn(h){return $n.apply(this,arguments)}function $n(){return($n=(0,F.Z)(function*(h){let y=yield dn(h.appConfig);for(;1===y.registrationStatus;)yield De(100),y=yield dn(h.appConfig);if(0===y.registrationStatus){const{installationEntry:A,registrationPromise:L}=yield Pn(h);return L||A}return y})).apply(this,arguments)}function dn(h){return Vn(h,y=>{if(!y)throw Be.create("installation-not-found");return kn(y)})}function kn(h){return function qr(h){return 1===h.registrationStatus&&h.registrationTime+Q<Date.now()}(h)?{fid:h.fid,registrationStatus:0}:h}function Ir(){return(Ir=(0,F.Z)(function*({appConfig:h,heartbeatServiceProvider:y},A){const L=function an(h,{fid:y}){return`${Pe(h)}/${y}/authTokens:generate`}(h,A),G=function Y(h,{refreshToken:y}){const A=Ye(h);return A.append("Authorization",function wt(h){return`${Ke} ${h}`}(y)),A}(h,A),te=y.getImmediate({optional:!0});if(te){const At=yield te.getHeartbeatsHeader();At&&G.append("x-firebase-client",At)}const ut={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:se,appId:h.appId}})},Et=yield Ae(()=>fetch(L,ut));if(Et.ok)return Oe(yield Et.json());throw yield We("Generate Auth Token",Et)})).apply(this,arguments)}function Yn(h){return Or.apply(this,arguments)}function Or(){return Or=(0,F.Z)(function*(h,y=!1){let A;const L=yield Vn(h.appConfig,te=>{if(!ct(te))throw Be.create("not-registered");const we=te.authToken;if(!y&&function qn(h){return 2===h.requestStatus&&!function X(h){const y=Date.now();return y<h.creationTime||h.creationTime+h.expiresIn<y+Ne}(h)}(we))return te;if(1===we.requestStatus)return A=function st(h,y){return je.apply(this,arguments)}(h,y),te;{if(!navigator.onLine)throw Be.create("app-offline");const ut=function K(h){const y={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},h),{authToken:y})}(te);return A=function Pt(h,y){return Nt.apply(this,arguments)}(h,ut),ut}});return A?yield A:L.authToken}),Or.apply(this,arguments)}function je(){return(je=(0,F.Z)(function*(h,y){let A=yield pt(h.appConfig);for(;1===A.authToken.requestStatus;)yield De(100),A=yield pt(h.appConfig);const L=A.authToken;return 0===L.requestStatus?Yn(h,y):L})).apply(this,arguments)}function pt(h){return Vn(h,y=>{if(!ct(y))throw Be.create("not-registered");return function oe(h){return 1===h.requestStatus&&h.requestTime+Q<Date.now()}(y.authToken)?Object.assign(Object.assign({},y),{authToken:{requestStatus:0}}):y})}function Nt(){return Nt=(0,F.Z)(function*(h,y){try{const A=yield function En(h,y){return Ir.apply(this,arguments)}(h,y),L=Object.assign(Object.assign({},y),{authToken:A});return yield bt(h.appConfig,L),A}catch(A){if(!Qe(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const L=Object.assign(Object.assign({},y),{authToken:{requestStatus:0}});yield bt(h.appConfig,L)}else yield mt(h.appConfig);throw A}}),Nt.apply(this,arguments)}function ct(h){return void 0!==h&&2===h.registrationStatus}function me(){return(me=(0,F.Z)(function*(h){const y=h,{installationEntry:A,registrationPromise:L}=yield Pn(y);return L?L.catch(console.error):Yn(y).catch(console.error),A.fid})).apply(this,arguments)}function ee(){return ee=(0,F.Z)(function*(h,y=!1){const A=h;return yield function ne(h){return H.apply(this,arguments)}(A),(yield Yn(A,y)).token}),ee.apply(this,arguments)}function H(){return(H=(0,F.Z)(function*(h){const{registrationPromise:y}=yield Pn(h);y&&(yield y)})).apply(this,arguments)}function zi(h){return Be.create("missing-app-config-values",{valueName:h})}const Mi="installations",Qn=h=>{const y=h.getProvider("app").getImmediate(),A=function ni(h){if(!h||!h.options)throw zi("App Configuration");if(!h.name)throw zi("App Name");const y=["projectId","apiKey","appId"];for(const A of y)if(!h.options[A])throw zi(A);return{appName:h.name,projectId:h.options.projectId,apiKey:h.options.apiKey,appId:h.options.appId}}(y);return{app:y,appConfig:A,heartbeatServiceProvider:(0,re._getProvider)(y,"heartbeat"),_delete:()=>Promise.resolve()}},ls=h=>{const y=h.getProvider("app").getImmediate(),A=(0,re._getProvider)(y,Mi).getImmediate();return{getId:()=>function Se(h){return me.apply(this,arguments)}(A),getToken:G=>function ft(h){return ee.apply(this,arguments)}(A,G)}};(function us(){(0,re._registerComponent)(new de.wA(Mi,Qn,"PUBLIC")),(0,re._registerComponent)(new de.wA("installations-internal",ls,"PRIVATE"))})(),(0,re.registerVersion)(_e,q),(0,re.registerVersion)(_e,q,"esm2017");const gn="@firebase/remote-config",Hn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ki{constructor(y,A,L,G){this.client=y,this.storage=A,this.storageCache=L,this.logger=G}isCachedDataFresh(y,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-A,G=L<=y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${y}. Is cache hit: ${G}.`),G}fetch(y){var A=this;return(0,F.Z)(function*(){const[L,G]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(G&&A.isCachedDataFresh(y.cacheMaxAgeMillis,L))return G;y.eTag=G&&G.eTag;const te=yield A.client.fetch(y),we=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&we.push(A.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(we),te})()}}function Ys(h=navigator){return h.languages&&h.languages[0]||h.language}class Tn{constructor(y,A,L,G,te,we){this.firebaseInstallations=y,this.sdkVersion=A,this.namespace=L,this.projectId=G,this.apiKey=te,this.appId=we}fetch(y){var A=this;return(0,F.Z)(function*(){const[L,G]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),we=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,ut={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":y.eTag||"*"},Et={sdk_version:A.sdkVersion,app_instance_id:L,app_instance_id_token:G,app_id:A.appId,language_code:Ys()},At={method:"POST",headers:ut,body:JSON.stringify(Et)},tn=fetch(we,At),kt=new Promise((Si,rs)=>{y.signal.addEventListener(()=>{const ua=new Error("The operation was aborted.");ua.name="AbortError",rs(ua)})});let Kr;try{yield Promise.race([tn,kt]),Kr=yield tn}catch(Si){let rs="fetch-client-network";throw"AbortError"===Si?.name&&(rs="fetch-timeout"),Hn.create(rs,{originalErrorMessage:Si?.message})}let br=Kr.status;const Ms=Kr.headers.get("ETag")||void 0;let ja,la;if(200===Kr.status){let Si;try{Si=yield Kr.json()}catch(rs){throw Hn.create("fetch-client-parse",{originalErrorMessage:rs?.message})}ja=Si.entries,la=Si.state}if("INSTANCE_STATE_UNSPECIFIED"===la?br=500:"NO_CHANGE"===la?br=304:("NO_TEMPLATE"===la||"EMPTY_CONFIG"===la)&&(ja={}),304!==br&&200!==br)throw Hn.create("fetch-status",{httpStatus:br});return{status:br,eTag:Ms,config:ja}})()}}class ie{constructor(y,A){this.client=y,this.storage=A}fetch(y){var A=this;return(0,F.Z)(function*(){const L=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(y,L)})()}attemptFetch(y,{throttleEndTimeMillis:A,backoffCount:L}){var G=this;return(0,F.Z)(function*(){yield function Hr(h,y){return new Promise((A,L)=>{const G=Math.max(y-Date.now(),0),te=setTimeout(A,G);h.addEventListener(()=>{clearTimeout(te),L(Hn.create("fetch-throttle",{throttleEndTimeMillis:y}))})})}(y.signal,A);try{const te=yield G.client.fetch(y);return yield G.storage.deleteThrottleMetadata(),te}catch(te){if(!function le(h){if(!(h instanceof ae.ZR&&h.customData))return!1;const y=Number(h.customData.httpStatus);return 429===y||500===y||503===y||504===y}(te))throw te;const we={throttleEndTimeMillis:Date.now()+(0,ae.$s)(L),backoffCount:L+1};return yield G.storage.setThrottleMetadata(we),G.attemptFetch(y,we)}})()}}class tt{constructor(y,A,L,G,te){this.app=y,this._client=A,this._storageCache=L,this._storage=G,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yt(h,y){const A=h.target.error||void 0;return Hn.create(y,{originalErrorMessage:A&&A?.message})}const Kt="app_namespace_store";class ln{constructor(y,A,L,G=function hn(){return new Promise((h,y)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=L=>{y(yt(L,"storage-open"))},A.onsuccess=L=>{h(L.target.result)},A.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Kt,{keyPath:"compositeKey"})}}catch(A){y(Hn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=y,this.appName=A,this.namespace=L,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(y){return this.set("last_fetch_status",y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(y){return this.set("last_successful_fetch_timestamp_millis",y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(y){return this.set("last_successful_fetch_response",y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(y){return this.set("active_config",y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(y){return this.set("active_config_etag",y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(y){return this.set("throttle_metadata",y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(y){var A=this;return(0,F.Z)(function*(){const L=yield A.openDbPromise;return new Promise((G,te)=>{const ut=L.transaction([Kt],"readonly").objectStore(Kt),Et=A.createCompositeKey(y);try{const At=ut.get(Et);At.onerror=tn=>{te(yt(tn,"storage-get"))},At.onsuccess=tn=>{const kt=tn.target.result;G(kt?kt.value:void 0)}}catch(At){te(Hn.create("storage-get",{originalErrorMessage:At?.message}))}})})()}set(y,A){var L=this;return(0,F.Z)(function*(){const G=yield L.openDbPromise;return new Promise((te,we)=>{const Et=G.transaction([Kt],"readwrite").objectStore(Kt),At=L.createCompositeKey(y);try{const tn=Et.put({compositeKey:At,value:A});tn.onerror=kt=>{we(yt(kt,"storage-set"))},tn.onsuccess=()=>{te()}}catch(tn){we(Hn.create("storage-set",{originalErrorMessage:tn?.message}))}})})()}delete(y){var A=this;return(0,F.Z)(function*(){const L=yield A.openDbPromise;return new Promise((G,te)=>{const ut=L.transaction([Kt],"readwrite").objectStore(Kt),Et=A.createCompositeKey(y);try{const At=ut.delete(Et);At.onerror=tn=>{te(yt(tn,"storage-delete"))},At.onsuccess=()=>{G()}}catch(At){te(Hn.create("storage-delete",{originalErrorMessage:At?.message}))}})})()}createCompositeKey(y){return[this.appId,this.appName,this.namespace,y].join()}}class Ut{constructor(y){this.storage=y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var y=this;return(0,F.Z)(function*(){const A=y.storage.getLastFetchStatus(),L=y.storage.getLastSuccessfulFetchTimestampMillis(),G=y.storage.getActiveConfig(),te=yield A;te&&(y.lastFetchStatus=te);const we=yield L;we&&(y.lastSuccessfulFetchTimestampMillis=we);const ut=yield G;ut&&(y.activeConfig=ut)})()}setLastFetchStatus(y){return this.lastFetchStatus=y,this.storage.setLastFetchStatus(y)}setLastSuccessfulFetchTimestampMillis(y){return this.lastSuccessfulFetchTimestampMillis=y,this.storage.setLastSuccessfulFetchTimestampMillis(y)}setActiveConfig(y){return this.activeConfig=y,this.storage.setActiveConfig(y)}}function qs(){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,F.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Xn(){(0,re._registerComponent)(new de.wA("remote-config",function h(y,{instanceIdentifier:A}){const L=y.getProvider("app").getImmediate(),G=y.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Hn.create("registration-window");if(!(0,ae.hl)())throw Hn.create("indexed-db-unavailable");const{projectId:te,apiKey:we,appId:ut}=L.options;if(!te)throw Hn.create("registration-project-id");if(!we)throw Hn.create("registration-api-key");if(!ut)throw Hn.create("registration-app-id");const Et=new ln(ut,L.name,A=A||"firebase"),At=new Ut(Et),tn=new ge.Yd(gn);tn.logLevel=ge.in.ERROR;const kt=new Tn(G,re.SDK_VERSION,A,te,we,ut),Kr=new ie(kt,Et),br=new Ki(Kr,Et,At,tn),Ms=new tt(L,br,At,Et,tn);return function jr(h){const y=(0,ae.m9)(h);y._initializePromise||(y._initializePromise=y._storageCache.loadFromStorage().then(()=>{y._isInitializationComplete=!0}))}(Ms),Ms},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(gn,"0.4.4"),(0,re.registerVersion)(gn,"0.4.4","esm2017")}();const go="/firebase-messaging-sw.js",Sn="/firebase-cloud-messaging-push-scope",Xt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pr="https://fcmregistrations.googleapis.com/v1",xo="google.c.a.c_id",ko="google.c.a.c_l",Wr="google.c.a.ts",Qo="google.c.a.e";var Ar=(()=>{return(h=Ar||(Ar={})).PUSH_RECEIVED="push-received",h.NOTIFICATION_CLICKED="notification-clicked",Ar;var h})();function Dr(h){const y=new Uint8Array(h);return btoa(String.fromCharCode(...y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ds(h){const A=(h+"=".repeat((4-h.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(A),G=new Uint8Array(L.length);for(let te=0;te<L.length;++te)G[te]=L.charCodeAt(te);return G}const Yi="fcm_token_details_db",Oi=5,mr="fcm_token_object_Store";function Jo(){return Jo=(0,F.Z)(function*(h){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Yi))return null;let y=null;return(yield(0,he.X3)(Yi,Oi,{upgrade:(L=(0,F.Z)(function*(G,te,we,ut){var Et;if(te<2||!G.objectStoreNames.contains(mr))return;const At=ut.objectStore(mr),tn=yield At.index("fcmSenderId").get(h);if(yield At.clear(),tn)if(2===te){const kt=tn;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;y={token:kt.fcmToken,createTime:null!==(Et=kt.createTime)&&void 0!==Et?Et:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:Dr(kt.vapidKey)}}}else if(3===te){const kt=tn;y={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Dr(kt.auth),p256dh:Dr(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Dr(kt.vapidKey)}}}else if(4===te){const kt=tn;y={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Dr(kt.auth),p256dh:Dr(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Dr(kt.vapidKey)}}}}),function(te,we,ut,Et){return L.apply(this,arguments)})})).close(),yield(0,he.Lj)(Yi),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),function si(h){if(!h||!h.subscriptionOptions)return!1;const{subscriptionOptions:y}=h;return"number"==typeof h.createTime&&h.createTime>0&&"string"==typeof h.token&&h.token.length>0&&"string"==typeof y.auth&&y.auth.length>0&&"string"==typeof y.p256dh&&y.p256dh.length>0&&"string"==typeof y.endpoint&&y.endpoint.length>0&&"string"==typeof y.swScope&&y.swScope.length>0&&"string"==typeof y.vapidKey&&y.vapidKey.length>0}(y)?y:null;var L}),Jo.apply(this,arguments)}const Qs="firebase-messaging-database",xs=1,Rr="firebase-messaging-store";let sn=null;function gi(){return sn||(sn=(0,he.X3)(Qs,xs,{upgrade:(h,y)=>{0===y&&h.createObjectStore(Rr)}})),sn}function qi(h){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,F.Z)(function*(h){const y=lr(h),L=yield(yield gi()).transaction(Rr).objectStore(Rr).get(y);if(L)return L;{const G=yield function Lo(h){return Jo.apply(this,arguments)}(h.appConfig.senderId);if(G)return yield Mr(h,G),G}}),Qr.apply(this,arguments)}function Mr(h,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,F.Z)(function*(h,y){const A=lr(h),G=(yield gi()).transaction(Rr,"readwrite");return yield G.objectStore(Rr).put(y,A),yield G.done,y})).apply(this,arguments)}function Cr(){return(Cr=(0,F.Z)(function*(h){const y=lr(h),L=(yield gi()).transaction(Rr,"readwrite");yield L.objectStore(Rr).delete(y),yield L.done})).apply(this,arguments)}function lr({appConfig:h}){return h.appId}const un=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Js(h,y){return oi.apply(this,arguments)}function oi(){return(oi=(0,F.Z)(function*(h,y){const A=yield _o(h),L=yo(y),G={method:"POST",headers:A,body:JSON.stringify(L)};let te;try{te=yield(yield fetch(hr(h.appConfig),G)).json()}catch(we){throw un.create("token-subscribe-failed",{errorInfo:we?.toString()})}if(te.error)throw un.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw un.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function hs(){return(hs=(0,F.Z)(function*(h,y){const A=yield _o(h),L=yo(y.subscriptionOptions),G={method:"PATCH",headers:A,body:JSON.stringify(L)};let te;try{te=yield(yield fetch(`${hr(h.appConfig)}/${y.token}`,G)).json()}catch(we){throw un.create("token-update-failed",{errorInfo:we?.toString()})}if(te.error)throw un.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw un.create("token-update-no-token");return te.token})).apply(this,arguments)}function xi(h,y){return zr.apply(this,arguments)}function zr(){return(zr=(0,F.Z)(function*(h,y){const L={method:"DELETE",headers:yield _o(h)};try{const te=yield(yield fetch(`${hr(h.appConfig)}/${y}`,L)).json();if(te.error)throw un.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(G){throw un.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function hr({projectId:h}){return`${pr}/projects/${h}/registrations`}function _o(h){return fs.apply(this,arguments)}function fs(){return(fs=(0,F.Z)(function*({appConfig:h,installations:y}){const A=yield y.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":h.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function yo({p256dh:h,auth:y,endpoint:A,vapidKey:L}){const G={web:{endpoint:A,auth:y,p256dh:h}};return L!==Xt&&(G.web.applicationPubKey=L),G}const ki=6048e5;function ks(){return ks=(0,F.Z)(function*(h){const y=yield function Wt(h,y){return Fo.apply(this,arguments)}(h.swRegistration,h.vapidKey),A={vapidKey:h.vapidKey,swScope:h.swRegistration.scope,endpoint:y.endpoint,auth:Dr(y.getKey("auth")),p256dh:Dr(y.getKey("p256dh"))},L=yield qi(h.firebaseDependencies);if(L){if(function gs(h,y){return y.vapidKey===h.vapidKey&&y.endpoint===h.endpoint&&y.auth===h.auth&&y.p256dh===h.p256dh}(L.subscriptionOptions,A))return Date.now()>=L.createTime+ki?function vo(h,y){return mi.apply(this,arguments)}(h,{token:L.token,createTime:Date.now(),subscriptionOptions:A}):L.token;try{yield xi(h.firebaseDependencies,L.token)}catch(G){console.warn(G)}return ar(h.firebaseDependencies,A)}return ar(h.firebaseDependencies,A)}),ks.apply(this,arguments)}function ps(){return ps=(0,F.Z)(function*(h){const y=yield qi(h.firebaseDependencies);y&&(yield xi(h.firebaseDependencies,y.token),yield function xr(h){return Cr.apply(this,arguments)}(h.firebaseDependencies));const A=yield h.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),ps.apply(this,arguments)}function mi(){return mi=(0,F.Z)(function*(h,y){try{const A=yield function or(h,y){return hs.apply(this,arguments)}(h.firebaseDependencies,y),L=Object.assign(Object.assign({},y),{token:A,createTime:Date.now()});return yield Mr(h.firebaseDependencies,L),A}catch(A){throw yield function Zt(h){return ps.apply(this,arguments)}(h),A}}),mi.apply(this,arguments)}function ar(h,y){return Li.apply(this,arguments)}function Li(){return(Li=(0,F.Z)(function*(h,y){const L={token:yield Js(h,y),createTime:Date.now(),subscriptionOptions:y};return yield Mr(h,L),L.token})).apply(this,arguments)}function Fo(){return(Fo=(0,F.Z)(function*(h,y){return(yield h.pushManager.getSubscription())||h.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ds(y)})})).apply(this,arguments)}function Ze(h){const y={from:h.from,collapseKey:h.collapse_key,messageId:h.fcmMessageId};return function Ot(h,y){if(!y.notification)return;h.notification={};const A=y.notification.title;A&&(h.notification.title=A);const L=y.notification.body;L&&(h.notification.body=L);const G=y.notification.image;G&&(h.notification.image=G);const te=y.notification.icon;te&&(h.notification.icon=te)}(y,h),function er(h,y){y.data&&(h.data=y.data)}(y,h),function ya(h,y){var A,L,G,te,we;if(!(y.fcmOptions||null!==(A=y.notification)&&void 0!==A&&A.click_action))return;h.fcmOptions={};const ut=null!==(G=null===(L=y.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==G?G:null===(te=y.notification)||void 0===te?void 0:te.click_action;ut&&(h.fcmOptions.link=ut);const Et=null===(we=y.fcmOptions)||void 0===we?void 0:we.analytics_label;Et&&(h.fcmOptions.analyticsLabel=Et)}(y,h),y}function ms(h,y){const A=[];for(let L=0;L<h.length;L++)A.push(h.charAt(L)),L<y.length&&A.push(y.charAt(L));return A.join("")}function yr(h){return un.create("missing-app-config-values",{valueName:h})}ms("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ms("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _i{constructor(y,A,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function Fi(h){if(!h||!h.options)throw yr("App Configuration Object");if(!h.name)throw yr("App Name");const y=["projectId","apiKey","appId","messagingSenderId"],{options:A}=h;for(const L of y)if(!A[L])throw yr(L);return{appName:h.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(y);this.firebaseDependencies={app:y,appConfig:G,installations:A,analyticsProvider:L}}_delete(){return Promise.resolve()}}function yi(h){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,F.Z)(function*(h){try{h.swRegistration=yield navigator.serviceWorker.register(go,{scope:Sn}),h.swRegistration.update().catch(()=>{})}catch(y){throw un.create("failed-service-worker-registration",{browserErrorMessage:y?.message})}})).apply(this,arguments)}function Uo(){return(Uo=(0,F.Z)(function*(h,y){if(!y&&!h.swRegistration&&(yield yi(h)),y||!h.swRegistration){if(!(y instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");h.swRegistration=y}})).apply(this,arguments)}function ai(){return(ai=(0,F.Z)(function*(h,y){y?h.vapidKey=y:h.vapidKey||(h.vapidKey=Xt)})).apply(this,arguments)}function Ui(){return Ui=(0,F.Z)(function*(h,y){if(!navigator)throw un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw un.create("permission-blocked");return yield function ur(h,y){return ai.apply(this,arguments)}(h,y?.vapidKey),yield function Xs(h,y){return Uo.apply(this,arguments)}(h,y?.serviceWorkerRegistration),function On(h){return ks.apply(this,arguments)}(h)}),Ui.apply(this,arguments)}function Io(){return(Io=(0,F.Z)(function*(h,y,A){const L=function Qi(h){switch(h){case Ar.NOTIFICATION_CLICKED:return"notification_open";case Ar.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(y);(yield h.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:A[xo],message_name:A[ko],message_time:A[Wr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ys(){return ys=(0,F.Z)(function*(h,y){const A=y.data;if(!A.isFirebaseMessaging)return;h.onMessageHandler&&A.messageType===Ar.PUSH_RECEIVED&&("function"==typeof h.onMessageHandler?h.onMessageHandler(Ze(A)):h.onMessageHandler.next(Ze(A)));const L=A.data;(function Wn(h){return"object"==typeof h&&!!h&&xo in h})(L)&&"1"===L[Qo]&&(yield function vr(h,y,A){return Io.apply(this,arguments)}(h,A.messageType,L))}),ys.apply(this,arguments)}const to="@firebase/messaging",no=h=>{const y=new _i(h.getProvider("app").getImmediate(),h.getProvider("installations-internal").getImmediate(),h.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function _s(h,y){return ys.apply(this,arguments)}(y,A)),y},Bi=h=>{const y=h.getProvider("messaging").getImmediate();return{getToken:L=>function eo(h,y){return Ui.apply(this,arguments)}(y,L)}};function vs(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,F.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Do(){(0,re._registerComponent)(new de.wA("messaging",no,"PUBLIC")),(0,re._registerComponent)(new de.wA("messaging-internal",Bi,"PRIVATE")),(0,re.registerVersion)(to,"0.12.4"),(0,re.registerVersion)(to,"0.12.4","esm2017")}();const vi="analytics",nr="firebase_id",ta="origin",Ji=6e4,li="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ei="https://www.googletagmanager.com/gtag/js",rr=new ge.Yd("@firebase/analytics");function ui(h){return Promise.all(h.map(y=>y.catch(A=>A)))}function Us(){return(Us=(0,F.Z)(function*(h,y,A,L,G,te){const we=L[G];try{if(we)yield y[we];else{const Et=(yield ui(A)).find(At=>At.measurementId===G);Et&&(yield y[Et.appId])}}catch(ut){rr.error(ut)}h("config",G,te)})).apply(this,arguments)}function w(){return(w=(0,F.Z)(function*(h,y,A,L,G){try{let te=[];if(G&&G.send_to){let we=G.send_to;Array.isArray(we)||(we=[we]);const ut=yield ui(A);for(const Et of we){const At=ut.find(kt=>kt.measurementId===Et),tn=At&&y[At.appId];if(!tn){te=[];break}te.push(tn)}}0===te.length&&(te=Object.values(y)),yield Promise.all(te),h("event",L,G||{})}catch(te){rr.error(te)}})).apply(this,arguments)}const ye=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),$e=30,Dn=new class Yt{constructor(y={},A=1e3){this.throttleMetadata=y,this.intervalMillis=A}getThrottleMetadata(y){return this.throttleMetadata[y]}setThrottleMetadata(y,A){this.throttleMetadata[y]=A}deleteThrottleMetadata(y){delete this.throttleMetadata[y]}};function Rn(h){return new Headers({Accept:"application/json","x-goog-api-key":h})}function ir(){return(ir=(0,F.Z)(function*(h){var y;const{appId:A,apiKey:L}=h,G={method:"GET",headers:Rn(L)},te=li.replace("{app-id}",A),we=yield fetch(te,G);if(200!==we.status&&304!==we.status){let ut="";try{const Et=yield we.json();null!==(y=Et.error)&&void 0!==y&&y.message&&(ut=Et.error.message)}catch{}throw ye.create("config-fetch-failed",{httpStatus:we.status,responseMessage:ut})}return we.json()})).apply(this,arguments)}function zn(){return(zn=(0,F.Z)(function*(h,y=Dn,A){const{appId:L,apiKey:G,measurementId:te}=h.options;if(!L)throw ye.create("no-app-id");if(!G){if(te)return{measurementId:te,appId:L};throw ye.create("no-api-key")}const we=y.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ut=new Di;return setTimeout((0,F.Z)(function*(){ut.abort()}),void 0!==A?A:Ji),Er({appId:L,apiKey:G,measurementId:te},we,ut,y)})).apply(this,arguments)}function Er(h,y,A){return wr.apply(this,arguments)}function wr(){return wr=(0,F.Z)(function*(h,{throttleEndTimeMillis:y,backoffCount:A},L,G=Dn){var te;const{appId:we,measurementId:ut}=h;try{yield function _r(h,y){return new Promise((A,L)=>{const G=Math.max(y-Date.now(),0),te=setTimeout(A,G);h.addEventListener(()=>{clearTimeout(te),L(ye.create("fetch-throttle",{throttleEndTimeMillis:y}))})})}(L,y)}catch(Et){if(ut)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${Et?.message}]`),{appId:we,measurementId:ut};throw Et}try{const Et=yield function en(h){return ir.apply(this,arguments)}(h);return G.deleteThrottleMetadata(we),Et}catch(Et){const At=Et;if(!function Vi(h){if(!(h instanceof ae.ZR&&h.customData))return!1;const y=Number(h.customData.httpStatus);return 429===y||500===y||503===y||504===y}(At)){if(G.deleteThrottleMetadata(we),ut)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:we,measurementId:ut};throw Et}const tn=503===Number(null===(te=At?.customData)||void 0===te?void 0:te.httpStatus)?(0,ae.$s)(A,G.intervalMillis,$e):(0,ae.$s)(A,G.intervalMillis),kt={throttleEndTimeMillis:Date.now()+tn,backoffCount:A+1};return G.setThrottleMetadata(we,kt),rr.debug(`Calling attemptFetch again in ${tn} millis`),Er(h,kt,L,G)}}),wr.apply(this,arguments)}class Di{constructor(){this.listeners=[]}addEventListener(y){this.listeners.push(y)}abort(){this.listeners.forEach(y=>y())}}let Xi,Bs;function Vo(){return(Vo=(0,F.Z)(function*(h,y,A,L,G){if(G&&G.global)h("event",A,L);else{const te=yield y;h("event",A,Object.assign(Object.assign({},L),{send_to:te}))}})).apply(this,arguments)}function so(){return(so=(0,F.Z)(function*(){if(!(0,ae.hl)())return rr.warn(ye.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(h){return rr.warn(ye.create("indexeddb-unavailable",{errorInfo:h?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ho(){return Ho=(0,F.Z)(function*(h,y,A,L,G,te,we){var ut;const Et=function jt(h){return zn.apply(this,arguments)}(h);Et.then(br=>{A[br.measurementId]=br.appId,h.options.measurementId&&br.measurementId!==h.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${h.options.measurementId}) does not match the measurement ID fetched from the server (${br.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(br=>rr.error(br)),y.push(Et);const At=function Ca(){return so.apply(this,arguments)}().then(br=>{if(br)return L.getId()}),[tn,kt]=yield Promise.all([Et,At]);(function U(h){const y=window.document.getElementsByTagName("script");for(const A of Object.values(y))if(A.src&&A.src.includes(Ei)&&A.src.includes(h))return A;return null})(te)||function bo(h,y){const A=document.createElement("script");A.src=`${Ei}?l=${h}&id=${y}`,A.async=!0,document.head.appendChild(A)}(te,tn.measurementId),Bs&&(G("consent","default",Bs),function Vs(h){Bs=h}(void 0)),G("js",new Date);const Kr=null!==(ut=we?.config)&&void 0!==ut?ut:{};return Kr[ta]="firebase",Kr.update=!0,null!=kt&&(Kr[nr]=kt),G("config",tn.measurementId,Kr),Xi&&(G("set",Xi),function jo(h){Xi=h}(void 0)),tn.measurementId}),Ho.apply(this,arguments)}class ra{constructor(y){this.app=y}_delete(){return delete wi[this.app.options.appId],Promise.resolve()}}let wi={},bi=[];const So={};let Cs,es,oo="dataLayer",ia="gtag",ws=!1;function Gr(h,y,A){!function ul(){const h=[];if((0,ae.ru)()&&h.push("This is a browser extension environment."),(0,ae.zI)()||h.push("Cookies are not available."),h.length>0){const y=h.map((L,G)=>`(${G+1}) ${L}`).join(" "),A=ye.create("invalid-analytics-context",{errorInfo:y});rr.warn(A.message)}}();const L=h.options.appId;if(!L)throw ye.create("no-app-id");if(!h.options.apiKey){if(!h.options.measurementId)throw ye.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${h.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wi[L])throw ye.create("already-exists",{id:L});if(!ws){!function Es(h){let y=[];Array.isArray(window[h])?y=window[h]:window[h]=y}(oo);const{wrappedGtag:te,gtagCore:we}=function S(h,y,A,L,G){let te=function(...we){window[L].push(arguments)};return window[G]&&"function"==typeof window[G]&&(te=window[G]),window[G]=function P(h,y,A,L){function te(){return te=(0,F.Z)(function*(we,ut,Et){try{"event"===we?yield function Ia(h,y,A,L,G){return w.apply(this,arguments)}(h,y,A,ut,Et):"config"===we?yield function Ii(h,y,A,L,G,te){return Us.apply(this,arguments)}(h,y,A,L,ut,Et):"consent"===we?h("consent","update",Et):h("set",ut)}catch(At){rr.error(At)}}),te.apply(this,arguments)}return function G(we,ut,Et){return te.apply(this,arguments)}}(te,h,y,A),{gtagCore:te,wrappedGtag:window[G]}}(wi,bi,So,oo,ia);es=te,Cs=we,ws=!0}return wi[L]=function Ds(h,y,A,L,G,te,we){return Ho.apply(this,arguments)}(h,bi,So,y,Cs,oo,A),new ra(h)}function bs(){return ns.apply(this,arguments)}function ns(){return(ns=(0,F.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const hl="@firebase/analytics";!function Ql(){(0,re._registerComponent)(new de.wA(vi,(y,{options:A})=>Gr(y.getProvider("app").getImmediate(),y.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,re._registerComponent)(new de.wA("analytics-internal",function h(y){try{const A=y.getProvider(vi).getImmediate();return{logEvent:(L,G,te)=>function Gn(h,y,A,L){h=(0,ae.m9)(h),function ro(h,y,A,L,G){return Vo.apply(this,arguments)}(es,wi[h.app.options.appId],y,A,L).catch(G=>rr.error(G))}(A,L,G,te)}}catch(A){throw ye.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,re.registerVersion)(hl,"0.9.4"),(0,re.registerVersion)(hl,"0.9.4","esm2017")}();var ba=k(4408),oa=k(7565);const Ua=new class Ts extends oa.v{}(class js extends ba.o{constructor(y,A){super(y,A),this.scheduler=y,this.work=A}schedule(y,A=0){return A>0?super.schedule(y,A):(this.delay=A,this.state=y,this.scheduler.flush(this),this)}execute(y,A){return A>0||this.closed?super.execute(y,A):this._execute(y,A)}requestAsyncId(y,A,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(y,A,L):(y.flush(this),0)}});var cr=k(4986),$i=k(8505),Jr=k(9468),Ta=k(5363);const Ti=new I.GfV("7.5.0"),Ss="__angularfire_symbol__analyticsIsSupportedValue",ao="__angularfire_symbol__analyticsIsSupported",As="__angularfire_symbol__remoteConfigIsSupportedValue",lo="__angularfire_symbol__remoteConfigIsSupported",Ba="__angularfire_symbol__messagingIsSupportedValue",Va="__angularfire_symbol__messagingIsSupported";function ji(h,y,A){if(y){if(1===y.length)return y[0];const te=y.filter(we=>we.app===A);if(1===te.length)return te[0]}return A.container.getProvider(h).getImmediate({optional:!0})}globalThis[ao]||(globalThis[ao]=bs().then(h=>globalThis[Ss]=h).catch(()=>globalThis[Ss]=!1)),globalThis[Va]||(globalThis[Va]=vs().then(h=>globalThis[Ba]=h).catch(()=>globalThis[Ba]=!1)),globalThis[lo]||(globalThis[lo]=qs().then(h=>globalThis[As]=h).catch(()=>globalThis[As]=!1));const Wo=(h,y)=>{const A=y?[y]:(0,j.C6)(),L=[];return A.forEach(G=>{G.container.getProvider(h).instances.forEach(we=>{L.includes(we)||L.push(we)})}),L};function uo(){}class Ro{constructor(y,A=Ua){this.zone=y,this.delegate=A}now(){return this.delegate.now()}schedule(y,A,L){const G=this.zone;return this.delegate.schedule(function(we){G.runGuarded(()=>{y.apply(this,[we])})},A,L)}}class fl{constructor(y){this.zone=y,this.task=null}call(y,A){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo)),A.pipe((0,$i.b)({next:L,complete:L,error:L})).subscribe(y).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $a=(()=>{class h{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Ro(Zone.current)),this.insideAngular=A.run(()=>new Ro(Zone.current,cr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return h.\u0275fac=function(A){return new(A||h)(I.LFG(I.R0b))},h.\u0275prov=I.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function Hi(){const h=globalThis.\u0275AngularFireScheduler;if(!h)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return h}function v(h){return Hi(),function f(h){return function(A){return(A=A.lift(new fl(h.ngZone))).pipe((0,Jr.R)(h.outsideAngular),(0,Ta.Q)(h.insideAngular))}}(Hi())(h)}},2090:(It,Ie,k)=>{k.d(Ie,{$s:()=>Pt,BH:()=>We,DV:()=>Bn,Dv:()=>$n,G6:()=>Ce,GJ:()=>fn,L:()=>_e,LL:()=>it,Pz:()=>Oe,Sg:()=>et,UG:()=>Ae,UI:()=>bt,US:()=>de,Wj:()=>qr,Wl:()=>Qt,Yr:()=>Ee,ZB:()=>se,ZR:()=>Lt,aH:()=>Pe,b$:()=>wt,cI:()=>St,dS:()=>Ir,eu:()=>ke,g5:()=>F,gK:()=>dn,gQ:()=>$r,h$:()=>he,hl:()=>Ue,hu:()=>j,jU:()=>nt,lb:()=>En,m9:()=>qn,ne:()=>Ft,p$:()=>Q,pd:()=>Pn,r3:()=>Fn,ru:()=>qe,tV:()=>q,uI:()=>Y,ug:()=>an,vZ:()=>_n,w1:()=>x,w9:()=>Zn,xO:()=>Vn,xb:()=>Mn,z$:()=>Ye,zI:()=>Je,zd:()=>yn});const I={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},j=function(X,K){if(!X)throw F(K)},F=function(X){return new Error("Firebase Database ("+I.SDK_VERSION+") INTERNAL ASSERT FAILED: "+X)},re=function(X){const K=[];let oe=0;for(let Se=0;Se<X.length;Se++){let me=X.charCodeAt(Se);me<128?K[oe++]=me:me<2048?(K[oe++]=me>>6|192,K[oe++]=63&me|128):55296==(64512&me)&&Se+1<X.length&&56320==(64512&X.charCodeAt(Se+1))?(me=65536+((1023&me)<<10)+(1023&X.charCodeAt(++Se)),K[oe++]=me>>18|240,K[oe++]=me>>12&63|128,K[oe++]=me>>6&63|128,K[oe++]=63&me|128):(K[oe++]=me>>12|224,K[oe++]=me>>6&63|128,K[oe++]=63&me|128)}return K},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,K){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let me=0;me<X.length;me+=3){const ft=X[me],ee=me+1<X.length,ne=ee?X[me+1]:0,H=me+2<X.length,pe=H?X[me+2]:0;let xt=(15&ne)<<2|pe>>6,pn=63&pe;H||(pn=64,ee||(xt=64)),Se.push(oe[ft>>2],oe[(3&ft)<<4|ne>>4],oe[xt],oe[pn])}return Se.join("")},encodeString(X,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(X):this.encodeByteArray(re(X),K)},decodeString(X,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(X):function(X){const K=[];let oe=0,Se=0;for(;oe<X.length;){const me=X[oe++];if(me<128)K[Se++]=String.fromCharCode(me);else if(me>191&&me<224){const ft=X[oe++];K[Se++]=String.fromCharCode((31&me)<<6|63&ft)}else if(me>239&&me<365){const H=((7&me)<<18|(63&X[oe++])<<12|(63&X[oe++])<<6|63&X[oe++])-65536;K[Se++]=String.fromCharCode(55296+(H>>10)),K[Se++]=String.fromCharCode(56320+(1023&H))}else{const ft=X[oe++],ee=X[oe++];K[Se++]=String.fromCharCode((15&me)<<12|(63&ft)<<6|63&ee)}}return K.join("")}(this.decodeStringToByteArray(X,K))},decodeStringToByteArray(X,K){this.init_();const oe=K?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let me=0;me<X.length;){const ft=oe[X.charAt(me++)],ne=me<X.length?oe[X.charAt(me)]:0;++me;const pe=me<X.length?oe[X.charAt(me)]:64;++me;const ze=me<X.length?oe[X.charAt(me)]:64;if(++me,null==ft||null==ne||null==pe||null==ze)throw new ge;Se.push(ft<<2|ne>>4),64!==pe&&(Se.push(ne<<4&240|pe>>2),64!==ze&&Se.push(pe<<6&192|ze))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(X){const K=re(X);return de.encodeByteArray(K,!0)},_e=function(X){return he(X).replace(/\./g,"")},q=function(X){try{return de.decodeString(X,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function Q(X){return se(void 0,X)}function se(X,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return K}for(const oe in K)!K.hasOwnProperty(oe)||!Ke(oe)||(X[oe]=se(X[oe],K[oe]));return X}function Ke(X){return"__proto__"!==X}const Ve=()=>{try{return function Le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const X=process.env.__FIREBASE_DEFAULTS__;return X?JSON.parse(X):void 0})()||(()=>{if(typeof document>"u")return;let X;try{X=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=X&&q(X[1]);return K&&JSON.parse(K)})()}catch(X){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${X}`)}},Pe=()=>{var X;return null===(X=Ve())||void 0===X?void 0:X.config},Oe=X=>{var K;return null===(K=Ve())||void 0===K?void 0:K[`_${X}`]};class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,oe)=>{this.resolve=K,this.reject=oe})}wrapCallback(K){return(oe,Se)=>{oe?this.reject(oe):this.resolve(Se),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(oe):K(oe,Se))}}}function et(X,K){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=K||"demo-project",me=X.iat||0,ft=X.sub||X.user_id;if(!ft)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:me,exp:me+3600,auth_time:me,sub:ft,user_id:ft,firebase:{sign_in_provider:"custom",identities:{}}},X);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(ee)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Ae(){var X;const K=null===(X=Ve())||void 0===X?void 0:X.forceEnvironment;if("node"===K)return!0;if("browser"===K)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function qe(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function wt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function x(){const X=Ye();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function Ee(){return!0===I.NODE_CLIENT||!0===I.NODE_ADMIN}function Ce(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise((X,K)=>{try{let oe=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",me=self.indexedDB.open(Se);me.onsuccess=()=>{me.result.close(),oe||self.indexedDB.deleteDatabase(Se),X(!0)},me.onupgradeneeded=()=>{oe=!1},me.onerror=()=>{var ft;K((null===(ft=me.error)||void 0===ft?void 0:ft.message)||"")}}catch(oe){K(oe)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Lt extends Error{constructor(K,oe,Se){super(oe),this.code=K,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,Lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(K,oe,Se){this.service=K,this.serviceName=oe,this.errors=Se}create(K,...oe){const Se=oe[0]||{},me=`${this.service}/${K}`,ft=this.errors[K],ee=ft?function Dt(X,K){return X.replace(at,(oe,Se)=>{const me=K[Se];return null!=me?String(me):`<${Se}?>`})}(ft,Se):"Error";return new Lt(me,`${this.serviceName}: ${ee} (${me}).`,Se)}}const at=/\{\$([^}]+)}/g;function St(X){return JSON.parse(X)}function Qt(X){return JSON.stringify(X)}const Jt=function(X){let K={},oe={},Se={},me="";try{const ft=X.split(".");K=St(q(ft[0])||""),oe=St(q(ft[1])||""),me=ft[2],Se=oe.d||{},delete oe.d}catch{}return{header:K,claims:oe,data:Se,signature:me}},Zn=function(X){const oe=Jt(X).claims;return!!oe&&"object"==typeof oe&&oe.hasOwnProperty("iat")},fn=function(X){const K=Jt(X).claims;return"object"==typeof K&&!0===K.admin};function Fn(X,K){return Object.prototype.hasOwnProperty.call(X,K)}function Bn(X,K){if(Object.prototype.hasOwnProperty.call(X,K))return X[K]}function Mn(X){for(const K in X)if(Object.prototype.hasOwnProperty.call(X,K))return!1;return!0}function bt(X,K,oe){const Se={};for(const me in X)Object.prototype.hasOwnProperty.call(X,me)&&(Se[me]=K.call(oe,X[me],me,X));return Se}function _n(X,K){if(X===K)return!0;const oe=Object.keys(X),Se=Object.keys(K);for(const me of oe){if(!Se.includes(me))return!1;const ft=X[me],ee=K[me];if(mt(ft)&&mt(ee)){if(!_n(ft,ee))return!1}else if(ft!==ee)return!1}for(const me of Se)if(!oe.includes(me))return!1;return!0}function mt(X){return null!==X&&"object"==typeof X}function Vn(X){const K=[];for(const[oe,Se]of Object.entries(X))Array.isArray(Se)?Se.forEach(me=>{K.push(encodeURIComponent(oe)+"="+encodeURIComponent(me))}):K.push(encodeURIComponent(oe)+"="+encodeURIComponent(Se));return K.length?"&"+K.join("&"):""}function yn(X){const K={};return X.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[me,ft]=Se.split("=");K[decodeURIComponent(me)]=decodeURIComponent(ft)}}),K}function Pn(X){const K=X.indexOf("?");if(!K)return"";const oe=X.indexOf("#",K);return X.substring(K,oe>0?oe:void 0)}class $r{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let K=1;K<this.blockSize;++K)this.pad_[K]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(K,oe){oe||(oe=0);const Se=this.W_;if("string"==typeof K)for(let ze=0;ze<16;ze++)Se[ze]=K.charCodeAt(oe)<<24|K.charCodeAt(oe+1)<<16|K.charCodeAt(oe+2)<<8|K.charCodeAt(oe+3),oe+=4;else for(let ze=0;ze<16;ze++)Se[ze]=K[oe]<<24|K[oe+1]<<16|K[oe+2]<<8|K[oe+3],oe+=4;for(let ze=16;ze<80;ze++){const xt=Se[ze-3]^Se[ze-8]^Se[ze-14]^Se[ze-16];Se[ze]=4294967295&(xt<<1|xt>>>31)}let pe,xe,me=this.chain_[0],ft=this.chain_[1],ee=this.chain_[2],ne=this.chain_[3],H=this.chain_[4];for(let ze=0;ze<80;ze++){ze<40?ze<20?(pe=ne^ft&(ee^ne),xe=1518500249):(pe=ft^ee^ne,xe=1859775393):ze<60?(pe=ft&ee|ne&(ft|ee),xe=2400959708):(pe=ft^ee^ne,xe=3395469782);const xt=(me<<5|me>>>27)+pe+H+xe+Se[ze]&4294967295;H=ne,ne=ee,ee=4294967295&(ft<<30|ft>>>2),ft=me,me=xt}this.chain_[0]=this.chain_[0]+me&4294967295,this.chain_[1]=this.chain_[1]+ft&4294967295,this.chain_[2]=this.chain_[2]+ee&4294967295,this.chain_[3]=this.chain_[3]+ne&4294967295,this.chain_[4]=this.chain_[4]+H&4294967295}update(K,oe){if(null==K)return;void 0===oe&&(oe=K.length);const Se=oe-this.blockSize;let me=0;const ft=this.buf_;let ee=this.inbuf_;for(;me<oe;){if(0===ee)for(;me<=Se;)this.compress_(K,me),me+=this.blockSize;if("string"==typeof K){for(;me<oe;)if(ft[ee]=K.charCodeAt(me),++ee,++me,ee===this.blockSize){this.compress_(ft),ee=0;break}}else for(;me<oe;)if(ft[ee]=K[me],++ee,++me,ee===this.blockSize){this.compress_(ft),ee=0;break}}this.inbuf_=ee,this.total_+=oe}digest(){const K=[];let oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let me=this.blockSize-1;me>=56;me--)this.buf_[me]=255&oe,oe/=256;this.compress_(this.buf_);let Se=0;for(let me=0;me<5;me++)for(let ft=24;ft>=0;ft-=8)K[Se]=this.chain_[me]>>ft&255,++Se;return K}}function Ft(X,K){const oe=new vt(X,K);return oe.subscribe.bind(oe)}class vt{constructor(K,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{K(this)}).catch(Se=>{this.error(Se)})}next(K){this.forEachObserver(oe=>{oe.next(K)})}error(K){this.forEachObserver(oe=>{oe.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,oe,Se){let me;if(void 0===K&&void 0===oe&&void 0===Se)throw new Error("Missing Observer.");me=function An(X,K){if("object"!=typeof X||null===X)return!1;for(const oe of K)if(oe in X&&"function"==typeof X[oe])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:oe,complete:Se},void 0===me.next&&(me.next=vn),void 0===me.error&&(me.error=vn),void 0===me.complete&&(me.complete=vn);const ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch{}}),this.observers.push(me),ft}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,K)}sendOne(K,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{oe(this.observers[K])}catch(Se){typeof console<"u"&&console.error&&console.error(Se)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vn(){}const $n=function(X,K,oe,Se){let me;if(Se<K?me="at least "+K:Se>oe&&(me=0===oe?"none":"no more than "+oe),me)throw new Error(X+" failed: Was called with "+Se+(1===Se?" argument.":" arguments.")+" Expects "+me+".")};function dn(X,K){return`${X} failed: ${K} argument `}function qr(X,K,oe,Se){if((!Se||oe)&&"function"!=typeof oe)throw new Error(dn(X,K)+"must be a valid function.")}function En(X,K,oe,Se){if((!Se||oe)&&("object"!=typeof oe||null===oe))throw new Error(dn(X,K)+"must be a valid context object.")}const Ir=function(X){const K=[];let oe=0;for(let Se=0;Se<X.length;Se++){let me=X.charCodeAt(Se);if(me>=55296&&me<=56319){const ft=me-55296;Se++,j(Se<X.length,"Surrogate pair missing trail surrogate."),me=65536+(ft<<10)+(X.charCodeAt(Se)-56320)}me<128?K[oe++]=me:me<2048?(K[oe++]=me>>6|192,K[oe++]=63&me|128):me<65536?(K[oe++]=me>>12|224,K[oe++]=me>>6&63|128,K[oe++]=63&me|128):(K[oe++]=me>>18|240,K[oe++]=me>>12&63|128,K[oe++]=me>>6&63|128,K[oe++]=63&me|128)}return K},an=function(X){let K=0;for(let oe=0;oe<X.length;oe++){const Se=X.charCodeAt(oe);Se<128?K++:Se<2048?K+=2:Se>=55296&&Se<=56319?(K+=4,oe++):K+=3}return K},Or=1e3,st=2,je=144e5,pt=.5;function Pt(X,K=Or,oe=st){const Se=K*Math.pow(oe,X),me=Math.round(pt*Se*(Math.random()-.5)*2);return Math.min(je,Se+me)}function qn(X){return X&&X._delegate?X._delegate:X}},2092:(It,Ie,k)=>{var I=k(1481);const j_firebaseConfig={apiKey:"AIzaSyCr6nQ_UZlnjAaLkZVPaslSibv3IjYsRh0",authDomain:"dailyfood-72a83.firebaseapp.com",projectId:"dailyfood-72a83",storageBucket:"dailyfood-72a83.appspot.com",messagingSenderId:"177852740529",appId:"1:177852740529:web:0228a95d66e61a4a270390"};var F=k(9392),re=k(4650);const ae=[{path:"",loadChildren:()=>k.e(873).then(k.bind(k,7873)).then(o=>o.PanelModule)}];let de=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=re.oAB({type:o}),o.\u0275inj=re.cJS({imports:[F.Bz.forRoot(ae),F.Bz]}),o})(),ge=(()=>{class o{constructor(){this.title="dailyfood"}}return o.\u0275fac=function(s){return new(s||o)},o.\u0275cmp=re.Xpm({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(s,u){1&s&&re._UZ(0,"router-outlet")},dependencies:[F.lC]}),o})();var he=k(2011),_e=k(4986),q=k(9751),Q=k(9646),se=k(6451),Ke=k(4004),Le=k(3099),Ne=k(3900),_t=k(5026),be=k(1884),Ve=k(4482),Be=k(5403),Qe=k(8421),Pe=k(4671),Oe=k(5032),We=k(7669),Y=k(2122),nt=(k(4217),k(3942)),qe=k(4859),wt=k(5861),ot=k(9681),x=k(2090),De=k(1877);const Ee="@firebase/database";let Ue="";function ke(o){Ue=o}class Je{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,s){null==s?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,x.Wl)(s))}get(i){const s=this.domStorage_.getItem(this.prefixedName_(i));return null==s?null:(0,x.cI)(s)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class Xe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,s){null==s?delete this.cache_[i]:this.cache_[i]=s}get(i){return(0,x.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const Lt=function(o){try{if(typeof window<"u"&&typeof window[o]<"u"){const i=window[o];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new Je(i)}}catch{}return new Xe},it=Lt("localStorage"),Dt=Lt("sessionStorage"),at=new De.Yd("@firebase/database"),St=function(){let o=1;return function(){return o++}}(),Qt=function(o){const i=(0,x.dS)(o),s=new x.gQ;s.update(i);const u=s.digest();return x.US.encodeByteArray(u)},Jt=function(...o){let i="";for(let s=0;s<o.length;s++){const u=o[s];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?i+=Jt.apply(null,u):i+="object"==typeof u?(0,x.Wl)(u):u,i+=" "}return i};let cn=null,bn=!0;const Zn=function(o,i){(0,x.hu)(!i||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?(at.logLevel=De.in.VERBOSE,cn=at.log.bind(at),i&&Dt.set("logging_enabled",!0)):"function"==typeof o?cn=o:(cn=null,Dt.remove("logging_enabled"))},fn=function(...o){if(!0===bn&&(bn=!1,null===cn&&!0===Dt.get("logging_enabled")&&Zn(!0)),cn){const i=Jt.apply(null,o);cn(i)}},Fn=function(o){return function(...i){fn(o,...i)}},Bn=function(...o){const i="FIREBASE INTERNAL ERROR: "+Jt(...o);at.error(i)},Mn=function(...o){const i=`FIREBASE FATAL ERROR: ${Jt(...o)}`;throw at.error(i),new Error(i)},bt=function(...o){const i="FIREBASE WARNING: "+Jt(...o);at.warn(i)},mt=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},Vn="[MIN_NAME]",yn="[MAX_NAME]",Pn=function(o,i){if(o===i)return 0;if(o===Vn||i===yn)return-1;if(i===Vn||o===yn)return 1;{const s=an(o),u=an(i);return null!==s?null!==u?s-u==0?o.length-i.length:s-u:-1:null!==u?1:o<i?-1:1}},$r=function(o,i){return o===i?0:o<i?-1:1},Ft=function(o,i){if(i&&o in i)return i[o];throw new Error("Missing required key ("+o+") in object: "+(0,x.Wl)(i))},vt=function(o){if("object"!=typeof o||null===o)return(0,x.Wl)(o);const i=[];for(const u in o)i.push(u);i.sort();let s="{";for(let u=0;u<i.length;u++)0!==u&&(s+=","),s+=(0,x.Wl)(i[u]),s+=":",s+=vt(o[i[u]]);return s+="}",s},Rt=function(o,i){const s=o.length;if(s<=i)return[o];const u=[];for(let _=0;_<s;_+=i)u.push(o.substring(_,_+i>s?s:_+i));return u};function An(o,i){for(const s in o)o.hasOwnProperty(s)&&i(s,o[s])}const vn=function(o){(0,x.hu)(!mt(o),"Invalid JSON number");const u=1023;let _,b,M,B,W;0===o?(b=0,M=0,_=1/o==-1/0?1:0):(_=o<0,(o=Math.abs(o))>=Math.pow(2,1-u)?(B=Math.min(Math.floor(Math.log(o)/Math.LN2),u),b=B+u,M=Math.round(o*Math.pow(2,52-B)-Math.pow(2,52))):(b=0,M=Math.round(o/Math.pow(2,-1074))));const J=[];for(W=52;W;W-=1)J.push(M%2?1:0),M=Math.floor(M/2);for(W=11;W;W-=1)J.push(b%2?1:0),b=Math.floor(b/2);J.push(_?1:0),J.reverse();const Te=J.join("");let Me="";for(W=0;W<64;W+=8){let Ge=parseInt(Te.substr(W,8),2).toString(16);1===Ge.length&&(Ge="0"+Ge),Me+=Ge}return Me.toLowerCase()},qr=new RegExp("^-?(0*)\\d{1,10}$"),an=function(o){if(qr.test(o)){const i=Number(o);if(i>=-2147483648&&i<=2147483647)return i}return null},Yn=function(o){try{o()}catch(i){setTimeout(()=>{throw bt("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},Or=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},st=function(o,i){const s=setTimeout(o,i);return"number"==typeof s&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):"object"==typeof s&&s.unref&&s.unref(),s};class je{constructor(i,s){this.appName_=i,this.appCheckProvider=s,this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(u=>this.appCheck=u)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((s,u)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(s,u):s(null)},0)})}addTokenChangeListener(i){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(u=>u.addTokenListener(i))}notifyForInvalidToken(){bt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pt{constructor(i,s,u){this.appName_=i,this.firebaseOptions_=s,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(_=>this.auth_=_)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(s=>s&&"auth/token-not-initialized"===s.code?(fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,u)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(s,u):s(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(s=>s.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(s=>s.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bt(i)}}let Pt=(()=>{class o{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return o.OWNER="owner",o})();const oe=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ee="websocket",ne="long_polling";class H{constructor(i,s,u,_,b=!1,M="",B=!1,W=!1){this.secure=s,this.namespace=u,this.webSocketOnly=_,this.nodeAdmin=b,this.persistenceKey=M,this.includeNamespaceInQueryParams=B,this.isUsingEmulator=W,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=it.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&it.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function xe(o,i,s){let u;if((0,x.hu)("string"==typeof i,"typeof type must == string"),(0,x.hu)("object"==typeof s,"typeof params must == object"),i===ee)u=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(i!==ne)throw new Error("Unknown connection type: "+i);u=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function pe(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(s.ns=o.namespace);const _=[];return An(s,(b,M)=>{_.push(b+"="+M)}),u+_.join("&")}class ze{constructor(){this.counters_={}}incrementCounter(i,s=1){(0,x.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=s}get(){return(0,x.p$)(this.counters_)}}const xt={},pn={};function Ln(o){const i=o.toString();return xt[i]||(xt[i]=new ze),xt[i]}class ni{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,s){this.closeAfterResponse=i,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,s){for(this.pendingResponses[i]=s;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let _=0;_<u.length;++_)u[_]&&Yn(()=>{this.onMessage_(u[_])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class wn{constructor(i,s,u,_,b,M,B){this.connId=i,this.repoInfo=s,this.applicationId=u,this.appCheckToken=_,this.authToken=b,this.transportSessionId=M,this.lastSessionId=B,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fn(i),this.stats_=Ln(s),this.urlFn=W=>(this.appCheckToken&&(W.ac=this.appCheckToken),xe(s,ne,W))}open(i,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new ni(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,x.Yr)()||"complete"===document.readyState)o();else{let i=!1;const s=function(){document.body?i||(i=!0,o()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fr((...b)=>{const[M,B,W,J,Te]=b;if(this.incrementIncomingBytes_(b),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===M)this.id=B,this.password=W;else{if("close"!==M)throw new Error("Unrecognized command received: "+M);B?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(B,()=>{this.onClosed_()})):this.onClosed_()}},(...b)=>{const[M,B]=b;this.incrementIncomingBytes_(b),this.myPacketOrderer.handleResponse(M,B)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&oe.test(location.hostname)&&(u.r="f");const _=this.urlFn(u);this.log_("Connecting via long-poll to "+_),this.scriptTagHolder.addTag(_,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wn.forceAllow_=!0}static forceDisallow(){wn.forceDisallow_=!0}static isAvailable(){return!((0,x.Yr)()||!wn.forceAllow_&&(wn.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const s=(0,x.Wl)(i);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const u=(0,x.h$)(s),_=Rt(u,1840);for(let b=0;b<_.length;b++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,_.length,_[b]),this.curSegmentNum++}addDisconnectPingFrame(i,s){if((0,x.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=i,u.pw=s,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const s=(0,x.Wl)(i).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class fr{constructor(i,s,u,_){if(this.onDisconnect=u,this.urlFn=_,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,x.Yr)())this.commandCB=i,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=St(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=fr.createIFrame_();let b="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(b='<script>document.domain="'+document.domain+'";<\/script>');const M="<html><body>"+b+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(M),this.myIFrame.doc.close()}catch(B){fn("frame writing exception"),B.stack&&fn(B.stack),fn(B)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||fn("No IE domain setting required")}catch{const u=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,s){for(this.myID=i,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let s=this.urlFn(i),u="",_=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const M=this.pendingSegs.shift();u=u+"&seg"+_+"="+M.seg+"&ts"+_+"="+M.ts+"&d"+_+"="+M.d,_++}return s+=u,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(i,s,u){this.pendingSegs.push({seg:i,ts:s,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(i,s){this.outstandingRequests.add(s);const u=()=>{this.outstandingRequests.delete(s),this.newRequest_()},_=setTimeout(u,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(_),u()})}addTag(i,s){(0,x.Yr)()?this.doNodeLongPoll(i,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=i,u.onload=u.onreadystatechange=function(){const _=u.readyState;(!_||"loaded"===_||"complete"===_)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),s())},u.onerror=()=>{fn("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let jr=null;typeof MozWebSocket<"u"?jr=MozWebSocket:typeof WebSocket<"u"&&(jr=WebSocket);let $t=(()=>{class o{constructor(s,u,_,b,M,B,W){this.connId=s,this.applicationId=_,this.appCheckToken=b,this.authToken=M,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fn(this.connId),this.stats_=Ln(u),this.connURL=o.connectionURL_(u,B,W,b,_),this.nodeAdmin=u.nodeAdmin}static connectionURL_(s,u,_,b,M){const B={v:"5"};return!(0,x.Yr)()&&typeof location<"u"&&location.hostname&&oe.test(location.hostname)&&(B.r="f"),u&&(B.s=u),_&&(B.ls=_),b&&(B.ac=b),M&&(B.p=M),xe(s,ee,B)}open(s,u){this.onDisconnect=u,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,it.set("previous_websocket_failure",!0);try{let _;if((0,x.Yr)()){_={headers:{"User-Agent":`Firebase/5/${Ue}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(_.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(_.headers["X-Firebase-AppCheck"]=this.appCheckToken);const M=process.env,B=0===this.connURL.indexOf("wss://")?M.HTTPS_PROXY||M.https_proxy:M.HTTP_PROXY||M.http_proxy;B&&(_.proxy={origin:B})}this.mySock=new jr(this.connURL,[],_)}catch(_){this.log_("Error instantiating WebSocket.");const b=_.message||_.data;return b&&this.log_(b),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=_=>{this.handleIncomingFrame(_)},this.mySock.onerror=_=>{this.log_("WebSocket error.  Closing connection.");const b=_.message||_.data;b&&this.log_(b),this.onClosed_()}}start(){}static forceDisallow(){o.forceDisallow_=!0}static isAvailable(){let s=!1;if(typeof navigator<"u"&&navigator.userAgent){const _=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);_&&_.length>1&&parseFloat(_[1])<4.4&&(s=!0)}return!s&&null!==jr&&!o.forceDisallow_}static previouslyFailed(){return it.isInMemoryStorage||!0===it.get("previous_websocket_failure")}markConnectionHealthy(){it.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const _=(0,x.cI)(u);this.onMessage(_)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,x.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const u=Number(s);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const u=s.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const _=this.extractFrameCount_(u);null!==_&&this.appendFrame_(_)}}send(s){this.resetKeepAlive();const u=(0,x.Wl)(s);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const _=Rt(u,16384);_.length>1&&this.sendString_(String(_.length));for(let b=0;b<_.length;b++)this.sendString_(_[b])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o})(),Pi=(()=>{class o{constructor(s){this.initTransports_(s)}static get ALL_TRANSPORTS(){return[wn,$t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(s){const u=$t&&$t.isAvailable();let _=u&&!$t.previouslyFailed();if(s.webSocketOnly&&(u||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),_=!0),_)this.transports_=[$t];else{const b=this.transports_=[];for(const M of o.ALL_TRANSPORTS)M&&M.isAvailable()&&b.push(M);o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return o.globalTransportInitialized_=!1,o})();class Fe{constructor(i,s,u,_,b,M,B,W,J,Te){this.id=i,this.repoInfo_=s,this.applicationId_=u,this.appCheckToken_=_,this.authToken_=b,this.onMessage_=M,this.onReady_=B,this.onDisconnect_=W,this.onKill_=J,this.lastSessionId=Te,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fn("c:"+this.id+":"),this.transportManager_=new Pi(s),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,u)},Math.floor(0));const _=i.healthyTimeout||0;_>0&&(this.healthyTimeout_=st(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(_)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return s=>{i===this.conn_?this.onConnectionLost_(s):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return s=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(s):i===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const s=i.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const s=Ft("t",i),u=Ft("d",i);if("c"===s)this.onSecondaryControl_(u);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const s=Ft("t",i),u=Ft("d",i);"c"===s?this.onControl_(u):"d"===s&&this.onDataMessage_(u)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const s=Ft("t",i);if("d"in i){const u=i.d;if("h"===s){const _=Object.assign({},u);this.repoInfo_.isUsingEmulator&&(_.h=this.repoInfo_.host),this.onHandshake_(_)}else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let _=0;_<this.pendingDataMessages.length;++_)this.onDataMessage_(this.pendingDataMessages[_]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(u):"r"===s?this.onReset_(u):"e"===s?Bn("Server Error: "+u):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bn("Unknown control packet command: "+s)}}onHandshake_(i){const s=i.ts,u=i.v,_=i.h;this.sessionId=i.s,this.repoInfo_.host=_,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==u&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,u),st(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,s){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):st(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(it.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class tt{put(i,s,u,_){}merge(i,s,u,_){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,s,u){}onDisconnectMerge(i,s,u){}onDisconnectCancel(i,s){}reportStats(i){}}class yt{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,x.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...s){if(Array.isArray(this.listeners_[i])){const u=[...this.listeners_[i]];for(let _=0;_<u.length;_++)u[_].callback.apply(u[_].context,s)}}on(i,s,u){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:s,context:u});const _=this.getInitialEvent(i);_&&s.apply(u,_)}off(i,s,u){this.validateEventType_(i);const _=this.listeners_[i]||[];for(let b=0;b<_.length;b++)if(_[b].callback===s&&(!u||u===_[b].context))return void _.splice(b,1)}validateEventType_(i){(0,x.hu)(this.allowedEvents_.find(s=>s===i),"Unknown event: "+i)}}class Kt extends yt{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,x.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Kt}getInitialEvent(i){return(0,x.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}const In=32,nn=768;class hn{constructor(i,s){if(void 0===s){this.pieces_=i.split("/");let u=0;for(let _=0;_<this.pieces_.length;_++)this.pieces_[_].length>0&&(this.pieces_[u]=this.pieces_[_],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=s}toString(){let i="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(i+="/"+this.pieces_[s]);return i||"/"}}function ln(){return new hn("")}function Ut(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function Xn(o){return o.pieces_.length-o.pieceNum_}function Un(o){let i=o.pieceNum_;return i<o.pieces_.length&&i++,new hn(o.pieces_,i)}function po(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function Ns(o,i=0){return o.pieces_.slice(o.pieceNum_+i)}function go(o){if(o.pieceNum_>=o.pieces_.length)return null;const i=[];for(let s=o.pieceNum_;s<o.pieces_.length-1;s++)i.push(o.pieces_[s]);return new hn(i,0)}function Sn(o,i){const s=[];for(let u=o.pieceNum_;u<o.pieces_.length;u++)s.push(o.pieces_[u]);if(i instanceof hn)for(let u=i.pieceNum_;u<i.pieces_.length;u++)s.push(i.pieces_[u]);else{const u=i.split("/");for(let _=0;_<u.length;_++)u[_].length>0&&s.push(u[_])}return new hn(s,0)}function Xt(o){return o.pieceNum_>=o.pieces_.length}function pr(o,i){const s=Ut(o),u=Ut(i);if(null===s)return i;if(s===u)return pr(Un(o),Un(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+o+")")}function xo(o,i){const s=Ns(o,0),u=Ns(i,0);for(let _=0;_<s.length&&_<u.length;_++){const b=Pn(s[_],u[_]);if(0!==b)return b}return s.length===u.length?0:s.length<u.length?-1:1}function ko(o,i){if(Xn(o)!==Xn(i))return!1;for(let s=o.pieceNum_,u=i.pieceNum_;s<=o.pieces_.length;s++,u++)if(o.pieces_[s]!==i.pieces_[u])return!1;return!0}function Wr(o,i){let s=o.pieceNum_,u=i.pieceNum_;if(Xn(o)>Xn(i))return!1;for(;s<o.pieces_.length;){if(o.pieces_[s]!==i.pieces_[u])return!1;++s,++u}return!0}class Qo{constructor(i,s){this.errorPrefix_=s,this.parts_=Ns(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,x.ug)(this.parts_[u]);Dr(this)}}function Dr(o){if(o.byteLength_>nn)throw new Error(o.errorPrefix_+"has a key path longer than "+nn+" bytes ("+o.byteLength_+").");if(o.parts_.length>In)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+In+") or object contains a cycle "+ds(o))}function ds(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}class Yi extends yt{constructor(){let i,s;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const u=!document[i];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new Yi}getInitialEvent(i){return(0,x.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const Oi=1e3;let qi,Rr=(()=>{class o extends tt{constructor(s,u,_,b,M,B,W,J){if(super(),this.repoInfo_=s,this.applicationId_=u,this.onDataUpdate_=_,this.onConnectStatus_=b,this.onServerInfoUpdate_=M,this.authTokenProvider_=B,this.appCheckTokenProvider_=W,this.authOverride_=J,this.id=o.nextPersistentConnectionId_++,this.log_=Fn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Oi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,J&&!(0,x.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yi.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&Kt.getInstance().on("online",this.onOnline_,this)}sendRequest(s,u,_){const b=++this.requestNumber_,M={r:b,a:s,b:u};this.log_((0,x.Wl)(M)),(0,x.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(M),_&&(this.requestCBHash_[b]=_)}get(s){this.initConnection_();const u=new x.BH,b={action:"g",request:{p:s._path.toString(),q:s._queryObject},onComplete:B=>{const W=B.d;"ok"===B.s?u.resolve(W):u.reject(W)}};return this.outstandingGets_.push(b),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(s,u,_,b){this.initConnection_();const M=s._queryIdentifier,B=s._path.toString();this.log_("Listen called for "+B+" "+M),this.listens.has(B)||this.listens.set(B,new Map),(0,x.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,x.hu)(!this.listens.get(B).has(M),"listen() called twice for same path/queryId.");const W={onComplete:b,hashFn:u,query:s,tag:_};this.listens.get(B).set(M,W),this.connected_&&this.sendListen_(W)}sendGet_(s){const u=this.outstandingGets_[s];this.sendRequest("g",u.request,_=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(_)})}sendListen_(s){const u=s.query,_=u._path.toString(),b=u._queryIdentifier;this.log_("Listen on "+_+" for "+b);const M={p:_};s.tag&&(M.q=u._queryObject,M.t=s.tag),M.h=s.hashFn(),this.sendRequest("q",M,W=>{const J=W.d,Te=W.s;o.warnOnListenWarnings_(J,u),(this.listens.get(_)&&this.listens.get(_).get(b))===s&&(this.log_("listen response",W),"ok"!==Te&&this.removeListen_(_,b),s.onComplete&&s.onComplete(Te,J))})}static warnOnListenWarnings_(s,u){if(s&&"object"==typeof s&&(0,x.r3)(s,"w")){const _=(0,x.DV)(s,"w");if(Array.isArray(_)&&~_.indexOf("no_index")){const b='".indexOn": "'+u._queryParams.getIndex().toString()+'"',M=u._path.toString();bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${b} at ${M} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,x.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,u=(0,x.w9)(s)?"auth":"gauth",_={cred:s};null===this.authOverride_?_.noauth=!0:"object"==typeof this.authOverride_&&(_.authvar=this.authOverride_),this.sendRequest(u,_,b=>{const M=b.s,B=b.d||"error";this.authToken_===s&&("ok"===M?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(M,B))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const u=s.s,_=s.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,_)})}unlisten(s,u){const _=s._path.toString(),b=s._queryIdentifier;this.log_("Unlisten called for "+_+" "+b),(0,x.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(_,b)&&this.connected_&&this.sendUnlisten_(_,b,s._queryObject,u)}sendUnlisten_(s,u,_,b){this.log_("Unlisten on "+s+" for "+u);const M={p:s};b&&(M.q=_,M.t=b),this.sendRequest("n",M)}onDisconnectPut(s,u,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,u,_):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:u,onComplete:_})}onDisconnectMerge(s,u,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,u,_):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:u,onComplete:_})}onDisconnectCancel(s,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,u):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(s,u,_,b){const M={p:u,d:_};this.log_("onDisconnect "+s,M),this.sendRequest(s,M,B=>{b&&setTimeout(()=>{b(B.s,B.d)},Math.floor(0))})}put(s,u,_,b){this.putInternal("p",s,u,_,b)}merge(s,u,_,b){this.putInternal("m",s,u,_,b)}putInternal(s,u,_,b,M){this.initConnection_();const B={p:u,d:_};void 0!==M&&(B.h=M),this.outstandingPuts_.push({action:s,request:B,onComplete:b}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(s){const u=this.outstandingPuts_[s].action,_=this.outstandingPuts_[s].request,b=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(u,_,M=>{this.log_(u+" response",M),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),b&&b(M.s,M.d)})}reportStats(s){if(this.connected_){const u={c:s};this.log_("reportStats",u),this.sendRequest("s",u,_=>{"ok"!==_.s&&this.log_("reportStats","Error sending stats: "+_.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,x.Wl)(s));const u=s.r,_=this.requestCBHash_[u];_&&(delete this.requestCBHash_[u],_(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,u){this.log_("handleServerMessage",s,u),"d"===s?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===s?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===s?this.onListenRevoked_(u.p,u.q):"ac"===s?this.onAuthRevoked_(u.s,u.d):"apc"===s?this.onAppCheckRevoked_(u.s,u.d):"sd"===s?this.onSecurityDebugPacket_(u):Bn("Unrecognized action received from server: "+(0,x.Wl)(s)+"\nAre you using the latest client?")}onReady_(s,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,x.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oi,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=Oi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Oi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-s);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,wt.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const u=s.onDataMessage_.bind(s),_=s.onReady_.bind(s),b=s.onRealtimeDisconnect_.bind(s),M=s.id+":"+o.nextConnectionId_++,B=s.lastSessionId;let W=!1,J=null;const Te=function(){J?J.close():(W=!0,b())};s.realtime_={close:Te,sendRequest:function(Tt){(0,x.hu)(J,"sendRequest call when we're not connected not allowed."),J.sendRequest(Tt)}};const Ge=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[Tt,Ht]=yield Promise.all([s.authTokenProvider_.getToken(Ge),s.appCheckTokenProvider_.getToken(Ge)]);W?fn("getToken() completed but was canceled"):(fn("getToken() completed. Creating connection."),s.authToken_=Tt&&Tt.accessToken,s.appCheckToken_=Ht&&Ht.token,J=new Fe(M,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,u,_,b,Kn=>{bt(Kn+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},B))}catch(Tt){s.log_("Failed to get token: "+Tt),W||(s.repoInfo_.nodeAdmin&&bt(Tt),Te())}}})()}interrupt(s){fn("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){fn("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,x.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Oi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const u=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const u=this.outstandingPuts_[s];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,u){let _;_=u?u.map(M=>vt(M)).join("$"):"default";const b=this.removeListen_(s,_);b&&b.onComplete&&b.onComplete("permission_denied")}removeListen_(s,u){const _=new hn(s).toString();let b;if(this.listens.has(_)){const M=this.listens.get(_);b=M.get(u),M.delete(u),0===M.size&&this.listens.delete(_)}else b=void 0;return b}onAuthRevoked_(s,u){fn("Auth token revoked: "+s+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,u){fn("App check token revoked: "+s+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const u of s.values())this.sendListen_(u);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let u="js";(0,x.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+u+"."+Ue.replace(/\./g,"-")]=1,(0,x.uI)()?s["framework.cordova"]=1:(0,x.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=Kt.getInstance().currentlyOnline();return(0,x.xb)(this.interruptReasons_)&&s}}return o.nextPersistentConnectionId_=0,o.nextConnectionId_=0,o})();class sn{constructor(i,s){this.name=i,this.node=s}static Wrap(i,s){return new sn(i,s)}}class gi{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,s){const u=new sn(Vn,i),_=new sn(Vn,s);return 0!==this.compare(u,_)}minPost(){return sn.MIN}}class Qr extends gi{static get __EMPTY_NODE(){return qi}static set __EMPTY_NODE(i){qi=i}compare(i,s){return Pn(i.name,s.name)}isDefinedOn(i){throw(0,x.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,s){return!1}minPost(){return sn.MIN}maxPost(){return new sn(yn,qi)}makePost(i,s){return(0,x.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new sn(i,qi)}toString(){return".key"}}const Mr=new Qr;class Ni{constructor(i,s,u,_,b=null){this.isReverse_=_,this.resultGenerator_=b,this.nodeStack_=[];let M=1;for(;!i.isEmpty();)if(M=s?u(i.key,s):1,_&&(M*=-1),M<0)i=this.isReverse_?i.left:i.right;else{if(0===M){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,i=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let Js,xr=(()=>{class o{constructor(s,u,_,b,M){this.key=s,this.value=u,this.color=_??o.RED,this.left=b??lr.EMPTY_NODE,this.right=M??lr.EMPTY_NODE}copy(s,u,_,b,M){return new o(s??this.key,u??this.value,_??this.color,b??this.left,M??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,u,_){let b=this;const M=_(s,b.key);return b=M<0?b.copy(null,null,null,b.left.insert(s,u,_),null):0===M?b.copy(null,u,null,null,null):b.copy(null,null,null,null,b.right.insert(s,u,_)),b.fixUp_()}removeMin_(){if(this.left.isEmpty())return lr.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,u){let _,b;if(_=this,u(s,_.key)<0)!_.left.isEmpty()&&!_.left.isRed_()&&!_.left.left.isRed_()&&(_=_.moveRedLeft_()),_=_.copy(null,null,null,_.left.remove(s,u),null);else{if(_.left.isRed_()&&(_=_.rotateRight_()),!_.right.isEmpty()&&!_.right.isRed_()&&!_.right.left.isRed_()&&(_=_.moveRedRight_()),0===u(s,_.key)){if(_.right.isEmpty())return lr.EMPTY_NODE;b=_.right.min_(),_=_.copy(b.key,b.value,null,null,_.right.removeMin_())}_=_.copy(null,null,null,null,_.right.remove(s,u))}return _.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,u)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return o.RED=!0,o.BLACK=!1,o})();class lr{constructor(i,s=lr.EMPTY_NODE){this.comparator_=i,this.root_=s}insert(i,s){return new lr(this.comparator_,this.root_.insert(i,s,this.comparator_).copy(null,null,xr.BLACK,null,null))}remove(i){return new lr(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,xr.BLACK,null,null))}get(i){let s,u=this.root_;for(;!u.isEmpty();){if(s=this.comparator_(i,u.key),0===s)return u.value;s<0?u=u.left:s>0&&(u=u.right)}return null}getPredecessorKey(i){let s,u=this.root_,_=null;for(;!u.isEmpty();){if(s=this.comparator_(i,u.key),0===s){if(u.left.isEmpty())return _?_.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}s<0?u=u.left:s>0&&(_=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new Ni(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,s){return new Ni(this.root_,i,this.comparator_,!1,s)}getReverseIteratorFrom(i,s){return new Ni(this.root_,i,this.comparator_,!0,s)}getReverseIterator(i){return new Ni(this.root_,null,this.comparator_,!0,i)}}function mo(o,i){return Pn(o.name,i.name)}function un(o,i){return Pn(o,i)}lr.EMPTY_NODE=new class Cr{copy(i,s,u,_,b){return this}insert(i,s,u){return new xr(i,s,null)}remove(i,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const or=function(o){return"number"==typeof o?"number:"+vn(o):"string:"+o},hs=function(o){if(o.isLeafNode()){const i=o.val();(0,x.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,x.r3)(i,".sv"),"Priority must be a string or number.")}else(0,x.hu)(o===Js||o.isEmpty(),"priority of unexpected type.");(0,x.hu)(o===Js||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let xi,hr,_o,zr=(()=>{class o{constructor(s,u=o.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=u,this.lazyHash_=null,(0,x.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),hs(this.priorityNode_)}static set __childrenNodeConstructor(s){xi=s}static get __childrenNodeConstructor(){return xi}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new o(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return Xt(s)?this:".priority"===Ut(s)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,u){return null}updateImmediateChild(s,u){return".priority"===s?this.updatePriority(u):u.isEmpty()&&".priority"!==s?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,u).updatePriority(this.priorityNode_)}updateChild(s,u){const _=Ut(s);return null===_?u:u.isEmpty()&&".priority"!==_?this:((0,x.hu)(".priority"!==_||1===Xn(s),".priority must be the last token in a path"),this.updateImmediateChild(_,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(Un(s),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,u){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+or(this.priorityNode_.val())+":");const u=typeof this.value_;s+=u+":",s+="number"===u?vn(this.value_):this.value_,this.lazyHash_=Qt(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===o.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof o.__childrenNodeConstructor?-1:((0,x.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const u=typeof s.value_,_=typeof this.value_,b=o.VALUE_TYPE_ORDER.indexOf(u),M=o.VALUE_TYPE_ORDER.indexOf(_);return(0,x.hu)(b>=0,"Unknown leaf type: "+u),(0,x.hu)(M>=0,"Unknown leaf type: "+_),b===M?"object"===_?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:M-b}withIndex(){return this}isIndexed(){return!0}equals(s){return s===this||!!s.isLeafNode()&&(this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_))}}return o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o})();const On=new class ki extends gi{compare(i,s){const u=i.node.getPriority(),_=s.node.getPriority(),b=u.compareTo(_);return 0===b?Pn(i.name,s.name):b}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,s){return!i.getPriority().equals(s.getPriority())}minPost(){return sn.MIN}maxPost(){return new sn(yn,new zr("[PRIORITY-POST]",_o))}makePost(i,s){const u=hr(i);return new sn(s,new zr("[PRIORITY-POST]",u))}toString(){return".priority"}},ks=Math.log(2);class Zt{constructor(i){this.count=parseInt(Math.log(i+1)/ks,10),this.current_=this.count-1;const _=(b=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&_}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const ps=function(o,i,s,u){o.sort(i);const _=function(W,J){const Te=J-W;let Me,Ge;if(0===Te)return null;if(1===Te)return Me=o[W],Ge=s?s(Me):Me,new xr(Ge,Me.node,xr.BLACK,null,null);{const Tt=parseInt(Te/2,10)+W,Ht=_(W,Tt),Kn=_(Tt+1,J);return Me=o[Tt],Ge=s?s(Me):Me,new xr(Ge,Me.node,xr.BLACK,Ht,Kn)}},B=function(W){let J=null,Te=null,Me=o.length;const Ge=function(Ht,Kn){const ei=Me-Ht,Gs=Me;Me-=Ht;const Pa=_(ei+1,Gs),Zl=o[ei],mh=s?s(Zl):Zl;Tt(new xr(mh,Zl.node,Kn,null,Pa))},Tt=function(Ht){J?(J.left=Ht,J=Ht):(Te=Ht,J=Ht)};for(let Ht=0;Ht<W.count;++Ht){const Kn=W.nextBitIsOne(),ei=Math.pow(2,W.count-(Ht+1));Kn?Ge(ei,xr.BLACK):(Ge(ei,xr.BLACK),Ge(ei,xr.RED))}return Te}(new Zt(o.length));return new lr(u||i,B)};let vo;const mi={};class ar{constructor(i,s){this.indexes_=i,this.indexSet_=s}static get Default(){return(0,x.hu)(mi&&On,"ChildrenNode.ts has not been loaded"),vo=vo||new ar({".priority":mi},{".priority":On}),vo}get(i){const s=(0,x.DV)(this.indexes_,i);if(!s)throw new Error("No index defined for "+i);return s instanceof lr?s:null}hasIndex(i){return(0,x.r3)(this.indexSet_,i.toString())}addIndex(i,s){(0,x.hu)(i!==Mr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let _=!1;const b=s.getIterator(sn.Wrap);let B,M=b.getNext();for(;M;)_=_||i.isDefinedOn(M.node),u.push(M),M=b.getNext();B=_?ps(u,i.getCompare()):mi;const W=i.toString(),J=Object.assign({},this.indexSet_);J[W]=i;const Te=Object.assign({},this.indexes_);return Te[W]=B,new ar(Te,J)}addToIndexes(i,s){const u=(0,x.UI)(this.indexes_,(_,b)=>{const M=(0,x.DV)(this.indexSet_,b);if((0,x.hu)(M,"Missing index implementation for "+b),_===mi){if(M.isDefinedOn(i.node)){const B=[],W=s.getIterator(sn.Wrap);let J=W.getNext();for(;J;)J.name!==i.name&&B.push(J),J=W.getNext();return B.push(i),ps(B,M.getCompare())}return mi}{const B=s.get(i.name);let W=_;return B&&(W=W.remove(new sn(i.name,B))),W.insert(i,i.node)}});return new ar(u,this.indexSet_)}removeFromIndexes(i,s){const u=(0,x.UI)(this.indexes_,_=>{if(_===mi)return _;{const b=s.get(i.name);return b?_.remove(new sn(i.name,b)):_}});return new ar(u,this.indexSet_)}}let Li,Wt=(()=>{class o{constructor(s,u,_){this.children_=s,this.priorityNode_=u,this.indexMap_=_,this.lazyHash_=null,this.priorityNode_&&hs(this.priorityNode_),this.children_.isEmpty()&&(0,x.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Li||(Li=new o(new lr(un),null,ar.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Li}updatePriority(s){return this.children_.isEmpty()?this:new o(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const u=this.children_.get(s);return null===u?Li:u}}getChild(s){const u=Ut(s);return null===u?this:this.getImmediateChild(u).getChild(Un(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,u){if((0,x.hu)(u,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(u);{const _=new sn(s,u);let b,M;u.isEmpty()?(b=this.children_.remove(s),M=this.indexMap_.removeFromIndexes(_,this.children_)):(b=this.children_.insert(s,u),M=this.indexMap_.addToIndexes(_,this.children_));const B=b.isEmpty()?Li:this.priorityNode_;return new o(b,B,M)}}updateChild(s,u){const _=Ut(s);if(null===_)return u;{(0,x.hu)(".priority"!==Ut(s)||1===Xn(s),".priority must be the last token in a path");const b=this.getImmediateChild(_).updateChild(Un(s),u);return this.updateImmediateChild(_,b)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const u={};let _=0,b=0,M=!0;if(this.forEachChild(On,(B,W)=>{u[B]=W.val(s),_++,M&&o.INTEGER_REGEXP_.test(B)?b=Math.max(b,Number(B)):M=!1}),!s&&M&&b<2*_){const B=[];for(const W in u)B[W]=u[W];return B}return s&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+or(this.getPriority().val())+":"),this.forEachChild(On,(u,_)=>{const b=_.hash();""!==b&&(s+=":"+u+":"+b)}),this.lazyHash_=""===s?"":Qt(s)}return this.lazyHash_}getPredecessorChildName(s,u,_){const b=this.resolveIndex_(_);if(b){const M=b.getPredecessorKey(new sn(s,u));return M?M.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const u=this.resolveIndex_(s);if(u){const _=u.minKey();return _&&_.name}return this.children_.minKey()}getFirstChild(s){const u=this.getFirstChildName(s);return u?new sn(u,this.children_.get(u)):null}getLastChildName(s){const u=this.resolveIndex_(s);if(u){const _=u.maxKey();return _&&_.name}return this.children_.maxKey()}getLastChild(s){const u=this.getLastChildName(s);return u?new sn(u,this.children_.get(u)):null}forEachChild(s,u){const _=this.resolveIndex_(s);return _?_.inorderTraversal(b=>u(b.name,b.node)):this.children_.inorderTraversal(u)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,u){const _=this.resolveIndex_(u);if(_)return _.getIteratorFrom(s,b=>b);{const b=this.children_.getIteratorFrom(s.name,sn.Wrap);let M=b.peek();for(;null!=M&&u.compare(M,s)<0;)b.getNext(),M=b.peek();return b}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,u){const _=this.resolveIndex_(u);if(_)return _.getReverseIteratorFrom(s,b=>b);{const b=this.children_.getReverseIteratorFrom(s.name,sn.Wrap);let M=b.peek();for(;null!=M&&u.compare(M,s)>0;)b.getNext(),M=b.peek();return b}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===gs?-1:0}withIndex(s){if(s===Mr||this.indexMap_.hasIndex(s))return this;{const u=this.indexMap_.addIndex(s,this.children_);return new o(this.children_,this.priorityNode_,u)}}isIndexed(s){return s===Mr||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const u=s;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const _=this.getIterator(On),b=u.getIterator(On);let M=_.getNext(),B=b.getNext();for(;M&&B;){if(M.name!==B.name||!M.node.equals(B.node))return!1;M=_.getNext(),B=b.getNext()}return null===M&&null===B}return!1}return!1}}resolveIndex_(s){return s===Mr?null:this.indexMap_.get(s.toString())}}return o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o})();const gs=new class Fo extends Wt{constructor(){super(new lr(un),Wt.EMPTY_NODE,ar.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Wt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(sn,{MIN:{value:new sn(Vn,Wt.EMPTY_NODE)},MAX:{value:new sn(yn,gs)}}),Qr.__EMPTY_NODE=Wt.EMPTY_NODE,zr.__childrenNodeConstructor=Wt,function oi(o){Js=o}(gs),function yo(o){_o=o}(gs);const Ze=!0;function Ot(o,i=null){if(null===o)return Wt.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(i=o[".priority"]),(0,x.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new zr(o,Ot(i));if(o instanceof Array||!Ze){let s=Wt.EMPTY_NODE;return An(o,(u,_)=>{if((0,x.r3)(o,u)&&"."!==u.substring(0,1)){const b=Ot(_);(b.isLeafNode()||!b.isEmpty())&&(s=s.updateImmediateChild(u,b))}}),s.updatePriority(Ot(i))}{const s=[];let u=!1;if(An(o,(M,B)=>{if("."!==M.substring(0,1)){const W=Ot(B);W.isEmpty()||(u=u||!W.getPriority().isEmpty(),s.push(new sn(M,W)))}}),0===s.length)return Wt.EMPTY_NODE;const b=ps(s,mo,M=>M.name,un);if(u){const M=ps(s,On.getCompare());return new Wt(b,Ot(i),new ar({".priority":M},{".priority":On}))}return new Wt(b,Ot(i),ar.Default)}}!function fs(o){hr=o}(Ot);class er extends gi{constructor(i){super(),this.indexPath_=i,(0,x.hu)(!Xt(i)&&".priority"!==Ut(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,s){const u=this.extractChild(i.node),_=this.extractChild(s.node),b=u.compareTo(_);return 0===b?Pn(i.name,s.name):b}makePost(i,s){const u=Ot(i),_=Wt.EMPTY_NODE.updateChild(this.indexPath_,u);return new sn(s,_)}maxPost(){const i=Wt.EMPTY_NODE.updateChild(this.indexPath_,gs);return new sn(yn,i)}toString(){return Ns(this.indexPath_,0).join("/")}}const Wn=new class ya extends gi{compare(i,s){const u=i.node.compareTo(s.node);return 0===u?Pn(i.name,s.name):u}isDefinedOn(i){return!0}indexedValueChanged(i,s){return!i.equals(s)}minPost(){return sn.MIN}maxPost(){return sn.MAX}makePost(i,s){const u=Ot(i);return new sn(s,u)}toString(){return".value"}};function ms(o){return{type:"value",snapshotNode:o}}function Fi(o,i){return{type:"child_added",snapshotNode:i,childName:o}}function yr(o,i){return{type:"child_removed",snapshotNode:i,childName:o}}function _i(o,i,s){return{type:"child_changed",snapshotNode:i,childName:o,oldSnap:s}}class Eo{constructor(i){this.index_=i}updateChild(i,s,u,_,b,M){(0,x.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const B=i.getImmediateChild(s);return B.getChild(_).equals(u.getChild(_))&&B.isEmpty()===u.isEmpty()||(null!=M&&(u.isEmpty()?i.hasChild(s)?M.trackChildChange(yr(s,B)):(0,x.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):B.isEmpty()?M.trackChildChange(Fi(s,u)):M.trackChildChange(_i(s,u,B))),i.isLeafNode()&&u.isEmpty())?i:i.updateImmediateChild(s,u).withIndex(this.index_)}updateFullNode(i,s,u){return null!=u&&(i.isLeafNode()||i.forEachChild(On,(_,b)=>{s.hasChild(_)||u.trackChildChange(yr(_,b))}),s.isLeafNode()||s.forEachChild(On,(_,b)=>{if(i.hasChild(_)){const M=i.getImmediateChild(_);M.equals(b)||u.trackChildChange(_i(_,b,M))}else u.trackChildChange(Fi(_,b))})),s.withIndex(this.index_)}updatePriority(i,s){return i.isEmpty()?Wt.EMPTY_NODE:i.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Xs{constructor(i){this.indexedFilter_=new Eo(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Xs.getStartPost_(i),this.endPost_=Xs.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,u=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return s&&u}updateChild(i,s,u,_,b,M){return this.matches(new sn(s,u))||(u=Wt.EMPTY_NODE),this.indexedFilter_.updateChild(i,s,u,_,b,M)}updateFullNode(i,s,u){s.isLeafNode()&&(s=Wt.EMPTY_NODE);let _=s.withIndex(this.index_);_=_.updatePriority(Wt.EMPTY_NODE);const b=this;return s.forEachChild(On,(M,B)=>{b.matches(new sn(M,B))||(_=_.updateImmediateChild(M,Wt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,_,u)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const s=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),s)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const s=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),s)}return i.getIndex().maxPost()}}class Uo{constructor(i){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=s=>{const u=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new Xs(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,s,u,_,b,M){return this.rangedFilter_.matches(new sn(s,u))||(u=Wt.EMPTY_NODE),i.getImmediateChild(s).equals(u)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,s,u,_,b,M):this.fullLimitUpdateChild_(i,s,u,b,M)}updateFullNode(i,s,u){let _;if(s.isLeafNode()||s.isEmpty())_=Wt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let b;_=Wt.EMPTY_NODE.withIndex(this.index_),b=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let M=0;for(;b.hasNext()&&M<this.limit_;){const B=b.getNext();if(this.withinDirectionalStart(B)){if(!this.withinDirectionalEnd(B))break;_=_.updateImmediateChild(B.name,B.node),M++}}}else{let b;_=s.withIndex(this.index_),_=_.updatePriority(Wt.EMPTY_NODE),b=this.reverse_?_.getReverseIterator(this.index_):_.getIterator(this.index_);let M=0;for(;b.hasNext();){const B=b.getNext();M<this.limit_&&this.withinDirectionalStart(B)&&this.withinDirectionalEnd(B)?M++:_=_.updateImmediateChild(B.name,Wt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,_,u)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,s,u,_,b){let M;if(this.reverse_){const Me=this.index_.getCompare();M=(Ge,Tt)=>Me(Tt,Ge)}else M=this.index_.getCompare();const B=i;(0,x.hu)(B.numChildren()===this.limit_,"");const W=new sn(s,u),J=this.reverse_?B.getFirstChild(this.index_):B.getLastChild(this.index_),Te=this.rangedFilter_.matches(W);if(B.hasChild(s)){const Me=B.getImmediateChild(s);let Ge=_.getChildAfterChild(this.index_,J,this.reverse_);for(;null!=Ge&&(Ge.name===s||B.hasChild(Ge.name));)Ge=_.getChildAfterChild(this.index_,Ge,this.reverse_);const Tt=null==Ge?1:M(Ge,W);if(Te&&!u.isEmpty()&&Tt>=0)return b?.trackChildChange(_i(s,u,Me)),B.updateImmediateChild(s,u);{b?.trackChildChange(yr(s,Me));const Kn=B.updateImmediateChild(s,Wt.EMPTY_NODE);return null!=Ge&&this.rangedFilter_.matches(Ge)?(b?.trackChildChange(Fi(Ge.name,Ge.node)),Kn.updateImmediateChild(Ge.name,Ge.node)):Kn}}return u.isEmpty()?i:Te&&M(J,W)>=0?(null!=b&&(b.trackChildChange(yr(J.name,J.node)),b.trackChildChange(Fi(s,u))),B.updateImmediateChild(s,u).updateImmediateChild(J.name,Wt.EMPTY_NODE)):i}}class ur{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=On}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,x.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===On}copy(){const i=new ur;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function vr(o,i,s){const u=o.copy();return u.startSet_=!0,void 0===i&&(i=null),u.indexStartValue_=i,null!=s?(u.startNameSet_=!0,u.indexStartName_=s):(u.startNameSet_=!1,u.indexStartName_=""),u}function Qi(o,i,s){const u=o.copy();return u.endSet_=!0,void 0===i&&(i=null),u.indexEndValue_=i,void 0!==s?(u.endNameSet_=!0,u.indexEndName_=s):(u.endNameSet_=!1,u.indexEndName_=""),u}function ys(o,i){const s=o.copy();return s.index_=i,s}function to(o){const i={};if(o.isDefault())return i;let s;if(o.index_===On?s="$priority":o.index_===Wn?s="$value":o.index_===Mr?s="$key":((0,x.hu)(o.index_ instanceof er,"Unrecognized index type!"),s=o.index_.toString()),i.orderBy=(0,x.Wl)(s),o.startSet_){const u=o.startAfterSet_?"startAfter":"startAt";i[u]=(0,x.Wl)(o.indexStartValue_),o.startNameSet_&&(i[u]+=","+(0,x.Wl)(o.indexStartName_))}if(o.endSet_){const u=o.endBeforeSet_?"endBefore":"endAt";i[u]=(0,x.Wl)(o.indexEndValue_),o.endNameSet_&&(i[u]+=","+(0,x.Wl)(o.indexEndName_))}return o.limitSet_&&(o.isViewFromLeft()?i.limitToFirst=o.limit_:i.limitToLast=o.limit_),i}function Ls(o){const i={};if(o.startSet_&&(i.sp=o.indexStartValue_,o.startNameSet_&&(i.sn=o.indexStartName_),i.sin=!o.startAfterSet_),o.endSet_&&(i.ep=o.indexEndValue_,o.endNameSet_&&(i.en=o.indexEndName_),i.ein=!o.endBeforeSet_),o.limitSet_){i.l=o.limit_;let s=o.viewFrom_;""===s&&(s=o.isViewFromLeft()?"l":"r"),i.vf=s}return o.index_!==On&&(i.i=o.index_.toString()),i}class no extends tt{constructor(i,s,u,_){super(),this.repoInfo_=i,this.onDataUpdate_=s,this.authTokenProvider_=u,this.appCheckTokenProvider_=_,this.log_=Fn("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,s){return void 0!==s?"tag$"+s:((0,x.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,s,u,_){const b=i._path.toString();this.log_("Listen called for "+b+" "+i._queryIdentifier);const M=no.getListenId_(i,u),B={};this.listens_[M]=B;const W=to(i._queryParams);this.restRequest_(b+".json",W,(J,Te)=>{let Me=Te;if(404===J&&(Me=null,J=null),null===J&&this.onDataUpdate_(b,Me,!1,u),(0,x.DV)(this.listens_,M)===B){let Ge;Ge=J?401===J?"permission_denied":"rest_error:"+J:"ok",_(Ge,null)}})}unlisten(i,s){const u=no.getListenId_(i,s);delete this.listens_[u]}get(i){const s=to(i._queryParams),u=i._path.toString(),_=new x.BH;return this.restRequest_(u+".json",s,(b,M)=>{let B=M;404===b&&(B=null,b=null),null===b?(this.onDataUpdate_(u,B,!1,null),_.resolve(B)):_.reject(new Error(B))}),_.promise}refreshAuthToken(i){}restRequest_(i,s={},u){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([_,b])=>{_&&_.accessToken&&(s.auth=_.accessToken),b&&b.token&&(s.ac=b.token);const M=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,x.xO)(s);this.log_("Sending REST request for "+M);const B=new XMLHttpRequest;B.onreadystatechange=()=>{if(u&&4===B.readyState){this.log_("REST Response for "+M+" received. status:",B.status,"response:",B.responseText);let W=null;if(B.status>=200&&B.status<300){try{W=(0,x.cI)(B.responseText)}catch{bt("Failed to parse JSON response for "+M+": "+B.responseText)}u(null,W)}else 401!==B.status&&404!==B.status&&bt("Got unsuccessful REST response for "+M+" Status: "+B.status),u(B.status);u=null}},B.open("GET",M,!0),B.send()})}}class Bi{constructor(){this.rootNode_=Wt.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,s){this.rootNode_=this.rootNode_.updateChild(i,s)}}function Do(){return{value:null,children:new Map}}function vs(o,i,s){if(Xt(i))o.value=s,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(i,s);else{const u=Ut(i);o.children.has(u)||o.children.set(u,Do()),vs(o.children.get(u),i=Un(i),s)}}function Fs(o,i){if(Xt(i))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;{const s=o.value;return o.value=null,s.forEachChild(On,(u,_)=>{vs(o,new hn(u),_)}),Fs(o,i)}}if(o.children.size>0){const s=Ut(i);return i=Un(i),o.children.has(s)&&Fs(o.children.get(s),i)&&o.children.delete(s),0===o.children.size}return!0}function Bo(o,i,s){null!==o.value?s(i,o.value):function Co(o,i){o.children.forEach((s,u)=>{i(u,s)})}(o,(u,_)=>{Bo(_,new hn(i.toString()+"/"+u),s)})}class va{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),s=Object.assign({},i);return this.last_&&An(this.last_,(u,_)=>{s[u]=s[u]-_}),this.last_=i,s}}class Ea{constructor(i,s){this.server_=s,this.statsToReport_={},this.statsListener_=new va(i);const u=1e4+2e4*Math.random();st(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const i=this.statsListener_.get(),s={};let u=!1;An(i,(_,b)=>{b>0&&(0,x.r3)(this.statsToReport_,_)&&(s[_]=b,u=!0)}),u&&this.server_.reportStats(s),st(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var tr=(()=>{return(o=tr||(tr={}))[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",tr;var o})();function ta(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}class Ji{constructor(i,s,u){this.path=i,this.affectedTree=s,this.revert=u,this.type=tr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(Xt(this.path)){if(null!=this.affectedTree.value)return(0,x.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new hn(i));return new Ji(ln(),s,this.revert)}}return(0,x.hu)(Ut(this.path)===i,"operationForChild called for unrelated child."),new Ji(Un(this.path),this.affectedTree,this.revert)}}class li{constructor(i,s){this.source=i,this.path=s,this.type=tr.LISTEN_COMPLETE}operationForChild(i){return Xt(this.path)?new li(this.source,ln()):new li(this.source,Un(this.path))}}class Ei{constructor(i,s,u){this.source=i,this.path=s,this.snap=u,this.type=tr.OVERWRITE}operationForChild(i){return Xt(this.path)?new Ei(this.source,ln(),this.snap.getImmediateChild(i)):new Ei(this.source,Un(this.path),this.snap)}}class rr{constructor(i,s,u){this.source=i,this.path=s,this.children=u,this.type=tr.MERGE}operationForChild(i){if(Xt(this.path)){const s=this.children.subtree(new hn(i));return s.isEmpty()?null:s.value?new Ei(this.source,ln(),s.value):new rr(this.source,ln(),s)}return(0,x.hu)(Ut(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new rr(this.source,Un(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ui{constructor(i,s,u){this.node_=i,this.fullyInitialized_=s,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Xt(i))return this.isFullyInitialized()&&!this.filtered_;const s=Ut(i);return this.isCompleteForChild(s)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class bo{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function Ii(o,i,s,u,_,b){const M=u.filter(B=>B.type===s);M.sort((B,W)=>function Ia(o,i,s){if(null==i.childName||null==s.childName)throw(0,x.g5)("Should only compare child_ events.");const u=new sn(i.childName,i.snapshotNode),_=new sn(s.childName,s.snapshotNode);return o.index_.compare(u,_)}(o,B,W)),M.forEach(B=>{const W=function Us(o,i,s){return"value"===i.type||"child_removed"===i.type||(i.prevName=s.getPredecessorChildName(i.childName,i.snapshotNode,o.index_)),i}(o,B,b);_.forEach(J=>{J.respondsTo(B.type)&&i.push(J.createEvent(W,o.query_))})})}function w(o,i){return{eventCache:o,serverCache:i}}function P(o,i,s,u){return w(new ui(i,s,u),o.serverCache)}function S(o,i,s,u){return w(o.eventCache,new ui(i,s,u))}function U(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function Z(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}let ye;class lt{constructor(i,s=(()=>(ye||(ye=new lr($r)),ye))()){this.value=i,this.children=s}static fromObject(i){let s=new lt(null);return An(i,(u,_)=>{s=s.set(new hn(u),_)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,s){if(null!=this.value&&s(this.value))return{path:ln(),value:this.value};if(Xt(i))return null;{const u=Ut(i),_=this.children.get(u);if(null!==_){const b=_.findRootMostMatchingPathAndValue(Un(i),s);return null!=b?{path:Sn(new hn(u),b.path),value:b.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Xt(i))return this;{const s=Ut(i),u=this.children.get(s);return null!==u?u.subtree(Un(i)):new lt(null)}}set(i,s){if(Xt(i))return new lt(s,this.children);{const u=Ut(i),b=(this.children.get(u)||new lt(null)).set(Un(i),s),M=this.children.insert(u,b);return new lt(this.value,M)}}remove(i){if(Xt(i))return this.children.isEmpty()?new lt(null):new lt(null,this.children);{const s=Ut(i),u=this.children.get(s);if(u){const _=u.remove(Un(i));let b;return b=_.isEmpty()?this.children.remove(s):this.children.insert(s,_),null===this.value&&b.isEmpty()?new lt(null):new lt(this.value,b)}return this}}get(i){if(Xt(i))return this.value;{const s=Ut(i),u=this.children.get(s);return u?u.get(Un(i)):null}}setTree(i,s){if(Xt(i))return s;{const u=Ut(i),b=(this.children.get(u)||new lt(null)).setTree(Un(i),s);let M;return M=b.isEmpty()?this.children.remove(u):this.children.insert(u,b),new lt(this.value,M)}}fold(i){return this.fold_(ln(),i)}fold_(i,s){const u={};return this.children.inorderTraversal((_,b)=>{u[_]=b.fold_(Sn(i,_),s)}),s(i,this.value,u)}findOnPath(i,s){return this.findOnPath_(i,ln(),s)}findOnPath_(i,s,u){const _=!!this.value&&u(s,this.value);if(_)return _;if(Xt(i))return null;{const b=Ut(i),M=this.children.get(b);return M?M.findOnPath_(Un(i),Sn(s,b),u):null}}foreachOnPath(i,s){return this.foreachOnPath_(i,ln(),s)}foreachOnPath_(i,s,u){if(Xt(i))return this;{this.value&&u(s,this.value);const _=Ut(i),b=this.children.get(_);return b?b.foreachOnPath_(Un(i),Sn(s,_),u):new lt(null)}}foreach(i){this.foreach_(ln(),i)}foreach_(i,s){this.children.inorderTraversal((u,_)=>{_.foreach_(Sn(i,u),s)}),this.value&&s(i,this.value)}foreachChild(i){this.children.inorderTraversal((s,u)=>{u.value&&i(s,u.value)})}}class Yt{constructor(i){this.writeTree_=i}static empty(){return new Yt(new lt(null))}}function Dn(o,i,s){if(Xt(i))return new Yt(new lt(s));{const u=o.writeTree_.findRootMostValueAndPath(i);if(null!=u){const _=u.path;let b=u.value;const M=pr(_,i);return b=b.updateChild(M,s),new Yt(o.writeTree_.set(_,b))}{const _=new lt(s),b=o.writeTree_.setTree(i,_);return new Yt(b)}}}function Rn(o,i,s){let u=o;return An(s,(_,b)=>{u=Dn(u,Sn(i,_),b)}),u}function en(o,i){if(Xt(i))return Yt.empty();{const s=o.writeTree_.setTree(i,new lt(null));return new Yt(s)}}function ir(o,i){return null!=jt(o,i)}function jt(o,i){const s=o.writeTree_.findRootMostValueAndPath(i);return null!=s?o.writeTree_.get(s.path).getChild(pr(s.path,i)):null}function zn(o){const i=[],s=o.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(On,(u,_)=>{i.push(new sn(u,_))}):o.writeTree_.children.inorderTraversal((u,_)=>{null!=_.value&&i.push(new sn(u,_.value))}),i}function Er(o,i){if(Xt(i))return o;{const s=jt(o,i);return new Yt(null!=s?new lt(s):o.writeTree_.subtree(i))}}function wr(o){return o.writeTree_.isEmpty()}function _r(o,i){return Vi(ln(),o.writeTree_,i)}function Vi(o,i,s){if(null!=i.value)return s.updateChild(o,i.value);{let u=null;return i.children.inorderTraversal((_,b)=>{".priority"===_?((0,x.hu)(null!==b.value,"Priority writes must always be leaf nodes"),u=b.value):s=Vi(Sn(o,_),b,s)}),!s.getChild(o).isEmpty()&&null!==u&&(s=s.updateChild(Sn(o,".priority"),u)),s}}function Di(o,i){return oo(i,o)}function Is(o,i){if(o.snap)return Wr(o.path,i);for(const s in o.children)if(o.children.hasOwnProperty(s)&&Wr(Sn(o.path,s),i))return!0;return!1}function Ci(o){return o.visible}function $o(o,i,s){let u=Yt.empty();for(let _=0;_<o.length;++_){const b=o[_];if(i(b)){const M=b.path;let B;if(b.snap)Wr(s,M)?(B=pr(s,M),u=Dn(u,B,b.snap)):Wr(M,s)&&(B=pr(M,s),u=Dn(u,ln(),b.snap.getChild(B)));else{if(!b.children)throw(0,x.g5)("WriteRecord should have .snap or .children");if(Wr(s,M))B=pr(s,M),u=Rn(u,B,b.children);else if(Wr(M,s))if(B=pr(M,s),Xt(B))u=Rn(u,ln(),b.children);else{const W=(0,x.DV)(b.children,Ut(B));if(W){const J=W.getChild(Un(B));u=Dn(u,ln(),J)}}}}}return u}function ci(o,i,s,u,_){if(u||_){const b=Er(o.visibleWrites,i);return!_&&wr(b)?s:_||null!=s||ir(b,ln())?_r($o(o.allWrites,function(J){return(J.visible||_)&&(!u||!~u.indexOf(J.writeId))&&(Wr(J.path,i)||Wr(i,J.path))},i),s||Wt.EMPTY_NODE):null}{const b=jt(o.visibleWrites,i);if(null!=b)return b;{const M=Er(o.visibleWrites,i);return wr(M)?s:null!=s||ir(M,ln())?_r(M,s||Wt.EMPTY_NODE):null}}}function so(o,i,s,u){return ci(o.writeTree,o.treePath,i,s,u)}function Ds(o,i){return function io(o,i,s){let u=Wt.EMPTY_NODE;const _=jt(o.visibleWrites,i);if(_)return _.isLeafNode()||_.forEachChild(On,(b,M)=>{u=u.updateImmediateChild(b,M)}),u;if(s){const b=Er(o.visibleWrites,i);return s.forEachChild(On,(M,B)=>{const W=_r(Er(b,new hn(M)),B);u=u.updateImmediateChild(M,W)}),zn(b).forEach(M=>{u=u.updateImmediateChild(M.name,M.node)}),u}return zn(Er(o.visibleWrites,i)).forEach(M=>{u=u.updateImmediateChild(M.name,M.node)}),u}(o.writeTree,o.treePath,i)}function Ho(o,i,s,u){return function na(o,i,s,u,_){(0,x.hu)(u||_,"Either existingEventSnap or existingServerSnap must exist");const b=Sn(i,s);if(ir(o.visibleWrites,b))return null;{const M=Er(o.visibleWrites,b);return wr(M)?_.getChild(s):_r(M,_.getChild(s))}}(o.writeTree,o.treePath,i,s,u)}function ra(o,i){return function Vs(o,i){return jt(o.visibleWrites,i)}(o.writeTree,Sn(o.treePath,i))}function bi(o,i,s){return function Bs(o,i,s,u){const _=Sn(i,s),b=jt(o.visibleWrites,_);return null!=b?b:u.isCompleteForChild(s)?_r(Er(o.visibleWrites,_),u.getNode().getImmediateChild(s)):null}(o.writeTree,o.treePath,i,s)}function So(o,i){return oo(Sn(o.treePath,i),o.writeTree)}function oo(o,i){return{treePath:o,writeTree:i}}class ia{constructor(){this.changeMap=new Map}trackChildChange(i){const s=i.type,u=i.childName;(0,x.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,x.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const _=this.changeMap.get(u);if(_){const b=_.type;if("child_added"===s&&"child_removed"===b)this.changeMap.set(u,_i(u,i.snapshotNode,_.snapshotNode));else if("child_removed"===s&&"child_added"===b)this.changeMap.delete(u);else if("child_removed"===s&&"child_changed"===b)this.changeMap.set(u,yr(u,_.oldSnap));else if("child_changed"===s&&"child_added"===b)this.changeMap.set(u,Fi(u,i.snapshotNode));else{if("child_changed"!==s||"child_changed"!==b)throw(0,x.g5)("Illegal combination of changes: "+i+" occurred after "+_);this.changeMap.set(u,_i(u,i.snapshotNode,_.oldSnap))}}else this.changeMap.set(u,i)}getChanges(){return Array.from(this.changeMap.values())}}const es=new class Cs{getCompleteChild(i){return null}getChildAfterChild(i,s,u){return null}};class ws{constructor(i,s,u=null){this.writes_=i,this.viewCache_=s,this.optCompleteServerCache_=u}getCompleteChild(i){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(i))return s.getNode().getImmediateChild(i);{const u=null!=this.optCompleteServerCache_?new ui(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bi(this.writes_,i,u)}}getChildAfterChild(i,s,u){const _=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Z(this.viewCache_),b=function wi(o,i,s,u,_,b){return function jo(o,i,s,u,_,b,M){let B;const W=Er(o.visibleWrites,i),J=jt(W,ln());if(null!=J)B=J;else{if(null==s)return[];B=_r(W,s)}if(B=B.withIndex(M),B.isEmpty()||B.isLeafNode())return[];{const Te=[],Me=M.getCompare(),Ge=b?B.getReverseIteratorFrom(u,M):B.getIteratorFrom(u,M);let Tt=Ge.getNext();for(;Tt&&Te.length<_;)0!==Me(Tt,u)&&Te.push(Tt),Tt=Ge.getNext();return Te}}(o.writeTree,o.treePath,i,s,u,_,b)}(this.writes_,_,s,1,u,i);return 0===b.length?null:b[0]}}function ts(o,i,s,u,_,b){const M=i.eventCache;if(null!=ra(u,s))return i;{let B,W;if(Xt(s))if((0,x.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const J=Z(i),Me=Ds(u,J instanceof Wt?J:Wt.EMPTY_NODE);B=o.filter.updateFullNode(i.eventCache.getNode(),Me,b)}else{const J=so(u,Z(i));B=o.filter.updateFullNode(i.eventCache.getNode(),J,b)}else{const J=Ut(s);if(".priority"===J){(0,x.hu)(1===Xn(s),"Can't have a priority with additional path components");const Te=M.getNode();W=i.serverCache.getNode();const Me=Ho(u,s,Te,W);B=null!=Me?o.filter.updatePriority(Te,Me):M.getNode()}else{const Te=Un(s);let Me;if(M.isCompleteForChild(J)){W=i.serverCache.getNode();const Ge=Ho(u,s,M.getNode(),W);Me=null!=Ge?M.getNode().getImmediateChild(J).updateChild(Te,Ge):M.getNode().getImmediateChild(J)}else Me=bi(u,J,i.serverCache);B=null!=Me?o.filter.updateChild(M.getNode(),J,Me,Te,_,b):M.getNode()}}return P(i,B,M.isFullyInitialized()||Xt(s),o.filter.filtersNodes())}}function bs(o,i,s,u,_,b,M,B){const W=i.serverCache;let J;const Te=M?o.filter:o.filter.getIndexedFilter();if(Xt(s))J=Te.updateFullNode(W.getNode(),u,null);else if(Te.filtersNodes()&&!W.isFiltered()){const Tt=W.getNode().updateChild(s,u);J=Te.updateFullNode(W.getNode(),Tt,null)}else{const Tt=Ut(s);if(!W.isCompleteForPath(s)&&Xn(s)>1)return i;const Ht=Un(s),ei=W.getNode().getImmediateChild(Tt).updateChild(Ht,u);J=".priority"===Tt?Te.updatePriority(W.getNode(),ei):Te.updateChild(W.getNode(),Tt,ei,Ht,es,null)}const Me=S(i,J,W.isFullyInitialized()||Xt(s),Te.filtersNodes());return ts(o,Me,s,_,new ws(_,Me,b),B)}function ns(o,i,s,u,_,b,M){const B=i.eventCache;let W,J;const Te=new ws(_,i,b);if(Xt(s))J=o.filter.updateFullNode(i.eventCache.getNode(),u,M),W=P(i,J,!0,o.filter.filtersNodes());else{const Me=Ut(s);if(".priority"===Me)J=o.filter.updatePriority(i.eventCache.getNode(),u),W=P(i,J,B.isFullyInitialized(),B.isFiltered());else{const Ge=Un(s),Tt=B.getNode().getImmediateChild(Me);let Ht;if(Xt(Ge))Ht=u;else{const Kn=Te.getCompleteChild(Me);Ht=null!=Kn?".priority"===po(Ge)&&Kn.getChild(go(Ge)).isEmpty()?Kn:Kn.updateChild(Ge,u):Wt.EMPTY_NODE}W=Tt.equals(Ht)?i:P(i,o.filter.updateChild(B.getNode(),Me,Ht,Ge,Te,M),B.isFullyInitialized(),o.filter.filtersNodes())}}return W}function wa(o,i){return o.eventCache.isCompleteForChild(i)}function Ao(o,i,s){return s.foreach((u,_)=>{i=i.updateChild(u,_)}),i}function dl(o,i,s,u,_,b,M,B){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let J,W=i;J=Xt(s)?u:new lt(null).setTree(s,u);const Te=i.serverCache.getNode();return J.children.inorderTraversal((Me,Ge)=>{if(Te.hasChild(Me)){const Ht=Ao(0,i.serverCache.getNode().getImmediateChild(Me),Ge);W=bs(o,W,new hn(Me),Ht,_,b,M,B)}}),J.children.inorderTraversal((Me,Ge)=>{const Tt=!i.serverCache.isCompleteForChild(Me)&&null===Ge.value;if(!Te.hasChild(Me)&&!Tt){const Kn=Ao(0,i.serverCache.getNode().getImmediateChild(Me),Ge);W=bs(o,W,new hn(Me),Kn,_,b,M,B)}}),W}class hl{constructor(i,s){this.query_=i,this.eventRegistrations_=[];const u=this.query_._queryParams,_=new Eo(u.getIndex()),b=function ai(o){return o.loadsAllData()?new Eo(o.getIndex()):o.hasLimit()?new Uo(o):new Xs(o)}(u);this.processor_=function La(o){return{filter:o}}(b);const M=s.serverCache,B=s.eventCache,W=_.updateFullNode(Wt.EMPTY_NODE,M.getNode(),null),J=b.updateFullNode(Wt.EMPTY_NODE,B.getNode(),null),Te=new ui(W,M.isFullyInitialized(),_.filtersNodes()),Me=new ui(J,B.isFullyInitialized(),b.filtersNodes());this.viewCache_=w(Me,Te),this.eventGenerator_=new bo(this.query_)}get query(){return this.query_}}function ba(o,i){const s=Z(o.viewCache_);return s&&(o.query._queryParams.loadsAllData()||!Xt(i)&&!s.getImmediateChild(Ut(i)).isEmpty())?s.getChild(i):null}function js(o){return 0===o.eventRegistrations_.length}function Ts(o,i,s){const u=[];if(s){(0,x.hu)(null==i,"A cancel should cancel all event registrations.");const _=o.query._path;o.eventRegistrations_.forEach(b=>{const M=b.createCancelEvent(s,_);M&&u.push(M)})}if(i){let _=[];for(let b=0;b<o.eventRegistrations_.length;++b){const M=o.eventRegistrations_[b];if(M.matches(i)){if(i.hasAnyCallback()){_=_.concat(o.eventRegistrations_.slice(b+1));break}}else _.push(M)}o.eventRegistrations_=_}else o.eventRegistrations_=[];return u}function Ua(o,i,s,u){i.type===tr.MERGE&&null!==i.source.queryId&&((0,x.hu)(Z(o.viewCache_),"We should always have a full cache before handling merges"),(0,x.hu)(U(o.viewCache_),"Missing event cache, even though we have a server cache"));const _=o.viewCache_,b=function Gr(o,i,s,u,_){const b=new ia;let M,B;if(s.type===tr.OVERWRITE){const J=s;J.source.fromUser?M=ns(o,i,J.path,J.snap,u,_,b):((0,x.hu)(J.source.fromServer,"Unknown source."),B=J.source.tagged||i.serverCache.isFiltered()&&!Xt(J.path),M=bs(o,i,J.path,J.snap,u,_,B,b))}else if(s.type===tr.MERGE){const J=s;J.source.fromUser?M=function cl(o,i,s,u,_,b,M){let B=i;return u.foreach((W,J)=>{const Te=Sn(s,W);wa(i,Ut(Te))&&(B=ns(o,B,Te,J,_,b,M))}),u.foreach((W,J)=>{const Te=Sn(s,W);wa(i,Ut(Te))||(B=ns(o,B,Te,J,_,b,M))}),B}(o,i,J.path,J.children,u,_,b):((0,x.hu)(J.source.fromServer,"Unknown source."),B=J.source.tagged||i.serverCache.isFiltered(),M=dl(o,i,J.path,J.children,u,_,B,b))}else if(s.type===tr.ACK_USER_WRITE){const J=s;M=J.revert?function di(o,i,s,u,_,b){let M;if(null!=ra(u,s))return i;{const B=new ws(u,i,_),W=i.eventCache.getNode();let J;if(Xt(s)||".priority"===Ut(s)){let Te;if(i.serverCache.isFullyInitialized())Te=so(u,Z(i));else{const Me=i.serverCache.getNode();(0,x.hu)(Me instanceof Wt,"serverChildren would be complete if leaf node"),Te=Ds(u,Me)}J=o.filter.updateFullNode(W,Te,b)}else{const Te=Ut(s);let Me=bi(u,Te,i.serverCache);null==Me&&i.serverCache.isCompleteForChild(Te)&&(Me=W.getImmediateChild(Te)),J=null!=Me?o.filter.updateChild(W,Te,Me,Un(s),B,b):i.eventCache.getNode().hasChild(Te)?o.filter.updateChild(W,Te,Wt.EMPTY_NODE,Un(s),B,b):W,J.isEmpty()&&i.serverCache.isFullyInitialized()&&(M=so(u,Z(i)),M.isLeafNode()&&(J=o.filter.updateFullNode(J,M,b)))}return M=i.serverCache.isFullyInitialized()||null!=ra(u,ln()),P(i,J,M,o.filter.filtersNodes())}}(o,i,J.path,u,_,b):function Fa(o,i,s,u,_,b,M){if(null!=ra(_,s))return i;const B=i.serverCache.isFiltered(),W=i.serverCache;if(null!=u.value){if(Xt(s)&&W.isFullyInitialized()||W.isCompleteForPath(s))return bs(o,i,s,W.getNode().getChild(s),_,b,B,M);if(Xt(s)){let J=new lt(null);return W.getNode().forEachChild(Mr,(Te,Me)=>{J=J.set(new hn(Te),Me)}),dl(o,i,s,J,_,b,B,M)}return i}{let J=new lt(null);return u.foreach((Te,Me)=>{const Ge=Sn(s,Te);W.isCompleteForPath(Ge)&&(J=J.set(Te,W.getNode().getChild(Ge)))}),dl(o,i,s,J,_,b,B,M)}}(o,i,J.path,J.affectedTree,u,_,b)}else{if(s.type!==tr.LISTEN_COMPLETE)throw(0,x.g5)("Unknown operation type: "+s.type);M=function Gn(o,i,s,u,_){const b=i.serverCache;return ts(o,S(i,b.getNode(),b.isFullyInitialized()||Xt(s),b.isFiltered()),s,u,es,_)}(o,i,s.path,u,b)}const W=b.getChanges();return function sa(o,i,s){const u=i.eventCache;if(u.isFullyInitialized()){const _=u.getNode().isLeafNode()||u.getNode().isEmpty(),b=U(o);(s.length>0||!o.eventCache.isFullyInitialized()||_&&!u.getNode().equals(b)||!u.getNode().getPriority().equals(b.getPriority()))&&s.push(ms(U(i)))}}(i,M,W),{viewCache:M,changes:W}}(o.processor_,_,i,s,u);return function ul(o,i){(0,x.hu)(i.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,x.hu)(i.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,b.viewCache),(0,x.hu)(b.viewCache.serverCache.isFullyInitialized()||!_.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=b.viewCache,cr(o,b.changes,b.viewCache.eventCache.getNode(),null)}function cr(o,i,s,u){return function Es(o,i,s,u){const _=[],b=[];return i.forEach(M=>{"child_changed"===M.type&&o.index_.indexedValueChanged(M.oldSnap,M.snapshotNode)&&b.push(function yi(o,i){return{type:"child_moved",snapshotNode:i,childName:o}}(M.childName,M.snapshotNode))}),Ii(o,_,"child_removed",i,u,s),Ii(o,_,"child_added",i,u,s),Ii(o,_,"child_moved",b,u,s),Ii(o,_,"child_changed",i,u,s),Ii(o,_,"value",i,u,s),_}(o.eventGenerator_,i,s,u?[u]:o.eventRegistrations_)}let $i,Wo;class Jr{constructor(){this.views=new Map}}function ao(o,i,s,u){const _=i.source.queryId;if(null!==_){const b=o.views.get(_);return(0,x.hu)(null!=b,"SyncTree gave us an op for an invalid query."),Ua(b,i,s,u)}{let b=[];for(const M of o.views.values())b=b.concat(Ua(M,i,s,u));return b}}function As(o,i,s,u,_){const M=o.views.get(i._queryIdentifier);if(!M){let B=so(s,_?u:null),W=!1;B?W=!0:u instanceof Wt?(B=Ds(s,u),W=!1):(B=Wt.EMPTY_NODE,W=!1);const J=w(new ui(B,W,!1),new ui(u,_,!1));return new hl(i,J)}return M}function Va(o){const i=[];for(const s of o.views.values())s.query._queryParams.loadsAllData()||i.push(s);return i}function kr(o,i){let s=null;for(const u of o.views.values())s=s||ba(u,i);return s}function Jl(o,i){return i._queryParams.loadsAllData()?ji(o):o.views.get(i._queryIdentifier)}function Lr(o,i){return null!=Jl(o,i)}function Rs(o){return null!=ji(o)}function ji(o){for(const i of o.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let fl=1;class $a{constructor(i){this.listenProvider_=i,this.syncPointTree_=new lt(null),this.pendingWriteTree_=function Ca(){return{visibleWrites:Yt.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Hi(o,i,s,u,_){return function Xi(o,i,s,u,_){(0,x.hu)(u>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===_&&(_=!0),o.allWrites.push({path:i,snap:s,writeId:u,visible:_}),_&&(o.visibleWrites=Dn(o.visibleWrites,i,s)),o.lastWriteId=u}(o.pendingWriteTree_,i,s,u,_),_?G(o,new Ei({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,s)):[]}function Fr(o,i,s=!1){const u=function Vo(o,i){for(let s=0;s<o.allWrites.length;s++){const u=o.allWrites[s];if(u.writeId===i)return u}return null}(o.pendingWriteTree_,i);if(function Da(o,i){const s=o.allWrites.findIndex(B=>B.writeId===i);(0,x.hu)(s>=0,"removeWrite called with nonexistent writeId.");const u=o.allWrites[s];o.allWrites.splice(s,1);let _=u.visible,b=!1,M=o.allWrites.length-1;for(;_&&M>=0;){const B=o.allWrites[M];B.visible&&(M>=s&&Is(B,u.path)?_=!1:Wr(u.path,B.path)&&(b=!0)),M--}return!!_&&(b?(function To(o){o.visibleWrites=$o(o.allWrites,Ci,ln()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(u.snap?o.visibleWrites=en(o.visibleWrites,u.path):An(u.children,W=>{o.visibleWrites=en(o.visibleWrites,Sn(u.path,W))}),!0))}(o.pendingWriteTree_,i)){let b=new lt(null);return null!=u.snap?b=b.set(ln(),!0):An(u.children,M=>{b=b.set(new hn(M),!0)}),G(o,new Ji(u.path,b,s))}return[]}function zo(o,i,s){return G(o,new Ei({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,s))}function C(o,i,s,u,_=!1){const b=i._path,M=o.syncPointTree_.get(b);let B=[];if(M&&("default"===i._queryIdentifier||Lr(M,i))){const W=function Ba(o,i,s,u){const _=i._queryIdentifier,b=[];let M=[];const B=Rs(o);if("default"===_)for(const[W,J]of o.views.entries())M=M.concat(Ts(J,s,u)),js(J)&&(o.views.delete(W),J.query._queryParams.loadsAllData()||b.push(J.query));else{const W=o.views.get(_);W&&(M=M.concat(Ts(W,s,u)),js(W)&&(o.views.delete(_),W.query._queryParams.loadsAllData()||b.push(W.query)))}return B&&!Rs(o)&&b.push(new(function Ti(){return(0,x.hu)($i,"Reference.ts has not been loaded"),$i}())(i._repo,i._path)),{removed:b,events:M}}(M,i,s,u);(function Ss(o){return 0===o.views.size})(M)&&(o.syncPointTree_=o.syncPointTree_.remove(b));const J=W.removed;if(B=W.events,!_){const Te=-1!==J.findIndex(Ge=>Ge._queryParams.loadsAllData()),Me=o.syncPointTree_.findOnPath(b,(Ge,Tt)=>Rs(Tt));if(Te&&!Me){const Ge=o.syncPointTree_.subtree(b);if(!Ge.isEmpty()){const Tt=function br(o){return o.fold((i,s,u)=>{if(s&&Rs(s))return[ji(s)];{let _=[];return s&&(_=Va(s)),An(u,(b,M)=>{_=_.concat(M)}),_}})}(Ge);for(let Ht=0;Ht<Tt.length;++Ht){const Kn=Tt[Ht],ei=Kn.query,Gs=ut(o,Kn);o.listenProvider_.startListening(Ms(ei),Et(o,ei),Gs.hashFn,Gs.onComplete)}}}!Me&&J.length>0&&!u&&(Te?o.listenProvider_.stopListening(Ms(i),null):J.forEach(Ge=>{const Tt=o.queryToTagMap.get(At(Ge));o.listenProvider_.stopListening(Ms(Ge),Tt)}))}!function ja(o,i){for(let s=0;s<i.length;++s){const u=i[s];if(!u._queryParams.loadsAllData()){const _=At(u),b=o.queryToTagMap.get(_);o.queryToTagMap.delete(_),o.tagToQueryMap.delete(b)}}}(o,J)}return B}function R(o,i,s,u){const _=tn(o,u);if(null!=_){const b=kt(_),M=b.path,B=b.queryId,W=pr(M,i);return Kr(o,M,new Ei(ta(B),W,s))}return[]}function y(o,i,s,u=!1){const _=i._path;let b=null,M=!1;o.syncPointTree_.foreachOnPath(_,(Ge,Tt)=>{const Ht=pr(Ge,_);b=b||kr(Tt,Ht),M=M||Rs(Tt)});let W,B=o.syncPointTree_.get(_);B?(M=M||Rs(B),b=b||kr(B,ln())):(B=new Jr,o.syncPointTree_=o.syncPointTree_.set(_,B)),null!=b?W=!0:(W=!1,b=Wt.EMPTY_NODE,o.syncPointTree_.subtree(_).foreachChild((Tt,Ht)=>{const Kn=kr(Ht,ln());Kn&&(b=b.updateImmediateChild(Tt,Kn))}));const J=Lr(B,i);if(!J&&!i._queryParams.loadsAllData()){const Ge=At(i);(0,x.hu)(!o.queryToTagMap.has(Ge),"View does not exist, but we have a tag");const Tt=function la(){return fl++}();o.queryToTagMap.set(Ge,Tt),o.tagToQueryMap.set(Tt,Ge)}let Me=function lo(o,i,s,u,_,b){const M=As(o,i,u,_,b);return o.views.has(i._queryIdentifier)||o.views.set(i._queryIdentifier,M),function oa(o,i){o.eventRegistrations_.push(i)}(M,s),function Mu(o,i){const s=o.viewCache_.eventCache,u=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(On,(b,M)=>{u.push(Fi(b,M))}),s.isFullyInitialized()&&u.push(ms(s.getNode())),cr(o,u,s.getNode(),i)}(M,s)}(B,i,s,Di(o.pendingWriteTree_,_),b,W);if(!J&&!M&&!u){const Ge=Jl(B,i);Me=Me.concat(function Si(o,i,s){const u=i._path,_=Et(o,i),b=ut(o,s),M=o.listenProvider_.startListening(Ms(i),_,b.hashFn,b.onComplete),B=o.syncPointTree_.subtree(u);if(_)(0,x.hu)(!Rs(B.value),"If we're adding a query, it shouldn't be shadowed");else{const W=B.fold((J,Te,Me)=>{if(!Xt(J)&&Te&&Rs(Te))return[ji(Te).query];{let Ge=[];return Te&&(Ge=Ge.concat(Va(Te).map(Tt=>Tt.query))),An(Me,(Tt,Ht)=>{Ge=Ge.concat(Ht)}),Ge}});for(let J=0;J<W.length;++J){const Te=W[J];o.listenProvider_.stopListening(Ms(Te),Et(o,Te))}}return M}(o,i,Ge))}return Me}function A(o,i,s){const _=o.pendingWriteTree_,b=o.syncPointTree_.findOnPath(i,(M,B)=>{const J=kr(B,pr(M,i));if(J)return J});return ci(_,i,b,s,!0)}function G(o,i){return te(i,o.syncPointTree_,null,Di(o.pendingWriteTree_,ln()))}function te(o,i,s,u){if(Xt(o.path))return we(o,i,s,u);{const _=i.get(ln());null==s&&null!=_&&(s=kr(_,ln()));let b=[];const M=Ut(o.path),B=o.operationForChild(M),W=i.children.get(M);if(W&&B){const J=s?s.getImmediateChild(M):null,Te=So(u,M);b=b.concat(te(B,W,J,Te))}return _&&(b=b.concat(ao(_,o,u,s))),b}}function we(o,i,s,u){const _=i.get(ln());null==s&&null!=_&&(s=kr(_,ln()));let b=[];return i.children.inorderTraversal((M,B)=>{const W=s?s.getImmediateChild(M):null,J=So(u,M),Te=o.operationForChild(M);Te&&(b=b.concat(we(Te,B,W,J)))}),_&&(b=b.concat(ao(_,o,u,s))),b}function ut(o,i){const s=i.query,u=Et(o,s);return{hashFn:()=>(function $s(o){return o.viewCache_.serverCache.getNode()}(i)||Wt.EMPTY_NODE).hash(),onComplete:_=>{if("ok"===_)return u?function f(o,i,s){const u=tn(o,s);if(u){const _=kt(u),b=_.path,M=_.queryId,B=pr(b,i);return Kr(o,b,new li(ta(M),B))}return[]}(o,s._path,u):function v(o,i){return G(o,new li({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(o,s._path);{const b=function kn(o,i){let s="Unknown Error";"too_big"===o?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?s="Client doesn't have permission to access the desired data.":"unavailable"===o&&(s="The service is unavailable");const u=new Error(o+" at "+i._path.toString()+": "+s);return u.code=o.toUpperCase(),u}(_,s);return C(o,s,null,b)}}}}function Et(o,i){const s=At(i);return o.queryToTagMap.get(s)}function At(o){return o._path.toString()+"$"+o._queryIdentifier}function tn(o,i){return o.tagToQueryMap.get(i)}function kt(o){const i=o.indexOf("$");return(0,x.hu)(-1!==i&&i<o.length-1,"Bad queryKey."),{queryId:o.substr(i+1),path:new hn(o.substr(0,i))}}function Kr(o,i,s){const u=o.syncPointTree_.get(i);return(0,x.hu)(u,"Missing sync point for query tag that we're tracking"),ao(u,s,Di(o.pendingWriteTree_,i),null)}function Ms(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new(function Ro(){return(0,x.hu)(Wo,"Reference.ts has not been loaded"),Wo}())(o._repo,o._path):o}class rs{constructor(i){this.node_=i}getImmediateChild(i){const s=this.node_.getImmediateChild(i);return new rs(s)}node(){return this.node_}}class ua{constructor(i,s){this.syncTree_=i,this.path_=s}getImmediateChild(i){const s=Sn(this.path_,i);return new ua(this.syncTree_,s)}node(){return A(this.syncTree_,this.path_)}}const Pu=function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o},wc=function(o,i,s){return o&&"object"==typeof o?((0,x.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?Ou(o[".sv"],i,s):"object"==typeof o[".sv"]?Nu(o[".sv"],i):void(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},Ou=function(o,i,s){if("timestamp"===o)return s.timestamp;(0,x.hu)(!1,"Unexpected server value: "+o)},Nu=function(o,i,s){o.hasOwnProperty("increment")||(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const u=o.increment;"number"!=typeof u&&(0,x.hu)(!1,"Unexpected increment value: "+u);const _=i.node();if((0,x.hu)(null!==_&&typeof _<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!_.isLeafNode())return u;const M=_.getValue();return"number"!=typeof M?u:M+u},xu=function(o,i,s,u){return Ha(i,new ua(s,o),u)},Xl=function(o,i,s){return Ha(o,new rs(i),s)};function Ha(o,i,s){const u=o.getPriority().val(),_=wc(u,i.getImmediateChild(".priority"),s);let b;if(o.isLeafNode()){const M=o,B=wc(M.getValue(),i,s);return B!==M.getValue()||_!==M.getPriority().val()?new zr(B,Ot(_)):o}{const M=o;return b=M,_!==M.getPriority().val()&&(b=b.updatePriority(new zr(_))),M.forEachChild(On,(B,W)=>{const J=Ha(W,i.getImmediateChild(B),s);J!==W&&(b=b.updateImmediateChild(B,J))}),b}}class ku{constructor(i="",s=null,u={children:{},childCount:0}){this.name=i,this.parent=s,this.node=u}}function Wa(o,i){let s=i instanceof hn?i:new hn(i),u=o,_=Ut(s);for(;null!==_;){const b=(0,x.DV)(u.node.children,_)||{children:{},childCount:0};u=new ku(_,u,b),s=Un(s),_=Ut(s)}return u}function Go(o){return o.node.value}function Lu(o,i){o.node.value=i,Sa(o)}function bc(o){return o.node.childCount>0}function eu(o,i){An(o.node.children,(s,u)=>{i(new ku(s,o,u))})}function Tc(o,i,s,u){s&&!u&&i(o),eu(o,_=>{Tc(_,i,!0,u)}),s&&u&&i(o)}function za(o){return new hn(null===o.parent?o.name:za(o.parent)+"/"+o.name)}function Sa(o){null!==o.parent&&function Fu(o,i,s){const u=function ld(o){return void 0===Go(o)&&!bc(o)}(s),_=(0,x.r3)(o.node.children,i);u&&_?(delete o.node.children[i],o.node.childCount--,Sa(o)):!u&&!_&&(o.node.children[i]=s.node,o.node.childCount++,Sa(o))}(o.parent,o.name,o)}const Uu=/[\[\].#$\/\u0000-\u001F\u007F]/,Bu=/[\[\].#$\u0000-\u001F\u007F]/,Hs=10485760,Nl=function(o){return"string"==typeof o&&0!==o.length&&!Uu.test(o)},tu=function(o){return"string"==typeof o&&0!==o.length&&!Bu.test(o)},Ga=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!mt(o)||o&&"object"==typeof o&&(0,x.r3)(o,".sv")},Ws=function(o,i,s,u){u&&void 0===i||pl((0,x.gK)(o,"value"),i,s)},pl=function(o,i,s){const u=s instanceof hn?new Qo(s,o):s;if(void 0===i)throw new Error(o+"contains undefined "+ds(u));if("function"==typeof i)throw new Error(o+"contains a function "+ds(u)+" with contents = "+i.toString());if(mt(i))throw new Error(o+"contains "+i.toString()+" "+ds(u));if("string"==typeof i&&i.length>Hs/3&&(0,x.ug)(i)>Hs)throw new Error(o+"contains a string greater than "+Hs+" utf8 bytes "+ds(u)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let _=!1,b=!1;if(An(i,(M,B)=>{if(".value"===M)_=!0;else if(".priority"!==M&&".sv"!==M&&(b=!0,!Nl(M)))throw new Error(o+" contains an invalid key ("+M+") "+ds(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Zi(o,i){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(i),o.byteLength_+=(0,x.ug)(i),Dr(o)})(u,M),pl(o,B,u),function Ar(o){const i=o.parts_.pop();o.byteLength_-=(0,x.ug)(i),o.parts_.length>0&&(o.byteLength_-=1)}(u)}),_&&b)throw new Error(o+' contains ".value" child '+ds(u)+" in addition to actual children.")}},Vu=function(o,i,s,u){if(u&&void 0===i)return;const _=(0,x.gK)(o,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(_+" must be an object containing the children to replace.");const b=[];An(i,(M,B)=>{const W=new hn(M);if(pl(_,B,Sn(s,W)),".priority"===po(W)&&!Ga(B))throw new Error(_+"contains an invalid value for '"+W.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");b.push(W)}),function(o,i){let s,u;for(s=0;s<i.length;s++){u=i[s];const b=Ns(u);for(let M=0;M<b.length;M++)if((".priority"!==b[M]||M!==b.length-1)&&!Nl(b[M]))throw new Error(o+"contains an invalid key ("+b[M]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(xo);let _=null;for(s=0;s<i.length;s++){if(u=i[s],null!==_&&Wr(_,u))throw new Error(o+"contains a path "+_.toString()+" that is ancestor of another path "+u.toString());_=u}}(_,b)},Ka=function(o,i,s){if(!s||void 0!==i){if(mt(i))throw new Error((0,x.gK)(o,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ga(i))throw new Error((0,x.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},gl=function(o,i,s,u){if(!(u&&void 0===s||Nl(s)))throw new Error((0,x.gK)(o,i)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Za=function(o,i,s,u){if(!(u&&void 0===s||tu(s)))throw new Error((0,x.gK)(o,i)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},is=function(o,i,s,u){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Za(o,i,s,u)},Ai=function(o,i){if(".info"===Ut(i))throw new Error(o+" failed = Can't modify data under /.info/")},ru=function(o,i){const s=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Nl(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==s.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),tu(o)}(s))throw new Error((0,x.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class xl{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ur(o,i){let s=null;for(let u=0;u<i.length;u++){const _=i[u],b=_.getPath();null!==s&&!ko(b,s.path)&&(o.eventLists_.push(s),s=null),null===s&&(s={events:[],path:b}),s.events.push(_)}s&&o.eventLists_.push(s)}function Ya(o,i,s){Ur(o,s),iu(o,u=>ko(u,i))}function ss(o,i,s){Ur(o,s),iu(o,u=>Wr(u,i)||Wr(i,u))}function iu(o,i){o.recursionDepth_++;let s=!0;for(let u=0;u<o.eventLists_.length;u++){const _=o.eventLists_[u];_&&(i(_.path)?(Rc(o.eventLists_[u]),o.eventLists_[u]=null):s=!1)}s&&(o.eventLists_=[]),o.recursionDepth_--}function Rc(o){for(let i=0;i<o.events.length;i++){const s=o.events[i];if(null!==s){o.events[i]=null;const u=s.getEventRunner();cn&&fn("event: "+s.toString()),Yn(u)}}}const su="repo_interrupt",$u=25;class ju{constructor(i,s,u,_){this.repoInfo_=i,this.forceRestClient_=s,this.authTokenProvider_=u,this.appCheckProvider_=_,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Do(),this.transactionQueueTree_=new ku,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ko(o){const s=o.infoData_.getNode(new hn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function ml(o){return Pu({timestamp:Ko(o)})}function Hu(o,i,s,u,_){o.dataUpdateCount++;const b=new hn(i);s=o.interceptServerDataCallback_?o.interceptServerDataCallback_(i,s):s;let M=[];if(_)if(u){const W=(0,x.UI)(s,J=>Ot(J));M=function h(o,i,s,u){const _=tn(o,u);if(_){const b=kt(_),M=b.path,B=b.queryId,W=pr(M,i),J=lt.fromObject(s);return Kr(o,M,new rr(ta(B),W,J))}return[]}(o.serverSyncTree_,b,W,_)}else{const W=Ot(s);M=R(o.serverSyncTree_,b,W,_)}else if(u){const W=(0,x.UI)(s,J=>Ot(J));M=function m(o,i,s){const u=lt.fromObject(s);return G(o,new rr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,u))}(o.serverSyncTree_,b,W)}else{const W=Ot(s);M=zo(o.serverSyncTree_,b,W)}let B=b;M.length>0&&(B=Mo(o,b)),ss(o.eventQueue_,B,M)}function qa(o,i){_l(o,"connected",i),!1===i&&function lu(o){Qa(o,"onDisconnectEvents");const i=ml(o),s=Do();Bo(o.onDisconnect_,ln(),(_,b)=>{const M=xu(_,b,o.serverSyncTree_,i);vs(s,_,M)});let u=[];Bo(s,ln(),(_,b)=>{u=u.concat(zo(o.serverSyncTree_,_,b));const M=Zo(o,_);Mo(o,M)}),o.onDisconnect_=Do(),ss(o.eventQueue_,ln(),u)}(o)}function _l(o,i,s){const u=new hn("/.info/"+i),_=Ot(s);o.infoData_.updateSnapshot(u,_);const b=zo(o.infoSyncTree_,u,_);ss(o.eventQueue_,u,b)}function ca(o){return o.nextWriteId_++}function yl(o,i,s,u,_){Qa(o,"set",{path:i.toString(),value:s,priority:u});const b=ml(o),M=Ot(s,u),B=A(o.serverSyncTree_,i),W=Xl(M,B,b),J=ca(o),Te=Hi(o.serverSyncTree_,i,W,J,!0);Ur(o.eventQueue_,Te),o.server_.put(i.toString(),M.val(!0),(Ge,Tt)=>{const Ht="ok"===Ge;Ht||bt("set at "+i+" failed: "+Ge);const Kn=Fr(o.serverSyncTree_,J,!Ht);ss(o.eventQueue_,i,Kn),da(0,_,Ge,Tt)});const Me=Zo(o,i);Mo(o,Me),ss(o.eventQueue_,Me,[])}function kl(o,i,s){o.server_.onDisconnectCancel(i.toString(),(u,_)=>{"ok"===u&&Fs(o.onDisconnect_,i),da(0,s,u,_)})}function Aa(o,i,s,u){const _=Ot(s);o.server_.onDisconnectPut(i.toString(),_.val(!0),(b,M)=>{"ok"===b&&vs(o.onDisconnect_,i,_),da(0,u,b,M)})}function vl(o,i,s){let u;u=".info"===Ut(i._path)?C(o.infoSyncTree_,i,s):C(o.serverSyncTree_,i,s),Ya(o.eventQueue_,i._path,u)}function cu(o){o.persistentConnection_&&o.persistentConnection_.interrupt(su)}function Qa(o,...i){let s="";o.persistentConnection_&&(s=o.persistentConnection_.id+":"),fn(s,...i)}function da(o,i,s,u){i&&Yn(()=>{if("ok"===s)i(null);else{const _=(s||"error").toUpperCase();let b=_;u&&(b+=": "+u);const M=new Error(b);M.code=_,i(M)}})}function El(o,i,s){return A(o.serverSyncTree_,i,s)||Wt.EMPTY_NODE}function Il(o,i=o.transactionQueueTree_){if(i||Dl(o,i),Go(i)){const s=Gu(o,i);(0,x.hu)(s.length>0,"Sending zero length transaction queue"),s.every(_=>0===_.status)&&function fu(o,i,s){const u=s.map(J=>J.currentWriteId),_=El(o,i,u);let b=_;const M=_.hash();for(let J=0;J<s.length;J++){const Te=s[J];(0,x.hu)(0===Te.status,"tryToSendTransactionQueue_: items in queue should all be run."),Te.status=1,Te.retryCount++;const Me=pr(i,Te.path);b=b.updateChild(Me,Te.currentOutputSnapshotRaw)}const B=b.val(!0),W=i;o.server_.put(W.toString(),B,J=>{Qa(o,"transaction put response",{path:W.toString(),status:J});let Te=[];if("ok"===J){const Me=[];for(let Ge=0;Ge<s.length;Ge++)s[Ge].status=2,Te=Te.concat(Fr(o.serverSyncTree_,s[Ge].currentWriteId)),s[Ge].onComplete&&Me.push(()=>s[Ge].onComplete(null,!0,s[Ge].currentOutputSnapshotResolved)),s[Ge].unwatcher();Dl(o,Wa(o.transactionQueueTree_,i)),Il(o,o.transactionQueueTree_),ss(o.eventQueue_,i,Te);for(let Ge=0;Ge<Me.length;Ge++)Yn(Me[Ge])}else{if("datastale"===J)for(let Me=0;Me<s.length;Me++)s[Me].status=3===s[Me].status?4:0;else{bt("transaction at "+W.toString()+" failed: "+J);for(let Me=0;Me<s.length;Me++)s[Me].status=4,s[Me].abortReason=J}Mo(o,i)}},M)}(o,za(i),s)}else bc(i)&&eu(i,s=>{Il(o,s)})}function Mo(o,i){const s=zu(o,i),u=za(s);return function pu(o,i,s){if(0===i.length)return;const u=[];let _=[];const M=i.filter(B=>0===B.status).map(B=>B.currentWriteId);for(let B=0;B<i.length;B++){const W=i[B],J=pr(s,W.path);let Me,Te=!1;if((0,x.hu)(null!==J,"rerunTransactionsUnderNode_: relativePath should not be null."),4===W.status)Te=!0,Me=W.abortReason,_=_.concat(Fr(o.serverSyncTree_,W.currentWriteId,!0));else if(0===W.status)if(W.retryCount>=$u)Te=!0,Me="maxretry",_=_.concat(Fr(o.serverSyncTree_,W.currentWriteId,!0));else{const Ge=El(o,W.path,M);W.currentInputSnapshot=Ge;const Tt=i[B].update(Ge.val());if(void 0!==Tt){pl("transaction failed: Data returned ",Tt,W.path);let Ht=Ot(Tt);"object"==typeof Tt&&null!=Tt&&(0,x.r3)(Tt,".priority")||(Ht=Ht.updatePriority(Ge.getPriority()));const ei=W.currentWriteId,Gs=ml(o),Pa=Xl(Ht,Ge,Gs);W.currentOutputSnapshotRaw=Ht,W.currentOutputSnapshotResolved=Pa,W.currentWriteId=ca(o),M.splice(M.indexOf(ei),1),_=_.concat(Hi(o.serverSyncTree_,W.path,Pa,W.currentWriteId,W.applyLocally)),_=_.concat(Fr(o.serverSyncTree_,ei,!0))}else Te=!0,Me="nodata",_=_.concat(Fr(o.serverSyncTree_,W.currentWriteId,!0))}ss(o.eventQueue_,s,_),_=[],Te&&(i[B].status=2,setTimeout(i[B].unwatcher,Math.floor(0)),i[B].onComplete&&u.push("nodata"===Me?()=>i[B].onComplete(null,!1,i[B].currentInputSnapshot):()=>i[B].onComplete(new Error(Me),!1,null)))}Dl(o,o.transactionQueueTree_);for(let B=0;B<u.length;B++)Yn(u[B]);Il(o,o.transactionQueueTree_)}(o,Gu(o,s),u),u}function zu(o,i){let s,u=o.transactionQueueTree_;for(s=Ut(i);null!==s&&void 0===Go(u);)u=Wa(u,s),s=Ut(i=Un(i));return u}function Gu(o,i){const s=[];return Ll(o,i,s),s.sort((u,_)=>u.order-_.order),s}function Ll(o,i,s){const u=Go(i);if(u)for(let _=0;_<u.length;_++)s.push(u[_]);eu(i,_=>{Ll(o,_,s)})}function Dl(o,i){const s=Go(i);if(s){let u=0;for(let _=0;_<s.length;_++)2!==s[_].status&&(s[u]=s[_],u++);s.length=u,Lu(i,s.length>0?s:void 0)}eu(i,u=>{Dl(o,u)})}function Zo(o,i){const s=za(zu(o,i)),u=Wa(o.transactionQueueTree_,i);return function Sc(o,i,s){let u=s?o:o.parent;for(;null!==u;){if(i(u))return!0;u=u.parent}}(u,_=>{Fl(o,_)}),Fl(o,u),Tc(u,_=>{Fl(o,_)}),s}function Fl(o,i){const s=Go(i);if(s){const u=[];let _=[],b=-1;for(let M=0;M<s.length;M++)3===s[M].status||(1===s[M].status?((0,x.hu)(b===M-1,"All SENT items should be at beginning of queue."),b=M,s[M].status=3,s[M].abortReason="set"):((0,x.hu)(0===s[M].status,"Unexpected transaction status in abort"),s[M].unwatcher(),_=_.concat(Fr(o.serverSyncTree_,s[M].currentWriteId,!0)),s[M].onComplete&&u.push(s[M].onComplete.bind(null,new Error("set"),!1,null))));-1===b?Lu(i,void 0):s.length=b+1,ss(o.eventQueue_,za(i),_);for(let M=0;M<u.length;M++)Yn(u[M])}}const Zu=function(o,i){const s=wl(o),u=s.namespace;return"firebase.com"===s.domain&&Mn(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==s.domain&&Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new H(s.host,s.secure,u,"ws"===s.scheme||"wss"===s.scheme,i,"",u!==s.subdomain),path:new hn(s.pathString)}},wl=function(o){let i="",s="",u="",_="",b="",M=!0,B="https",W=443;if("string"==typeof o){let J=o.indexOf("//");J>=0&&(B=o.substring(0,J-1),o=o.substring(J+2));let Te=o.indexOf("/");-1===Te&&(Te=o.length);let Me=o.indexOf("?");-1===Me&&(Me=o.length),i=o.substring(0,Math.min(Te,Me)),Te<Me&&(_=function Ku(o){let i="";const s=o.split("/");for(let u=0;u<s.length;u++)if(s[u].length>0){let _=s[u];try{_=decodeURIComponent(_.replace(/\+/g," "))}catch{}i+="/"+_}return i}(o.substring(Te,Me)));const Ge=function Cl(o){const i={};"?"===o.charAt(0)&&(o=o.substring(1));for(const s of o.split("&")){if(0===s.length)continue;const u=s.split("=");2===u.length?i[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):bt(`Invalid query segment '${s}' in query '${o}'`)}return i}(o.substring(Math.min(o.length,Me)));J=i.indexOf(":"),J>=0?(M="https"===B||"wss"===B,W=parseInt(i.substring(J+1),10)):J=i.length;const Tt=i.slice(0,J);if("localhost"===Tt.toLowerCase())s="localhost";else if(Tt.split(".").length<=2)s=Tt;else{const Ht=i.indexOf(".");u=i.substring(0,Ht).toLowerCase(),s=i.substring(Ht+1),b=u}"ns"in Ge&&(b=Ge.ns)}return{host:i,port:W,domain:s,subdomain:u,secure:M,scheme:B,pathString:_,namespace:b}},Yu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qu=function(){let o=0;const i=[];return function(s){const u=s===o;let _;o=s;const b=new Array(8);for(_=7;_>=0;_--)b[_]=Yu.charAt(s%64),s=Math.floor(s/64);(0,x.hu)(0===s,"Cannot push at time == 0");let M=b.join("");if(u){for(_=11;_>=0&&63===i[_];_--)i[_]=0;i[_]++}else for(_=0;_<12;_++)i[_]=Math.floor(64*Math.random());for(_=0;_<12;_++)M+=Yu.charAt(i[_]);return(0,x.hu)(20===M.length,"nextPushId: Length should be 20."),M}}();class gu{constructor(i,s,u,_){this.eventType=i,this.eventRegistration=s,this.snapshot=u,this.prevName=_}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,x.Wl)(this.snapshot.exportVal())}}class mu{constructor(i,s,u){this.eventRegistration=i,this.error=s,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ja{constructor(i,s){this.snapshotCallback=i,this.cancelCallback=s}onValue(i,s){this.snapshotCallback.call(null,i,s)}onCancel(i){return(0,x.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class bl{constructor(i,s){this._repo=i,this._path=s}cancel(){const i=new x.BH;return kl(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){Ai("OnDisconnect.remove",this._path);const i=new x.BH;return Aa(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){Ai("OnDisconnect.set",this._path),Ws("OnDisconnect.set",i,this._path,!1);const s=new x.BH;return Aa(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}setWithPriority(i,s){Ai("OnDisconnect.setWithPriority",this._path),Ws("OnDisconnect.setWithPriority",i,this._path,!1),Ka("OnDisconnect.setWithPriority",s,!1);const u=new x.BH;return function uu(o,i,s,u,_){const b=Ot(s,u);o.server_.onDisconnectPut(i.toString(),b.val(!0),(M,B)=>{"ok"===M&&vs(o.onDisconnect_,i,b),da(0,_,M,B)})}(this._repo,this._path,i,s,u.wrapCallback(()=>{})),u.promise}update(i){Ai("OnDisconnect.update",this._path),Vu("OnDisconnect.update",i,this._path,!1);const s=new x.BH;return function Wu(o,i,s,u){if((0,x.xb)(s))return fn("onDisconnect().update() called with empty data.  Don't do anything."),void da(0,u,"ok",void 0);o.server_.onDisconnectMerge(i.toString(),s,(_,b)=>{"ok"===_&&An(s,(M,B)=>{const W=Ot(B);vs(o.onDisconnect_,Sn(i,M),W)}),da(0,u,_,b)})}(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}}class Zr{constructor(i,s,u,_){this._repo=i,this._path=s,this._queryParams=u,this._orderByCalled=_}get key(){return Xt(this._path)?null:po(this._path)}get ref(){return new os(this._repo,this._path)}get _queryIdentifier(){const i=Ls(this._queryParams),s=vt(i);return"{}"===s?"default":s}get _queryObject(){return Ls(this._queryParams)}isEqual(i){if(!((i=(0,x.m9)(i))instanceof Zr))return!1;const s=this._repo===i._repo,u=ko(this._path,i._path);return s&&u&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function qs(o){let i="";for(let s=o.pieceNum_;s<o.pieces_.length;s++)""!==o.pieces_[s]&&(i+="/"+encodeURIComponent(String(o.pieces_[s])));return i||"/"}(this._path)}}function ha(o,i){if(!0===o._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Yo(o){let i=null,s=null;if(o.hasStart()&&(i=o.getIndexStartValue()),o.hasEnd()&&(s=o.getIndexEndValue()),o.getIndex()===Mr){const u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",_="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==Vn)throw new Error(u);if("string"!=typeof i)throw new Error(_)}if(o.hasEnd()){if(o.getIndexEndName()!==yn)throw new Error(u);if("string"!=typeof s)throw new Error(_)}}else if(o.getIndex()===On){if(null!=i&&!Ga(i)||null!=s&&!Ga(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,x.hu)(o.getIndex()instanceof er||o.getIndex()===Wn,"unknown index type."),null!=i&&"object"==typeof i||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function fa(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class os extends Zr{constructor(i,s){super(i,s,new ur,!1)}get parent(){const i=go(this._path);return null===i?null:new os(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Pr{constructor(i,s,u){this._node=i,this.ref=s,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const s=new hn(i),u=pa(this.ref,i);return new Pr(this._node.getChild(s),u,On)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(u,_)=>i(new Pr(_,pa(this.ref,u),On)))}hasChild(i){const s=new hn(i);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Po(o,i){return(o=(0,x.m9)(o))._checkNotDeleted("ref"),void 0!==i?pa(o._root,i):o._root}function _u(o,i){(o=(0,x.m9)(o))._checkNotDeleted("refFromURL");const s=Zu(i,o._repo.repoInfo_.nodeAdmin);ru("refFromURL",s);const u=s.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&u.host!==o._repo.repoInfo_.host&&Mn("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+o._repo.repoInfo_.host+")"),Po(o,s.path.toString())}function pa(o,i){return null===Ut((o=(0,x.m9)(o))._path)?is("child","path",i,!1):Za("child","path",i,!1),new os(o._repo,Sn(o._path,i))}function Tl(o,i){o=(0,x.m9)(o),Ai("set",o._path),Ws("set",i,o._path,!1);const s=new x.BH;return yl(o._repo,o._path,i,null,s.wrapCallback(()=>{})),s.promise}function Ul(o,i){Vu("update",i,o._path,!1);const s=new x.BH;return function au(o,i,s,u){Qa(o,"update",{path:i.toString(),value:s});let _=!0;const b=ml(o),M={};if(An(s,(B,W)=>{_=!1,M[B]=xu(Sn(i,B),Ot(W),o.serverSyncTree_,b)}),_)fn("update() called with empty data.  Don't do anything."),da(0,u,"ok",void 0);else{const B=ca(o),W=function aa(o,i,s,u){!function ro(o,i,s,u){(0,x.hu)(u>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:i,children:s,writeId:u,visible:!0}),o.visibleWrites=Rn(o.visibleWrites,i,s),o.lastWriteId=u}(o.pendingWriteTree_,i,s,u);const _=lt.fromObject(s);return G(o,new rr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,_))}(o.serverSyncTree_,i,M,B);Ur(o.eventQueue_,W),o.server_.merge(i.toString(),s,(J,Te)=>{const Me="ok"===J;Me||bt("update at "+i+" failed: "+J);const Ge=Fr(o.serverSyncTree_,B,!Me),Tt=Ge.length>0?Mo(o,i):i;ss(o.eventQueue_,Tt,Ge),da(0,u,J,Te)}),An(s,J=>{const Te=Zo(o,Sn(i,J));Mo(o,Te)}),ss(o.eventQueue_,i,[])}}(o._repo,o._path,i,s.wrapCallback(()=>{})),s.promise}function Xa(o){o=(0,x.m9)(o);const i=new Ja(()=>{}),s=new Sl(i);return function Mc(o,i,s){const u=function L(o,i){const s=i._path;let u=null;o.syncPointTree_.foreachOnPath(s,(J,Te)=>{const Me=pr(J,s);u=u||kr(Te,Me)});let _=o.syncPointTree_.get(s);_?u=u||kr(_,ln()):(_=new Jr,o.syncPointTree_=o.syncPointTree_.set(s,_));const b=null!=u,M=b?new ui(u,!0,!1):null;return function Ql(o){return U(o.viewCache_)}(As(_,i,Di(o.pendingWriteTree_,i._path),b?M.getNode():Wt.EMPTY_NODE,b))}(o.serverSyncTree_,i);return null!=u?Promise.resolve(u):o.server_.get(i).then(_=>{const b=Ot(_).withIndex(i._queryParams.getIndex());let M;if(y(o.serverSyncTree_,i,s,!0),i._queryParams.loadsAllData())M=zo(o.serverSyncTree_,i._path,b);else{const B=Et(o.serverSyncTree_,i);M=R(o.serverSyncTree_,i._path,b,B)}return ss(o.eventQueue_,i._path,M),C(o.serverSyncTree_,i,s,null,!0),b},_=>(Qa(o,"get for query "+(0,x.Wl)(i)+" failed: "+_),Promise.reject(new Error(_))))}(o._repo,o,s).then(u=>new Pr(u,new os(o._repo,o._path),o._queryParams.getIndex()))}class Sl{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,s){const u=s._queryParams.getIndex();return new gu("value",this,new Pr(i.snapshotNode,new os(s._repo,s._path),u))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new mu(this,i,s):null}matches(i){return i instanceof Sl&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Bl{constructor(i,s){this.eventType=i,this.callbackContext=s}respondsTo(i){let s="children_added"===i?"child_added":i;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new mu(this,i,s):null}createEvent(i,s){(0,x.hu)(null!=i.childName,"Child events should have a childName.");const u=pa(new os(s._repo,s._path),i.childName),_=s._queryParams.getIndex();return new gu(i.type,this,new Pr(i.snapshotNode,u,_),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof Bl&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Al(o,i,s,u,_){let b;if("object"==typeof u&&(b=void 0,_=u),"function"==typeof u&&(b=u),_&&_.onlyOnce){const W=s,J=(Te,Me)=>{vl(o._repo,o,B),W(Te,Me)};J.userCallback=s.userCallback,J.context=s.context,s=J}const M=new Ja(s,b||void 0),B="value"===i?new Sl(M):new Bl(i,M);return function Pc(o,i,s){let u;u=".info"===Ut(i._path)?y(o.infoSyncTree_,i,s):y(o.serverSyncTree_,i,s),Ya(o.eventQueue_,i._path,u)}(o._repo,o,B),()=>vl(o._repo,o,B)}function Ri(o,i,s,u){return Al(o,"value",i,s,u)}function el(o,i,s,u){return Al(o,"child_added",i,s,u)}function Vl(o,i,s,u){return Al(o,"child_changed",i,s,u)}function vu(o,i,s,u){return Al(o,"child_moved",i,s,u)}function Ps(o,i,s,u){return Al(o,"child_removed",i,s,u)}function ga(o,i,s){let u=null;const _=s?new Ja(s):null;"value"===i?u=new Sl(_):i&&(u=new Bl(i,_)),vl(o._repo,o,u)}class Os{}class $l extends Os{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Ws("endAt",this._value,i._path,!0);const s=Qi(i._queryParams,this._value,this._key);if(fa(s),Yo(s),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zr(i._repo,i._path,s,i._orderByCalled)}}class jl extends Os{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Ws("endBefore",this._value,i._path,!1);const s=function _s(o,i,s){let u;return u=Qi(o,i,o.index_===Mr||s?s:Vn),u.endBeforeSet_=!0,u}(i._queryParams,this._value,this._key);if(fa(s),Yo(s),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zr(i._repo,i._path,s,i._orderByCalled)}}class ec extends Os{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Ws("startAt",this._value,i._path,!0);const s=vr(i._queryParams,this._value,this._key);if(fa(s),Yo(s),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Zr(i._repo,i._path,s,i._orderByCalled)}}class kc extends Os{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Ws("startAfter",this._value,i._path,!1);const s=function Io(o,i,s){let u;return u=vr(o,i,o.index_===Mr||s?s:yn),u.startAfterSet_=!0,u}(i._queryParams,this._value,this._key);if(fa(s),Yo(s),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Zr(i._repo,i._path,s,i._orderByCalled)}}class l extends Os{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zr(i._repo,i._path,function eo(o,i){const s=o.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="l",s}(i._queryParams,this._limit),i._orderByCalled)}}class E extends Os{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zr(i._repo,i._path,function Ui(o,i){const s=o.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="r",s}(i._queryParams,this._limit),i._orderByCalled)}}class $ extends Os{constructor(i){super(),this._path=i}_apply(i){ha(i,"orderByChild");const s=new hn(this._path);if(Xt(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const u=new er(s),_=ys(i._queryParams,u);return Yo(_),new Zr(i._repo,i._path,_,!0)}}class Re extends Os{_apply(i){ha(i,"orderByKey");const s=ys(i._queryParams,Mr);return Yo(s),new Zr(i._repo,i._path,s,!0)}}class Mt extends Os{_apply(i){ha(i,"orderByPriority");const s=ys(i._queryParams,On);return Yo(s),new Zr(i._repo,i._path,s,!0)}}class zt extends Os{_apply(i){ha(i,"orderByValue");const s=ys(i._queryParams,Wn);return Yo(s),new Zr(i._repo,i._path,s,!0)}}class ho extends Os{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){if(Ws("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $l(this._value,this._key)._apply(new ec(this._value,this._key)._apply(i))}}function Br(o,...i){let s=(0,x.m9)(o);for(const u of i)s=u._apply(s);return s}(function Ta(o){(0,x.hu)(!$i,"__referenceConstructor has already been defined"),$i=o})(os),function uo(o){(0,x.hu)(!Wo,"__referenceConstructor has already been defined"),Wo=o}(os);const Ra="FIREBASE_DATABASE_EMULATOR_HOST",Rl={};let Hl=!1;function tc(o,i,s,u,_){let b=u||o.options.databaseURL;void 0===b&&(o.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fn("Using default host for project ",o.options.projectId),b=`${o.options.projectId}-default-rtdb.firebaseio.com`);let W,J,M=Zu(b,_),B=M.repoInfo;typeof process<"u"&&process.env&&(J=process.env[Ra]),J?(W=!0,b=`http://${J}?ns=${B.namespace}`,M=Zu(b,_),B=M.repoInfo):W=!M.repoInfo.secure;const Te=_&&W?new Pt(Pt.OWNER):new pt(o.name,o.options,i);ru("Invalid Firebase Database URL",M),Xt(M.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");const Me=function nc(o,i,s,u){let _=Rl[i.name];_||(_={},Rl[i.name]=_);let b=_[o.toURLString()];return b&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),b=new ju(o,Hl,s,u),_[o.toURLString()]=b,b}(B,o,Te,new je(o.name,s));return new Eu(Me,o)}class Eu{constructor(i,s){this._repoInternal=i,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ud(o,i,s){if(o.stats_=Ln(o.repoInfo_),o.forceRestClient_||Or())o.server_=new no(o.repoInfo_,(u,_,b,M)=>{Hu(o,u,_,b,M)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>qa(o,!0),0);else{if(typeof s<"u"&&null!==s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,x.Wl)(s)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}o.persistentConnection_=new Rr(o.repoInfo_,i,(u,_,b,M)=>{Hu(o,u,_,b,M)},u=>{qa(o,u)},u=>{!function ou(o,i){An(i,(s,u)=>{_l(o,s,u)})}(o,u)},o.authTokenProvider_,o.appCheckProvider_,s),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(u=>{o.server_.refreshAuthToken(u)}),o.appCheckProvider_.addTokenChangeListener(u=>{o.server_.refreshAppCheckToken(u.token)}),o.statsReporter_=function as(o,i){const s=o.toString();return pn[s]||(pn[s]=i()),pn[s]}(o.repoInfo_,()=>new Ea(o.stats_,o.server_)),o.infoData_=new Bi,o.infoSyncTree_=new $a({startListening:(u,_,b,M)=>{let B=[];const W=o.infoData_.getNode(u._path);return W.isEmpty()||(B=zo(o.infoSyncTree_,u._path,W),setTimeout(()=>{M("ok")},0)),B},stopListening:()=>{}}),_l(o,"connected",!1),o.serverSyncTree_=new $a({startListening:(u,_,b,M)=>(o.server_.listen(u,b,_,(B,W)=>{const J=M(B,W);ss(o.eventQueue_,u._path,J)}),[]),stopListening:(u,_)=>{o.server_.unlisten(u,_)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new os(this._repo,ln())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Lc(o,i){const s=Rl[i];(!s||s[o.key]!==o)&&Mn(`Database ${i}(${o.repoInfo_}) has already been deleted.`),cu(o),delete s[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&Mn("Cannot call "+i+" on a deleted database.")}}function Iu(){Pi.IS_TRANSPORT_INITIALIZED&&bt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function cd(){Iu(),wn.forceDisallow()}function dd(){Iu(),$t.forceDisallow(),wn.forceAllow()}function fd(o,i){Zn(o,i)}const th={".sv":"timestamp"};class Xr{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Rr.prototype.simpleListen=function(o,i){this.sendRequest("q",{p:o},i)},Rr.prototype.echo=function(o,i){this.sendRequest("echo",{d:o},i)},function rc(o){ke(ot.SDK_VERSION),(0,ot._registerComponent)(new qe.wA("database",(i,{instanceIdentifier:s})=>tc(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(Ee,"0.14.4",o),(0,ot.registerVersion)(Ee,"0.14.4","esm2017")}();const sh=new De.Yd("@firebase/database-compat"),md=function(o){sh.warn("FIREBASE WARNING: "+o)};class kf{constructor(i){this._delegate=i}cancel(i){(0,x.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,x.Wj)("OnDisconnect.cancel","onComplete",i,!0);const s=this._delegate.cancel();return i&&s.then(()=>i(null),u=>i(u)),s}remove(i){(0,x.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,x.Wj)("OnDisconnect.remove","onComplete",i,!0);const s=this._delegate.remove();return i&&s.then(()=>i(null),u=>i(u)),s}set(i,s){(0,x.Dv)("OnDisconnect.set",1,2,arguments.length),(0,x.Wj)("OnDisconnect.set","onComplete",s,!0);const u=this._delegate.set(i);return s&&u.then(()=>s(null),_=>s(_)),u}setWithPriority(i,s,u){(0,x.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,x.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);const _=this._delegate.setWithPriority(i,s);return u&&_.then(()=>u(null),b=>u(b)),_}update(i,s){if((0,x.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const _={};for(let b=0;b<i.length;++b)_[""+b]=i[b];i=_,md("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,x.Wj)("OnDisconnect.update","onComplete",s,!0);const u=this._delegate.update(i);return s&&u.then(()=>s(null),_=>s(_)),u}}class Lf{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return(0,x.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Oo{constructor(i,s){this._database=i,this._delegate=s}val(){return(0,x.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,x.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,x.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,x.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,x.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),Za("DataSnapshot.child","path",i,!1),new Oo(this._database,this._delegate.child(i))}hasChild(i){return(0,x.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Za("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,x.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,x.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,x.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(s=>i(new Oo(this._database,s)))}hasChildren(){return(0,x.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,x.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,x.Dv)("DataSnapshot.ref",0,0,arguments.length),new zs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class hi{constructor(i,s){this.database=i,this._delegate=s}on(i,s,u,_){var b;(0,x.Dv)("Query.on",2,4,arguments.length),(0,x.Wj)("Query.on","callback",s,!1);const M=hi.getCancelAndContextArgs_("Query.on",u,_),B=(J,Te)=>{s.call(M.context,new Oo(this.database,J),Te)};B.userCallback=s,B.context=M.context;const W=null===(b=M.cancel)||void 0===b?void 0:b.bind(M.context);switch(i){case"value":return Ri(this._delegate,B,W),s;case"child_added":return el(this._delegate,B,W),s;case"child_removed":return Ps(this._delegate,B,W),s;case"child_changed":return Vl(this._delegate,B,W),s;case"child_moved":return vu(this._delegate,B,W),s;default:throw new Error((0,x.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,s,u){if((0,x.Dv)("Query.off",0,3,arguments.length),function(o,i,s){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,x.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,x.Wj)("Query.off","callback",s,!0),(0,x.lb)("Query.off","context",u,!0),s){const _=()=>{};_.userCallback=s,_.context=u,ga(this._delegate,i,_)}else ga(this._delegate,i)}get(){return Xa(this._delegate).then(i=>new Oo(this.database,i))}once(i,s,u,_){(0,x.Dv)("Query.once",1,4,arguments.length),(0,x.Wj)("Query.once","callback",s,!0);const b=hi.getCancelAndContextArgs_("Query.once",u,_),M=new x.BH,B=(J,Te)=>{const Me=new Oo(this.database,J);s&&s.call(b.context,Me,Te),M.resolve(Me)};B.userCallback=s,B.context=b.context;const W=J=>{b.cancel&&b.cancel.call(b.context,J),M.reject(J)};switch(i){case"value":Ri(this._delegate,B,W,{onlyOnce:!0});break;case"child_added":el(this._delegate,B,W,{onlyOnce:!0});break;case"child_removed":Ps(this._delegate,B,W,{onlyOnce:!0});break;case"child_changed":Vl(this._delegate,B,W,{onlyOnce:!0});break;case"child_moved":vu(this._delegate,B,W,{onlyOnce:!0});break;default:throw new Error((0,x.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return M.promise}limitToFirst(i){return(0,x.Dv)("Query.limitToFirst",1,1,arguments.length),new hi(this.database,Br(this._delegate,function d(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new l(o)}(i)))}limitToLast(i){return(0,x.Dv)("Query.limitToLast",1,1,arguments.length),new hi(this.database,Br(this._delegate,function N(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new E(o)}(i)))}orderByChild(i){return(0,x.Dv)("Query.orderByChild",1,1,arguments.length),new hi(this.database,Br(this._delegate,function ce(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Za("orderByChild","path",o,!1),new $(o)}(i)))}orderByKey(){return(0,x.Dv)("Query.orderByKey",0,0,arguments.length),new hi(this.database,Br(this._delegate,function ht(){return new Re}()))}orderByPriority(){return(0,x.Dv)("Query.orderByPriority",0,0,arguments.length),new hi(this.database,Br(this._delegate,function qt(){return new Mt}()))}orderByValue(){return(0,x.Dv)("Query.orderByValue",0,0,arguments.length),new hi(this.database,Br(this._delegate,function Yr(){return new zt}()))}startAt(i=null,s){return(0,x.Dv)("Query.startAt",0,2,arguments.length),new hi(this.database,Br(this._delegate,function xc(o=null,i){return gl("startAt","key",i,!0),new ec(o,i)}(i,s)))}startAfter(i=null,s){return(0,x.Dv)("Query.startAfter",0,2,arguments.length),new hi(this.database,Br(this._delegate,function p(o,i){return gl("startAfter","key",i,!0),new kc(o,i)}(i,s)))}endAt(i=null,s){return(0,x.Dv)("Query.endAt",0,2,arguments.length),new hi(this.database,Br(this._delegate,function Xu(o,i){return gl("endAt","key",i,!0),new $l(o,i)}(i,s)))}endBefore(i=null,s){return(0,x.Dv)("Query.endBefore",0,2,arguments.length),new hi(this.database,Br(this._delegate,function Nc(o,i){return gl("endBefore","key",i,!0),new jl(o,i)}(i,s)))}equalTo(i,s){return(0,x.Dv)("Query.equalTo",1,2,arguments.length),new hi(this.database,Br(this._delegate,function tl(o,i){return gl("equalTo","key",i,!0),new ho(o,i)}(i,s)))}toString(){return(0,x.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,x.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,x.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof hi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,s,u){const _={cancel:void 0,context:void 0};if(s&&u)_.cancel=s,(0,x.Wj)(i,"cancel",_.cancel,!0),_.context=u,(0,x.lb)(i,"context",_.context,!0);else if(s)if("object"==typeof s&&null!==s)_.context=s;else{if("function"!=typeof s)throw new Error((0,x.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");_.cancel=s}return _}get ref(){return new zs(this.database,new os(this._delegate._repo,this._delegate._path))}}class zs extends hi{constructor(i,s){super(i,new Zr(s._repo,s._path,new ur,!1)),this.database=i,this._delegate=s}getKey(){return(0,x.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,x.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new zs(this.database,pa(this._delegate,i))}getParent(){(0,x.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new zs(this.database,i):null}getRoot(){return(0,x.Dv)("Reference.root",0,0,arguments.length),new zs(this.database,this._delegate.root)}set(i,s){(0,x.Dv)("Reference.set",1,2,arguments.length),(0,x.Wj)("Reference.set","onComplete",s,!0);const u=Tl(this._delegate,i);return s&&u.then(()=>s(null),_=>s(_)),u}update(i,s){if((0,x.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const _={};for(let b=0;b<i.length;++b)_[""+b]=i[b];i=_,md("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ai("Reference.update",this._delegate._path),(0,x.Wj)("Reference.update","onComplete",s,!0);const u=Ul(this._delegate,i);return s&&u.then(()=>s(null),_=>s(_)),u}setWithPriority(i,s,u){(0,x.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,x.Wj)("Reference.setWithPriority","onComplete",u,!0);const _=function co(o,i,s){if(Ai("setWithPriority",o._path),Ws("setWithPriority",i,o._path,!1),Ka("setWithPriority",s,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";const u=new x.BH;return yl(o._repo,o._path,i,s,u.wrapCallback(()=>{})),u.promise}(this._delegate,i,s);return u&&_.then(()=>u(null),b=>u(b)),_}remove(i){(0,x.Dv)("Reference.remove",0,1,arguments.length),(0,x.Wj)("Reference.remove","onComplete",i,!0);const s=function Oc(o){return Ai("remove",o._path),Tl(o,null)}(this._delegate);return i&&s.then(()=>i(null),u=>i(u)),s}transaction(i,s,u){(0,x.Dv)("Reference.transaction",1,3,arguments.length),(0,x.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,x.Wj)("Reference.transaction","onComplete",s,!0),function(o,i,s,u){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,x.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,u);const _=function rh(o,i,s){var u;if(o=(0,x.m9)(o),Ai("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";const _=null===(u=s?.applyLocally)||void 0===u||u,b=new x.BH,B=Ri(o,()=>{});return function hu(o,i,s,u,_,b){Qa(o,"transaction on "+i);const M={path:i,update:s,onComplete:u,status:null,order:St(),applyLocally:b,retryCount:0,unwatcher:_,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},B=El(o,i,void 0);M.currentInputSnapshot=B;const W=M.update(B.val());if(void 0===W)M.unwatcher(),M.currentOutputSnapshotRaw=null,M.currentOutputSnapshotResolved=null,M.onComplete&&M.onComplete(null,!1,M.currentInputSnapshot);else{pl("transaction failed: Data returned ",W,M.path),M.status=0;const J=Wa(o.transactionQueueTree_,i),Te=Go(J)||[];let Me;Te.push(M),Lu(J,Te),"object"==typeof W&&null!==W&&(0,x.r3)(W,".priority")?(Me=(0,x.DV)(W,".priority"),(0,x.hu)(Ga(Me),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Me=(A(o.serverSyncTree_,i)||Wt.EMPTY_NODE).getPriority().val();const Ge=ml(o),Tt=Ot(W,Me),Ht=Xl(Tt,B,Ge);M.currentOutputSnapshotRaw=Tt,M.currentOutputSnapshotResolved=Ht,M.currentWriteId=ca(o);const Kn=Hi(o.serverSyncTree_,i,Ht,M.currentWriteId,M.applyLocally);ss(o.eventQueue_,i,Kn),Il(o,o.transactionQueueTree_)}}(o._repo,o._path,i,(W,J,Te)=>{let Me=null;W?b.reject(W):(Me=new Pr(Te,new os(o._repo,o._path),On),b.resolve(new Xr(J,Me)))},B,_),b.promise}(this._delegate,i,{applyLocally:u}).then(b=>new Lf(b.committed,new Oo(this.database,b.snapshot)));return s&&_.then(b=>s(null,b.committed,b.snapshot),b=>s(b,!1,null)),_}setPriority(i,s){(0,x.Dv)("Reference.setPriority",1,2,arguments.length),(0,x.Wj)("Reference.setPriority","onComplete",s,!0);const u=function Ju(o,i){o=(0,x.m9)(o),Ai("setPriority",o._path),Ka("setPriority",i,!1);const s=new x.BH;return yl(o._repo,Sn(o._path,".priority"),i,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,i);return s&&u.then(()=>s(null),_=>s(_)),u}push(i,s){(0,x.Dv)("Reference.push",0,2,arguments.length),(0,x.Wj)("Reference.push","onComplete",s,!0);const u=function yu(o,i){o=(0,x.m9)(o),Ai("push",o._path),Ws("push",i,o._path,!0);const s=Ko(o._repo),u=qu(s),_=pa(o,u),b=pa(o,u);let M;return M=null!=i?Tl(b,i).then(()=>b):Promise.resolve(b),_.then=M.then.bind(M),_.catch=M.then.bind(M,void 0),_}(this._delegate,i),_=u.then(M=>new zs(this.database,M));s&&_.then(()=>s(null),M=>s(M));const b=new zs(this.database,u);return b.then=_.then.bind(_),b.catch=_.catch.bind(_,void 0),b}onDisconnect(){return Ai("Reference.onDisconnect",this._delegate._path),new kf(new bl(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Gl{constructor(i,s){this._delegate=i,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:cd,forceLongPolling:dd}}useEmulator(i,s,u={}){!function hd(o,i,s,u={}){(o=(0,x.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&Mn("Cannot call useEmulator() after instance has already been initialized.");const _=o._repoInternal;let b;if(_.repoInfo_.nodeAdmin)u.mockUserToken&&Mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),b=new Pt(Pt.OWNER);else if(u.mockUserToken){const M="string"==typeof u.mockUserToken?u.mockUserToken:(0,x.Sg)(u.mockUserToken,o.app.options.projectId);b=new Pt(M)}!function Wl(o,i,s,u){o.repoInfo_=new H(`${i}:${s}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams,!0),u&&(o.authTokenProvider_=u)}(_,i,s,b)}(this._delegate,i,s,u)}ref(i){if((0,x.Dv)("database.ref",0,1,arguments.length),i instanceof zs){const s=_u(this._delegate,i.toString());return new zs(this,s)}{const s=Po(this._delegate,i);return new zs(this,s)}}refFromURL(i){(0,x.Dv)("database.refFromURL",1,1,arguments.length);const u=_u(this._delegate,i);return new zs(this,u)}goOffline(){return(0,x.Dv)("database.goOffline",0,0,arguments.length),function Xd(o){(o=(0,x.m9)(o))._checkNotDeleted("goOffline"),cu(o._repo)}(this._delegate)}goOnline(){return(0,x.Dv)("database.goOnline",0,0,arguments.length),function eh(o){(o=(0,x.m9)(o))._checkNotDeleted("goOnline"),function du(o){o.persistentConnection_&&o.persistentConnection_.resume(su)}(o._repo)}(this._delegate)}}Gl.ServerValue={TIMESTAMP:function Fc(){return th}(),increment:o=>function nh(o){return{".sv":{increment:o}}}(o)};var Ff=Object.freeze({__proto__:null,initStandalone:function yd({app:o,url:i,version:s,customAuthImpl:u,namespace:_,nodeAdmin:b=!1}){ke(s);const M=new qe.zt("auth-internal",new qe.H0("database-standalone"));return M.setComponent(new qe.wA("auth-internal",()=>u,"PRIVATE")),{instance:new Gl(tc(o,M,void 0,i,b),o),namespace:_}}});const ah=Gl.ServerValue;!function vd(o){o.INTERNAL.registerComponent(new qe.wA("database-compat",(i,{instanceIdentifier:s})=>{const u=i.getProvider("app-compat").getImmediate(),_=i.getProvider("database").getImmediate({identifier:s});return new Gl(_,u)},"PUBLIC").setServiceProps({Reference:zs,Query:hi,Database:Gl,DataSnapshot:Oo,enableLogging:fd,INTERNAL:Ff,ServerValue:ah}).setMultipleInstances(!0)),o.registerVersion("@firebase/database-compat","0.3.4")}(nt.Z);var Ma=k(1205),Uc=k(6217),Uf=k(9260);function ic(o){return null==o}function Vc(o){return"function"==typeof o.set}function $c(o,i){return Vc(i)?i:o.ref(i)}function nl(o,i){if(function Bc(o){return"string"==typeof o}(o))return i.stringCase();if(Vc(o))return i.firebaseCase();if(function lh(o){return"function"==typeof o.exportVal}(o))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof o)}function Du(o,i,s="on",u=_e.z){return new q.y(_=>{let b=null;return b=o[s](i,(M,B)=>{u.schedule(()=>{_.next({snapshot:M,prevKey:B})}),"once"===s&&u.schedule(()=>_.complete())},M=>{u.schedule(()=>_.error(M))}),"on"===s?{unsubscribe(){null!=b&&o.off(i,b)}}:{unsubscribe(){}}}).pipe((0,Ke.U)(_=>{const{snapshot:b,prevKey:M}=_;let B=null;return b.exists()&&(B=b.key),{type:i,payload:b,prevKey:M,key:B}}),(0,Le.B)())}function Cu(o,i){const s=o.length;for(let u=0;u<s;u++)if(o[u].payload.key===i)return u;return-1}function Hc(o,i){const{payload:s,prevKey:u,key:_}=i,b=Cu(o,_),M=function uh(o,i){if(ic(i))return 0;{const s=Cu(o,i);return-1===s?o.length:s+1}}(o,u);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let B=null;i.payload.forEach(W=>{const J={payload:W,type:"value",prevKey:B,key:W.key};return B=W.key,o=[...o,J],!1})}return o;case"child_added":if(b>-1){const B=o[b-1];(B&&B.key||null)!==u&&(o=o.filter(W=>W.payload.key!==s.key)).splice(M,0,i)}else{if(null==u)return[i,...o];(o=o.slice()).splice(M,0,i)}return o;case"child_removed":return o.filter(B=>B.payload.key!==s.key);case"child_changed":return o.map(B=>B.payload.key===_?i:B);case"child_moved":if(b>-1){const B=o.splice(b,1)[0];return(o=o.slice()).splice(M,0,B),o}return o;default:return o}}function wu(o){return(ic(o)||0===o.length)&&(o=["child_added","child_removed","child_changed","child_moved"]),o}function rl(o,i,s){return function jc(o,i,s){return Du(o,"value","once",s).pipe((0,Ne.w)(u=>{const _=[(0,Q.of)(u)];return i.forEach(b=>_.push(Du(o,b,"on",s))),(0,se.T)(..._).pipe((0,_t.R)(Hc,[]))}),(0,be.x)())}(o,i=wu(i),s)}function Wc(o,i,s){const u=(i=wu(i)).map(_=>Du(o,_,"on",s));return(0,se.T)(...u)}function Gc(o,i){return function(u,_){return nl(u,{stringCase:()=>o.child(u)[i](_),firebaseCase:()=>u[i](_),snapshotCase:()=>u.ref[i](_)})}}function Kl(o){return function(s){return s?nl(s,{stringCase:()=>o.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):o.remove()}}function Ed(o,i){return function(){return Du(o,"value","on",i)}}const Kc=new re.OlP("angularfire2.realtimeDatabaseURL"),ph=new re.OlP("angularfire2.database.use-emulator");let Id=(()=>{class o{constructor(s,u,_,b,M,B,W,J,Te,Me,Ge,Tt,Ht,Kn,ei){this.schedulers=B;const Gs=W,Pa=(0,he.on)(s,M,u);J&&(0,Ma.nw)(Pa,M,Te,Ge,Tt,Ht,Me,Kn),this.database=(0,he.cc)(`${Pa.name}.database.${_}`,"AngularFireDatabase",Pa.name,()=>{const Zl=M.runOutsideAngular(()=>Pa.database(_||void 0));return Gs&&Zl.useEmulator(...Gs),Zl},[Gs])}list(s,u){const _=this.schedulers.ngZone.runOutsideAngular(()=>$c(this.database,s));let b=_;return u&&(b=u(_)),function hh(o,i){const s=i.schedulers.outsideAngular,u=i.schedulers.ngZone.run(()=>o.ref);return{query:o,update:Gc(u,"update"),set:Gc(u,"set"),push:_=>u.push(_),remove:Kl(u),snapshotChanges:_=>rl(o,_,s).pipe(Y.iC),stateChanges:_=>Wc(o,_,s).pipe(Y.iC),auditTrail:_=>function zc(o,i,s){return function dh(o,i,s){return function ch(o,i){return Du(o,"value","on",i).pipe((0,Ke.U)(s=>{let u;return s.payload.forEach(_=>(u=_.key,!1)),{data:s,lastKeyToLoad:u}}))}(o,s).pipe(function et(...o){const i=(0,We.jO)(o);return(0,Ve.e)((s,u)=>{const _=o.length,b=new Array(_);let M=o.map(()=>!1),B=!1;for(let W=0;W<_;W++)(0,Qe.Xf)(o[W]).subscribe((0,Be.x)(u,J=>{b[W]=J,!B&&!M[W]&&(M[W]=!0,(B=M.every(Pe.y))&&(M=null))},Oe.Z));s.subscribe((0,Be.x)(u,W=>{if(B){const J=[W,...b];u.next(i?i(...J):J)}}))})}(i),(0,Ke.U)(([_,b])=>{const M=_.lastKeyToLoad,B=b.map(W=>W.key);return{actions:b,lastKeyToLoad:M,loadedKeys:B}}),function Ye(o){return(0,Ve.e)((i,s)=>{let u=!1,_=0;i.subscribe((0,Be.x)(s,b=>(u||(u=!o(b,_++)))&&s.next(b)))})}(_=>-1===_.loadedKeys.indexOf(_.lastKeyToLoad)),(0,Ke.U)(_=>_.actions))}(o,Wc(o,i).pipe((0,_t.R)((_,b)=>[..._,b],[])),s)}(o,_,s).pipe(Y.iC),valueChanges:(_,b)=>rl(o,_,s).pipe((0,Ke.U)(B=>B.map(W=>b&&b.idField?Object.assign(Object.assign({},W.payload.val()),{[b.idField]:W.key}):W.payload.val())),Y.iC)}}(b,this)}object(s){return function fh(o,i){return{query:o,snapshotChanges:()=>Ed(o,i.schedulers.outsideAngular)().pipe(Y.iC),update:s=>o.ref.update(s),set:s=>o.ref.set(s),remove:()=>o.ref.remove(),valueChanges:()=>Ed(o,i.schedulers.outsideAngular)().pipe(Y.iC,(0,Ke.U)(u=>u.payload.exists()?u.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>$c(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return o.\u0275fac=function(s){return new(s||o)(re.LFG(he.Dh),re.LFG(he.xv,8),re.LFG(Kc,8),re.LFG(re.Lbi),re.LFG(re.R0b),re.LFG(Y.HU),re.LFG(ph,8),re.LFG(Ma.zQ,8),re.LFG(Ma.Qv,8),re.LFG(Ma.L6,8),re.LFG(Ma._Q,8),re.LFG(Ma.rT,8),re.LFG(Ma.lh,8),re.LFG(Ma.f7,8),re.LFG(Uc.nm,8))},o.\u0275prov=re.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),gh=(()=>{class o{constructor(){Uf.Z.registerVersion("angularfire",Y.q4.full,"rtdb-compat")}}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=re.oAB({type:o}),o.\u0275inj=re.cJS({providers:[Id]}),o})(),Dd=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=re.oAB({type:o,bootstrap:[ge]}),o.\u0275inj=re.cJS({imports:[I.b2,de,he.hO.initializeApp(j_firebaseConfig),gh]}),o})();I.q6().bootstrapModule(Dd).catch(o=>console.error(o))},9751:(It,Ie,k)=>{k.d(Ie,{y:()=>he});var I=k(930),j=k(727),F=k(8822),re=k(9635),ae=k(2416),de=k(576),ge=k(2806);let he=(()=>{class se{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const Ne=new se;return Ne.source=this,Ne.operator=Le,Ne}subscribe(Le,Ne,_t){const be=function Q(se){return se&&se instanceof I.Lv||function q(se){return se&&(0,de.m)(se.next)&&(0,de.m)(se.error)&&(0,de.m)(se.complete)}(se)&&(0,j.Nn)(se)}(Le)?Le:new I.Hp(Le,Ne,_t);return(0,ge.x)(()=>{const{operator:Ve,source:Be}=this;be.add(Ve?Ve.call(be,Be):Be?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Le){try{return this._subscribe(Le)}catch(Ne){Le.error(Ne)}}forEach(Le,Ne){return new(Ne=_e(Ne))((_t,be)=>{const Ve=new I.Hp({next:Be=>{try{Le(Be)}catch(Qe){be(Qe),Ve.unsubscribe()}},error:be,complete:_t});this.subscribe(Ve)})}_subscribe(Le){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(Le)}[F.L](){return this}pipe(...Le){return(0,re.U)(Le)(this)}toPromise(Le){return new(Le=_e(Le))((Ne,_t)=>{let be;this.subscribe(Ve=>be=Ve,Ve=>_t(Ve),()=>Ne(be))})}}return se.create=Ke=>new se(Ke),se})();function _e(se){var Ke;return null!==(Ke=se??ae.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(It,Ie,k)=>{k.d(Ie,{x:()=>ge});var I=k(9751),j=k(727);const re=(0,k(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(8737),de=k(2806);let ge=(()=>{class _e extends I.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const se=new he(this,this);return se.operator=Q,se}_throwIfClosed(){if(this.closed)throw new re}next(Q){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(Q)}})}error(Q){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:se}=this;for(;se.length;)se.shift().error(Q)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:se,isStopped:Ke,observers:Le}=this;return se||Ke?j.Lc:(this.currentObservers=null,Le.push(Q),new j.w0(()=>{this.currentObservers=null,(0,ae.P)(Le,Q)}))}_checkFinalizedStatuses(Q){const{hasError:se,thrownError:Ke,isStopped:Le}=this;se?Q.error(Ke):Le&&Q.complete()}asObservable(){const Q=new I.y;return Q.source=this,Q}}return _e.create=(q,Q)=>new he(q,Q),_e})();class he extends ge{constructor(q,Q){super(),this.destination=q,this.source=Q}next(q){var Q,se;null===(se=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===se||se.call(Q,q)}error(q){var Q,se;null===(se=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===se||se.call(Q,q)}complete(){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===Q||Q.call(q)}_subscribe(q){var Q,se;return null!==(se=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(q))&&void 0!==se?se:j.Lc}}},930:(It,Ie,k)=>{k.d(Ie,{Hp:()=>_t,Lv:()=>se});var I=k(576),j=k(727),F=k(2416),re=k(7849),ae=k(5032);const de=_e("C",void 0,void 0);function _e(Pe,Oe,We){return{kind:Pe,value:Oe,error:We}}var q=k(3410),Q=k(2806);class se extends j.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,j.Nn)(Oe)&&Oe.add(this)):this.destination=Qe}static create(Oe,We,et){return new _t(Oe,We,et)}next(Oe){this.isStopped?Be(function he(Pe){return _e("N",Pe,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?Be(function ge(Pe){return _e("E",void 0,Pe)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?Be(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Le(Pe,Oe){return Ke.call(Pe,Oe)}class Ne{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:We}=this;if(We.next)try{We.next(Oe)}catch(et){be(et)}}error(Oe){const{partialObserver:We}=this;if(We.error)try{We.error(Oe)}catch(et){be(et)}else be(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(We){be(We)}}}class _t extends se{constructor(Oe,We,et){let Ye;if(super(),(0,I.m)(Oe)||!Oe)Ye={next:Oe??void 0,error:We??void 0,complete:et??void 0};else{let Y;this&&F.v.useDeprecatedNextContext?(Y=Object.create(Oe),Y.unsubscribe=()=>this.unsubscribe(),Ye={next:Oe.next&&Le(Oe.next,Y),error:Oe.error&&Le(Oe.error,Y),complete:Oe.complete&&Le(Oe.complete,Y)}):Ye=Oe}this.destination=new Ne(Ye)}}function be(Pe){F.v.useDeprecatedSynchronousErrorHandling?(0,Q.O)(Pe):(0,re.h)(Pe)}function Be(Pe,Oe){const{onStoppedNotification:We}=F.v;We&&q.z.setTimeout(()=>We(Pe,Oe))}const Qe={closed:!0,next:ae.Z,error:function Ve(Pe){throw Pe},complete:ae.Z}},727:(It,Ie,k)=>{k.d(Ie,{Lc:()=>de,w0:()=>ae,Nn:()=>ge});var I=k(576);const F=(0,k(3888).d)(_e=>function(Q){_e(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((se,Ke)=>`${Ke+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var re=k(8737);class ae{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const Le of Q)Le.remove(this);else Q.remove(this);const{initialTeardown:se}=this;if((0,I.m)(se))try{se()}catch(Le){q=Le instanceof F?Le.errors:[Le]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Le of Ke)try{he(Le)}catch(Ne){q=q??[],Ne instanceof F?q=[...q,...Ne.errors]:q.push(Ne)}}if(q)throw new F(q)}}add(q){var Q;if(q&&q!==this)if(this.closed)he(q);else{if(q instanceof ae){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(q)}}_hasParent(q){const{_parentage:Q}=this;return Q===q||Array.isArray(Q)&&Q.includes(q)}_addParent(q){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(q),Q):Q?[Q,q]:q}_removeParent(q){const{_parentage:Q}=this;Q===q?this._parentage=null:Array.isArray(Q)&&(0,re.P)(Q,q)}remove(q){const{_finalizers:Q}=this;Q&&(0,re.P)(Q,q),q instanceof ae&&q._removeParent(this)}}ae.EMPTY=(()=>{const _e=new ae;return _e.closed=!0,_e})();const de=ae.EMPTY;function ge(_e){return _e instanceof ae||_e&&"closed"in _e&&(0,I.m)(_e.remove)&&(0,I.m)(_e.add)&&(0,I.m)(_e.unsubscribe)}function he(_e){(0,I.m)(_e)?_e():_e.unsubscribe()}},2416:(It,Ie,k)=>{k.d(Ie,{v:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(It,Ie,k)=>{k.d(Ie,{z:()=>ae});var I=k(8189),F=k(7669),re=k(8996);function ae(...de){return function j(){return(0,I.J)(1)}()((0,re.D)(de,(0,F.yG)(de)))}},515:(It,Ie,k)=>{k.d(Ie,{E:()=>j});const j=new(k(9751).y)(ae=>ae.complete())},8996:(It,Ie,k)=>{k.d(Ie,{D:()=>Oe});var I=k(8421),j=k(5363),F=k(9468),de=k(9751),he=k(2202),_e=k(576),q=k(9672);function se(We,et){if(!We)throw new Error("Iterable cannot be null");return new de.y(Ye=>{(0,q.f)(Ye,et,()=>{const Y=We[Symbol.asyncIterator]();(0,q.f)(Ye,et,()=>{Y.next().then(Ae=>{Ae.done?Ye.complete():Ye.next(Ae.value)})},0,!0)})})}var Ke=k(3670),Le=k(8239),Ne=k(1144),_t=k(6495),be=k(2206),Ve=k(4532),Be=k(3260);function Oe(We,et){return et?function Pe(We,et){if(null!=We){if((0,Ke.c)(We))return function re(We,et){return(0,I.Xf)(We).pipe((0,F.R)(et),(0,j.Q)(et))}(We,et);if((0,Ne.z)(We))return function ge(We,et){return new de.y(Ye=>{let Y=0;return et.schedule(function(){Y===We.length?Ye.complete():(Ye.next(We[Y++]),Ye.closed||this.schedule())})})}(We,et);if((0,Le.t)(We))return function ae(We,et){return(0,I.Xf)(We).pipe((0,F.R)(et),(0,j.Q)(et))}(We,et);if((0,be.D)(We))return se(We,et);if((0,_t.T)(We))return function Q(We,et){return new de.y(Ye=>{let Y;return(0,q.f)(Ye,et,()=>{Y=We[he.h](),(0,q.f)(Ye,et,()=>{let Ae,nt;try{({value:Ae,done:nt}=Y.next())}catch(qe){return void Ye.error(qe)}nt?Ye.complete():Ye.next(Ae)},0,!0)}),()=>(0,_e.m)(Y?.return)&&Y.return()})}(We,et);if((0,Be.L)(We))return function Qe(We,et){return se((0,Be.Q)(We),et)}(We,et)}throw(0,Ve.z)(We)}(We,et):(0,I.Xf)(We)}},8421:(It,Ie,k)=>{k.d(Ie,{Xf:()=>Ke});var I=k(655),j=k(1144),F=k(8239),re=k(9751),ae=k(3670),de=k(2206),ge=k(4532),he=k(6495),_e=k(3260),q=k(576),Q=k(7849),se=k(8822);function Ke(Pe){if(Pe instanceof re.y)return Pe;if(null!=Pe){if((0,ae.c)(Pe))return function Le(Pe){return new re.y(Oe=>{const We=Pe[se.L]();if((0,q.m)(We.subscribe))return We.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,j.z)(Pe))return function Ne(Pe){return new re.y(Oe=>{for(let We=0;We<Pe.length&&!Oe.closed;We++)Oe.next(Pe[We]);Oe.complete()})}(Pe);if((0,F.t)(Pe))return function _t(Pe){return new re.y(Oe=>{Pe.then(We=>{Oe.closed||(Oe.next(We),Oe.complete())},We=>Oe.error(We)).then(null,Q.h)})}(Pe);if((0,de.D)(Pe))return Ve(Pe);if((0,he.T)(Pe))return function be(Pe){return new re.y(Oe=>{for(const We of Pe)if(Oe.next(We),Oe.closed)return;Oe.complete()})}(Pe);if((0,_e.L)(Pe))return function Be(Pe){return Ve((0,_e.Q)(Pe))}(Pe)}throw(0,ge.z)(Pe)}function Ve(Pe){return new re.y(Oe=>{(function Qe(Pe,Oe){var We,et,Ye,Y;return(0,I.mG)(this,void 0,void 0,function*(){try{for(We=(0,I.KL)(Pe);!(et=yield We.next()).done;)if(Oe.next(et.value),Oe.closed)return}catch(Ae){Ye={error:Ae}}finally{try{et&&!et.done&&(Y=We.return)&&(yield Y.call(We))}finally{if(Ye)throw Ye.error}}Oe.complete()})})(Pe,Oe).catch(We=>Oe.error(We))})}},6451:(It,Ie,k)=>{k.d(Ie,{T:()=>de});var I=k(8189),j=k(8421),F=k(515),re=k(7669),ae=k(8996);function de(...ge){const he=(0,re.yG)(ge),_e=(0,re._6)(ge,1/0),q=ge;return q.length?1===q.length?(0,j.Xf)(q[0]):(0,I.J)(_e)((0,ae.D)(q,he)):F.E}},9646:(It,Ie,k)=>{k.d(Ie,{of:()=>F});var I=k(7669),j=k(8996);function F(...re){const ae=(0,I.yG)(re);return(0,j.D)(re,ae)}},5403:(It,Ie,k)=>{k.d(Ie,{x:()=>j});var I=k(930);function j(re,ae,de,ge,he){return new F(re,ae,de,ge,he)}class F extends I.Lv{constructor(ae,de,ge,he,_e,q){super(ae),this.onFinalize=_e,this.shouldUnsubscribe=q,this._next=de?function(Q){try{de(Q)}catch(se){ae.error(se)}}:super._next,this._error=he?function(Q){try{he(Q)}catch(se){ae.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(Q){ae.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},6590:(It,Ie,k)=>{k.d(Ie,{d:()=>F});var I=k(4482),j=k(5403);function F(re){return(0,I.e)((ae,de)=>{let ge=!1;ae.subscribe((0,j.x)(de,he=>{ge=!0,de.next(he)},()=>{ge||de.next(re),de.complete()}))})}},1884:(It,Ie,k)=>{k.d(Ie,{x:()=>re});var I=k(4671),j=k(4482),F=k(5403);function re(de,ge=I.y){return de=de??ae,(0,j.e)((he,_e)=>{let q,Q=!0;he.subscribe((0,F.x)(_e,se=>{const Ke=ge(se);(Q||!de(q,Ke))&&(Q=!1,q=Ke,_e.next(se))}))})}function ae(de,ge){return de===ge}},9300:(It,Ie,k)=>{k.d(Ie,{h:()=>F});var I=k(4482),j=k(5403);function F(re,ae){return(0,I.e)((de,ge)=>{let he=0;de.subscribe((0,j.x)(ge,_e=>re.call(ae,_e,he++)&&ge.next(_e)))})}},590:(It,Ie,k)=>{k.d(Ie,{P:()=>ge});var I=k(6805),j=k(9300),F=k(5698),re=k(6590),ae=k(8068),de=k(4671);function ge(he,_e){const q=arguments.length>=2;return Q=>Q.pipe(he?(0,j.h)((se,Ke)=>he(se,Ke,Q)):de.y,(0,F.q)(1),q?(0,re.d)(_e):(0,ae.T)(()=>new I.K))}},4004:(It,Ie,k)=>{k.d(Ie,{U:()=>F});var I=k(4482),j=k(5403);function F(re,ae){return(0,I.e)((de,ge)=>{let he=0;de.subscribe((0,j.x)(ge,_e=>{ge.next(re.call(ae,_e,he++))}))})}},8189:(It,Ie,k)=>{k.d(Ie,{J:()=>F});var I=k(5577),j=k(4671);function F(re=1/0){return(0,I.z)(j.y,re)}},5577:(It,Ie,k)=>{k.d(Ie,{z:()=>he});var I=k(4004),j=k(8421),F=k(4482),re=k(9672),ae=k(5403),ge=k(576);function he(_e,q,Q=1/0){return(0,ge.m)(q)?he((se,Ke)=>(0,I.U)((Le,Ne)=>q(se,Le,Ke,Ne))((0,j.Xf)(_e(se,Ke))),Q):("number"==typeof q&&(Q=q),(0,F.e)((se,Ke)=>function de(_e,q,Q,se,Ke,Le,Ne,_t){const be=[];let Ve=0,Be=0,Qe=!1;const Pe=()=>{Qe&&!be.length&&!Ve&&q.complete()},Oe=et=>Ve<se?We(et):be.push(et),We=et=>{Le&&q.next(et),Ve++;let Ye=!1;(0,j.Xf)(Q(et,Be++)).subscribe((0,ae.x)(q,Y=>{Ke?.(Y),Le?Oe(Y):q.next(Y)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(Ve--;be.length&&Ve<se;){const Y=be.shift();Ne?(0,re.f)(q,Ne,()=>We(Y)):We(Y)}Pe()}catch(Y){q.error(Y)}}))};return _e.subscribe((0,ae.x)(q,Oe,()=>{Qe=!0,Pe()})),()=>{_t?.()}}(se,Ke,_e,Q)))}},5363:(It,Ie,k)=>{k.d(Ie,{Q:()=>re});var I=k(9672),j=k(4482),F=k(5403);function re(ae,de=0){return(0,j.e)((ge,he)=>{ge.subscribe((0,F.x)(he,_e=>(0,I.f)(he,ae,()=>he.next(_e),de),()=>(0,I.f)(he,ae,()=>he.complete(),de),_e=>(0,I.f)(he,ae,()=>he.error(_e),de)))})}},5026:(It,Ie,k)=>{k.d(Ie,{R:()=>re});var I=k(4482),j=k(5403);function re(ae,de){return(0,I.e)(function F(ae,de,ge,he,_e){return(q,Q)=>{let se=ge,Ke=de,Le=0;q.subscribe((0,j.x)(Q,Ne=>{const _t=Le++;Ke=se?ae(Ke,Ne,_t):(se=!0,Ne),he&&Q.next(Ke)},_e&&(()=>{se&&Q.next(Ke),Q.complete()})))}}(ae,de,arguments.length>=2,!0))}},3099:(It,Ie,k)=>{k.d(Ie,{B:()=>ae});var I=k(8421),j=k(7579),F=k(930),re=k(4482);function ae(ge={}){const{connector:he=(()=>new j.x),resetOnError:_e=!0,resetOnComplete:q=!0,resetOnRefCountZero:Q=!0}=ge;return se=>{let Ke,Le,Ne,_t=0,be=!1,Ve=!1;const Be=()=>{Le?.unsubscribe(),Le=void 0},Qe=()=>{Be(),Ke=Ne=void 0,be=Ve=!1},Pe=()=>{const Oe=Ke;Qe(),Oe?.unsubscribe()};return(0,re.e)((Oe,We)=>{_t++,!Ve&&!be&&Be();const et=Ne=Ne??he();We.add(()=>{_t--,0===_t&&!Ve&&!be&&(Le=de(Pe,Q))}),et.subscribe(We),!Ke&&_t>0&&(Ke=new F.Hp({next:Ye=>et.next(Ye),error:Ye=>{Ve=!0,Be(),Le=de(Qe,_e,Ye),et.error(Ye)},complete:()=>{be=!0,Be(),Le=de(Qe,q),et.complete()}}),(0,I.Xf)(Oe).subscribe(Ke))})(se)}}function de(ge,he,..._e){if(!0===he)return void ge();if(!1===he)return;const q=new F.Hp({next:()=>{q.unsubscribe(),ge()}});return(0,I.Xf)(he(..._e)).subscribe(q)}},8675:(It,Ie,k)=>{k.d(Ie,{O:()=>re});var I=k(7272),j=k(7669),F=k(4482);function re(...ae){const de=(0,j.yG)(ae);return(0,F.e)((ge,he)=>{(de?(0,I.z)(ae,ge,de):(0,I.z)(ae,ge)).subscribe(he)})}},9468:(It,Ie,k)=>{k.d(Ie,{R:()=>j});var I=k(4482);function j(F,re=0){return(0,I.e)((ae,de)=>{de.add(F.schedule(()=>ae.subscribe(de),re))})}},3900:(It,Ie,k)=>{k.d(Ie,{w:()=>re});var I=k(8421),j=k(4482),F=k(5403);function re(ae,de){return(0,j.e)((ge,he)=>{let _e=null,q=0,Q=!1;const se=()=>Q&&!_e&&he.complete();ge.subscribe((0,F.x)(he,Ke=>{_e?.unsubscribe();let Le=0;const Ne=q++;(0,I.Xf)(ae(Ke,Ne)).subscribe(_e=(0,F.x)(he,_t=>he.next(de?de(Ke,_t,Ne,Le++):_t),()=>{_e=null,se()}))},()=>{Q=!0,se()}))})}},5698:(It,Ie,k)=>{k.d(Ie,{q:()=>re});var I=k(515),j=k(4482),F=k(5403);function re(ae){return ae<=0?()=>I.E:(0,j.e)((de,ge)=>{let he=0;de.subscribe((0,F.x)(ge,_e=>{++he<=ae&&(ge.next(_e),ae<=he&&ge.complete())}))})}},8505:(It,Ie,k)=>{k.d(Ie,{b:()=>ae});var I=k(576),j=k(4482),F=k(5403),re=k(4671);function ae(de,ge,he){const _e=(0,I.m)(de)||ge||he?{next:de,error:ge,complete:he}:de;return _e?(0,j.e)((q,Q)=>{var se;null===(se=_e.subscribe)||void 0===se||se.call(_e);let Ke=!0;q.subscribe((0,F.x)(Q,Le=>{var Ne;null===(Ne=_e.next)||void 0===Ne||Ne.call(_e,Le),Q.next(Le)},()=>{var Le;Ke=!1,null===(Le=_e.complete)||void 0===Le||Le.call(_e),Q.complete()},Le=>{var Ne;Ke=!1,null===(Ne=_e.error)||void 0===Ne||Ne.call(_e,Le),Q.error(Le)},()=>{var Le,Ne;Ke&&(null===(Le=_e.unsubscribe)||void 0===Le||Le.call(_e)),null===(Ne=_e.finalize)||void 0===Ne||Ne.call(_e)}))}):re.y}},8068:(It,Ie,k)=>{k.d(Ie,{T:()=>re});var I=k(6805),j=k(4482),F=k(5403);function re(de=ae){return(0,j.e)((ge,he)=>{let _e=!1;ge.subscribe((0,F.x)(he,q=>{_e=!0,he.next(q)},()=>_e?he.complete():he.error(de())))})}function ae(){return new I.K}},4408:(It,Ie,k)=>{k.d(Ie,{o:()=>ae});var I=k(727);class j extends I.w0{constructor(ge,he){super()}schedule(ge,he=0){return this}}const F={setInterval(de,ge,...he){const{delegate:_e}=F;return _e?.setInterval?_e.setInterval(de,ge,...he):setInterval(de,ge,...he)},clearInterval(de){const{delegate:ge}=F;return(ge?.clearInterval||clearInterval)(de)},delegate:void 0};var re=k(8737);class ae extends j{constructor(ge,he){super(ge,he),this.scheduler=ge,this.work=he,this.pending=!1}schedule(ge,he=0){var _e;if(this.closed)return this;this.state=ge;const q=this.id,Q=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(Q,q,he)),this.pending=!0,this.delay=he,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(Q,this.id,he),this}requestAsyncId(ge,he,_e=0){return F.setInterval(ge.flush.bind(ge,this),_e)}recycleAsyncId(ge,he,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return he;null!=he&&F.clearInterval(he)}execute(ge,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ge,he);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,he){let q,_e=!1;try{this.work(ge)}catch(Q){_e=!0,q=Q||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ge,scheduler:he}=this,{actions:_e}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(_e,this),null!=ge&&(this.id=this.recycleAsyncId(he,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(It,Ie,k)=>{k.d(Ie,{v:()=>F});var I=k(6063);class j{constructor(ae,de=j.now){this.schedulerActionCtor=ae,this.now=de}schedule(ae,de=0,ge){return new this.schedulerActionCtor(this,ae).schedule(ge,de)}}j.now=I.l.now;class F extends j{constructor(ae,de=j.now){super(ae,de),this.actions=[],this._active=!1}flush(ae){const{actions:de}=this;if(this._active)return void de.push(ae);let ge;this._active=!0;do{if(ge=ae.execute(ae.state,ae.delay))break}while(ae=de.shift());if(this._active=!1,ge){for(;ae=de.shift();)ae.unsubscribe();throw ge}}}},4986:(It,Ie,k)=>{k.d(Ie,{z:()=>F});var I=k(4408);const F=new(k(7565).v)(I.o)},6063:(It,Ie,k)=>{k.d(Ie,{l:()=>I});const I={now:()=>(I.delegate||Date).now(),delegate:void 0}},3410:(It,Ie,k)=>{k.d(Ie,{z:()=>I});const I={setTimeout(j,F,...re){const{delegate:ae}=I;return ae?.setTimeout?ae.setTimeout(j,F,...re):setTimeout(j,F,...re)},clearTimeout(j){const{delegate:F}=I;return(F?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(It,Ie,k)=>{k.d(Ie,{h:()=>j});const j=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(It,Ie,k)=>{k.d(Ie,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(It,Ie,k)=>{k.d(Ie,{K:()=>j});const j=(0,k(3888).d)(F=>function(){F(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(It,Ie,k)=>{k.d(Ie,{_6:()=>de,jO:()=>re,yG:()=>ae});var I=k(576);function F(ge){return ge[ge.length-1]}function re(ge){return(0,I.m)(F(ge))?ge.pop():void 0}function ae(ge){return function j(ge){return ge&&(0,I.m)(ge.schedule)}(F(ge))?ge.pop():void 0}function de(ge,he){return"number"==typeof F(ge)?ge.pop():he}},8737:(It,Ie,k)=>{function I(j,F){if(j){const re=j.indexOf(F);0<=re&&j.splice(re,1)}}k.d(Ie,{P:()=>I})},3888:(It,Ie,k)=>{function I(j){const re=j(ae=>{Error.call(ae),ae.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}k.d(Ie,{d:()=>I})},2806:(It,Ie,k)=>{k.d(Ie,{O:()=>re,x:()=>F});var I=k(2416);let j=null;function F(ae){if(I.v.useDeprecatedSynchronousErrorHandling){const de=!j;if(de&&(j={errorThrown:!1,error:null}),ae(),de){const{errorThrown:ge,error:he}=j;if(j=null,ge)throw he}}else ae()}function re(ae){I.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=ae)}},9672:(It,Ie,k)=>{function I(j,F,re,ae=0,de=!1){const ge=F.schedule(function(){re(),de?j.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(j.add(ge),!de)return ge}k.d(Ie,{f:()=>I})},4671:(It,Ie,k)=>{function I(j){return j}k.d(Ie,{y:()=>I})},1144:(It,Ie,k)=>{k.d(Ie,{z:()=>I});const I=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(It,Ie,k)=>{k.d(Ie,{D:()=>j});var I=k(576);function j(F){return Symbol.asyncIterator&&(0,I.m)(F?.[Symbol.asyncIterator])}},576:(It,Ie,k)=>{function I(j){return"function"==typeof j}k.d(Ie,{m:()=>I})},3670:(It,Ie,k)=>{k.d(Ie,{c:()=>F});var I=k(8822),j=k(576);function F(re){return(0,j.m)(re[I.L])}},6495:(It,Ie,k)=>{k.d(Ie,{T:()=>F});var I=k(2202),j=k(576);function F(re){return(0,j.m)(re?.[I.h])}},8239:(It,Ie,k)=>{k.d(Ie,{t:()=>j});var I=k(576);function j(F){return(0,I.m)(F?.then)}},3260:(It,Ie,k)=>{k.d(Ie,{L:()=>re,Q:()=>F});var I=k(655),j=k(576);function F(ae){return(0,I.FC)(this,arguments,function*(){const ge=ae.getReader();try{for(;;){const{value:he,done:_e}=yield(0,I.qq)(ge.read());if(_e)return yield(0,I.qq)(void 0);yield yield(0,I.qq)(he)}}finally{ge.releaseLock()}})}function re(ae){return(0,j.m)(ae?.getReader)}},4482:(It,Ie,k)=>{k.d(Ie,{A:()=>j,e:()=>F});var I=k(576);function j(re){return(0,I.m)(re?.lift)}function F(re){return ae=>{if(j(ae))return ae.lift(function(de){try{return re(de,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(It,Ie,k)=>{function I(){}k.d(Ie,{Z:()=>I})},9635:(It,Ie,k)=>{k.d(Ie,{U:()=>F,z:()=>j});var I=k(4671);function j(...re){return F(re)}function F(re){return 0===re.length?I.y:1===re.length?re[0]:function(de){return re.reduce((ge,he)=>he(ge),de)}}},7849:(It,Ie,k)=>{k.d(Ie,{h:()=>F});var I=k(2416),j=k(3410);function F(re){j.z.setTimeout(()=>{const{onUnhandledError:ae}=I.v;if(!ae)throw re;ae(re)})}},4532:(It,Ie,k)=>{function I(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ie,{z:()=>I})},655:(It,Ie,k)=>{function re(x,De){var Ee={};for(var Ce in x)Object.prototype.hasOwnProperty.call(x,Ce)&&De.indexOf(Ce)<0&&(Ee[Ce]=x[Ce]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(Ce=Object.getOwnPropertySymbols(x);Ue<Ce.length;Ue++)De.indexOf(Ce[Ue])<0&&Object.prototype.propertyIsEnumerable.call(x,Ce[Ue])&&(Ee[Ce[Ue]]=x[Ce[Ue]])}return Ee}function se(x,De,Ee,Ce){return new(Ee||(Ee=Promise))(function(ke,Je){function Xe(Dt){try{it(Ce.next(Dt))}catch(at){Je(at)}}function Lt(Dt){try{it(Ce.throw(Dt))}catch(at){Je(at)}}function it(Dt){Dt.done?ke(Dt.value):function Ue(ke){return ke instanceof Ee?ke:new Ee(function(Je){Je(ke)})}(Dt.value).then(Xe,Lt)}it((Ce=Ce.apply(x,De||[])).next())})}function Pe(x){return this instanceof Pe?(this.v=x,this):new Pe(x)}function Oe(x,De,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Ce=Ee.apply(x,De||[]),ke=[];return Ue={},Je("next"),Je("throw"),Je("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function Je(St){Ce[St]&&(Ue[St]=function(Qt){return new Promise(function(Jt,cn){ke.push([St,Qt,Jt,cn])>1||Xe(St,Qt)})})}function Xe(St,Qt){try{!function Lt(St){St.value instanceof Pe?Promise.resolve(St.value.v).then(it,Dt):at(ke[0][2],St)}(Ce[St](Qt))}catch(Jt){at(ke[0][3],Jt)}}function it(St){Xe("next",St)}function Dt(St){Xe("throw",St)}function at(St,Qt){St(Qt),ke.shift(),ke.length&&Xe(ke[0][0],ke[0][1])}}function et(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,De=x[Symbol.asyncIterator];return De?De.call(x):(x=function _t(x){var De="function"==typeof Symbol&&Symbol.iterator,Ee=De&&x[De],Ce=0;if(Ee)return Ee.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&Ce>=x.length&&(x=void 0),{value:x&&x[Ce++],done:!x}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(x),Ee={},Ce("next"),Ce("throw"),Ce("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Ce(ke){Ee[ke]=x[ke]&&function(Je){return new Promise(function(Xe,Lt){!function Ue(ke,Je,Xe,Lt){Promise.resolve(Lt).then(function(it){ke({value:it,done:Xe})},Je)}(Xe,Lt,(Je=x[ke](Je)).done,Je.value)})}}}k.d(Ie,{FC:()=>Oe,KL:()=>et,_T:()=>re,mG:()=>se,qq:()=>Pe})},6895:(It,Ie,k)=>{k.d(Ie,{Do:()=>Be,EM:()=>gi,HT:()=>re,JF:()=>xr,K0:()=>de,Mx:()=>gt,O5:()=>Pi,PM:()=>Qs,S$:()=>_t,V_:()=>_e,Ye:()=>Qe,b0:()=>Ve,bD:()=>Oi,ez:()=>Yi,q:()=>F,sg:()=>ri,w_:()=>ae});var I=k(4650);let j=null;function F(){return j}function re(w){j||(j=w)}class ae{}const de=new I.OlP("DocumentToken");let ge=(()=>{class w{historyGo(S){throw new Error("Not implemented")}}return w.\u0275fac=function(S){return new(S||w)},w.\u0275prov=I.Yz7({token:w,factory:function(){return function he(){return(0,I.LFG)(q)}()},providedIn:"platform"}),w})();const _e=new I.OlP("Location Initialized");let q=(()=>{class w extends ge{constructor(S){super(),this._doc=S,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(S){const U=F().getGlobalEventTarget(this._doc,"window");return U.addEventListener("popstate",S,!1),()=>U.removeEventListener("popstate",S)}onHashChange(S){const U=F().getGlobalEventTarget(this._doc,"window");return U.addEventListener("hashchange",S,!1),()=>U.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,U,Z){Q()?this._history.pushState(S,U,Z):this._location.hash=Z}replaceState(S,U,Z){Q()?this._history.replaceState(S,U,Z):this._location.hash=Z}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return w.\u0275fac=function(S){return new(S||w)(I.LFG(de))},w.\u0275prov=I.Yz7({token:w,factory:function(){return function se(){return new q((0,I.LFG)(de))}()},providedIn:"platform"}),w})();function Q(){return!!window.history.pushState}function Ke(w,P){if(0==w.length)return P;if(0==P.length)return w;let S=0;return w.endsWith("/")&&S++,P.startsWith("/")&&S++,2==S?w+P.substring(1):1==S?w+P:w+"/"+P}function Le(w){const P=w.match(/#|\?|$/),S=P&&P.index||w.length;return w.slice(0,S-("/"===w[S-1]?1:0))+w.slice(S)}function Ne(w){return w&&"?"!==w[0]?"?"+w:w}let _t=(()=>{class w{historyGo(S){throw new Error("Not implemented")}}return w.\u0275fac=function(S){return new(S||w)},w.\u0275prov=I.Yz7({token:w,factory:function(){return(0,I.f3M)(Ve)},providedIn:"root"}),w})();const be=new I.OlP("appBaseHref");let Ve=(()=>{class w extends _t{constructor(S,U){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=U??this._platformLocation.getBaseHrefFromDOM()??(0,I.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return Ke(this._baseHref,S)}path(S=!1){const U=this._platformLocation.pathname+Ne(this._platformLocation.search),Z=this._platformLocation.hash;return Z&&S?`${U}${Z}`:U}pushState(S,U,Z,ye){const $e=this.prepareExternalUrl(Z+Ne(ye));this._platformLocation.pushState(S,U,$e)}replaceState(S,U,Z,ye){const $e=this.prepareExternalUrl(Z+Ne(ye));this._platformLocation.replaceState(S,U,$e)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return w.\u0275fac=function(S){return new(S||w)(I.LFG(ge),I.LFG(be,8))},w.\u0275prov=I.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Be=(()=>{class w extends _t{constructor(S,U){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=U&&(this._baseHref=U)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let U=this._platformLocation.hash;return null==U&&(U="#"),U.length>0?U.substring(1):U}prepareExternalUrl(S){const U=Ke(this._baseHref,S);return U.length>0?"#"+U:U}pushState(S,U,Z,ye){let $e=this.prepareExternalUrl(Z+Ne(ye));0==$e.length&&($e=this._platformLocation.pathname),this._platformLocation.pushState(S,U,$e)}replaceState(S,U,Z,ye){let $e=this.prepareExternalUrl(Z+Ne(ye));0==$e.length&&($e=this._platformLocation.pathname),this._platformLocation.replaceState(S,U,$e)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return w.\u0275fac=function(S){return new(S||w)(I.LFG(ge),I.LFG(be,8))},w.\u0275prov=I.Yz7({token:w,factory:w.\u0275fac}),w})(),Qe=(()=>{class w{constructor(S){this._subject=new I.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const U=this._locationStrategy.getBaseHref();this._basePath=function et(w){if(new RegExp("^(https?:)?//").test(w)){const[,S]=w.split(/\/\/[^\/]+/);return S}return w}(Le(We(U))),this._locationStrategy.onPopState(Z=>{this._subject.emit({url:this.path(!0),pop:!0,state:Z.state,type:Z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,U=""){return this.path()==this.normalize(S+Ne(U))}normalize(S){return w.stripTrailingSlash(function Oe(w,P){if(!w||!P.startsWith(w))return P;const S=P.substring(w.length);return""===S||["/",";","?","#"].includes(S[0])?S:P}(this._basePath,We(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,U="",Z=null){this._locationStrategy.pushState(Z,"",S,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Ne(U)),Z)}replaceState(S,U="",Z=null){this._locationStrategy.replaceState(Z,"",S,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Ne(U)),Z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(U=>{this._notifyUrlChangeListeners(U.url,U.state)})),()=>{const U=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(U,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",U){this._urlChangeListeners.forEach(Z=>Z(S,U))}subscribe(S,U,Z){return this._subject.subscribe({next:S,error:U,complete:Z})}}return w.normalizeQueryParams=Ne,w.joinWithSlash=Ke,w.stripTrailingSlash=Le,w.\u0275fac=function(S){return new(S||w)(I.LFG(_t))},w.\u0275prov=I.Yz7({token:w,factory:function(){return function Pe(){return new Qe((0,I.LFG)(_t))}()},providedIn:"root"}),w})();function We(w){return w.replace(/\/index.html$/,"")}function gt(w,P){P=encodeURIComponent(P);for(const S of w.split(";")){const U=S.indexOf("="),[Z,ye]=-1==U?[S,""]:[S.slice(0,U),S.slice(U+1)];if(Z.trim()===P)return decodeURIComponent(ye)}return null}class xn{constructor(P,S,U,Z){this.$implicit=P,this.ngForOf=S,this.index=U,this.count=Z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ri=(()=>{class w{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,U,Z){this._viewContainer=S,this._template=U,this._differs=Z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const U=this._viewContainer;S.forEachOperation((Z,ye,$e)=>{if(null==Z.previousIndex)U.createEmbeddedView(this._template,new xn(Z.item,this._ngForOf,-1,-1),null===$e?void 0:$e);else if(null==$e)U.remove(null===ye?void 0:ye);else if(null!==ye){const lt=U.get(ye);U.move(lt,$e),jr(lt,Z)}});for(let Z=0,ye=U.length;Z<ye;Z++){const lt=U.get(Z).context;lt.index=Z,lt.count=ye,lt.ngForOf=this._ngForOf}S.forEachIdentityChange(Z=>{jr(U.get(Z.currentIndex),Z)})}static ngTemplateContextGuard(S,U){return!0}}return w.\u0275fac=function(S){return new(S||w)(I.Y36(I.s_b),I.Y36(I.Rgc),I.Y36(I.ZZ4))},w.\u0275dir=I.lG2({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),w})();function jr(w,P){w.context.$implicit=P.item}let Pi=(()=>{class w{constructor(S,U){this._viewContainer=S,this._context=new cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=U}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){Zs("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){Zs("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,U){return!0}}return w.\u0275fac=function(S){return new(S||w)(I.Y36(I.s_b),I.Y36(I.Rgc))},w.\u0275dir=I.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),w})();class cs{constructor(){this.$implicit=null,this.ngIf=null}}function Zs(w,P){if(P&&!P.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,I.AaK)(P)}'.`)}let Yi=(()=>{class w{}return w.\u0275fac=function(S){return new(S||w)},w.\u0275mod=I.oAB({type:w}),w.\u0275inj=I.cJS({}),w})();const Oi="browser",mr="server";function Qs(w){return w===mr}let gi=(()=>{class w{}return w.\u0275prov=(0,I.Yz7)({token:w,providedIn:"root",factory:()=>new qi((0,I.LFG)(de),window)}),w})();class qi{constructor(P,S){this.document=P,this.window=S,this.offset=()=>[0,0]}setOffset(P){this.offset=Array.isArray(P)?()=>P:P}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(P){this.supportsScrolling()&&this.window.scrollTo(P[0],P[1])}scrollToAnchor(P){if(!this.supportsScrolling())return;const S=function Mr(w,P){const S=w.getElementById(P)||w.getElementsByName(P)[0];if(S)return S;if("function"==typeof w.createTreeWalker&&w.body&&(w.body.createShadowRoot||w.body.attachShadow)){const U=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let Z=U.currentNode;for(;Z;){const ye=Z.shadowRoot;if(ye){const $e=ye.getElementById(P)||ye.querySelector(`[name="${P}"]`);if($e)return $e}Z=U.nextNode()}}return null}(this.document,P);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(P){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=P)}}scrollToElement(P){const S=P.getBoundingClientRect(),U=S.left+this.window.pageXOffset,Z=S.top+this.window.pageYOffset,ye=this.offset();this.window.scrollTo(U-ye[0],Z-ye[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const P=Qr(this.window.history)||Qr(Object.getPrototypeOf(this.window.history));return!(!P||!P.writable&&!P.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qr(w){return Object.getOwnPropertyDescriptor(w,"scrollRestoration")}class xr{}},4650:(It,Ie,k)=>{k.d(Ie,{$8M:()=>sa,$WT:()=>pi,$Z:()=>ip,AFp:()=>Jm,AaK:()=>he,AsE:()=>Zh,BQk:()=>kd,CHM:()=>er,CRH:()=>Mm,CZH:()=>Kd,CqO:()=>Bp,D6c:()=>YI,EJc:()=>dI,EpF:()=>Fp,F4k:()=>Up,FYo:()=>B,FiY:()=>f,GfV:()=>Me,JOm:()=>Hs,KtG:()=>ya,LFG:()=>st,LSH:()=>pd,Lbi:()=>lI,Lck:()=>e0,MMx:()=>rf,NdJ:()=>$h,OlP:()=>Gn,Oqu:()=>Kh,P3R:()=>_d,PXZ:()=>TI,Q6J:()=>Fh,QGY:()=>Vh,Qsj:()=>W,R0b:()=>_a,RDi:()=>Vl,Rgc:()=>od,SBq:()=>b,Sil:()=>fI,Suo:()=>Rm,TTD:()=>xs,TgZ:()=>Od,VKq:()=>_m,X6Q:()=>PI,XFs:()=>mt,Xpm:()=>Ln,Xts:()=>hi,Y36:()=>ac,YKP:()=>lm,YNc:()=>kp,Yjl:()=>us,Yz7:()=>at,Z0I:()=>cn,ZZ4:()=>Pf,_UZ:()=>Bh,_Vd:()=>s,_c5:()=>KI,_uU:()=>gg,aQg:()=>Of,c2e:()=>uI,cJS:()=>Qt,cg1:()=>Yh,dDg:()=>DI,dqk:()=>Ft,eFA:()=>d_,eJc:()=>gf,eoX:()=>a_,f3M:()=>pt,g9A:()=>e_,h0i:()=>Ic,hGG:()=>ZI,hij:()=>Ud,iGM:()=>Am,ifc:()=>me,ip1:()=>Qm,jDz:()=>cm,kL8:()=>xg,lG2:()=>ls,lqb:()=>rl,lri:()=>s_,n5z:()=>ws,oAB:()=>Mi,oxw:()=>Wp,q4F:()=>Ge,qLn:()=>Gs,qZA:()=>Nd,rWj:()=>o_,sBO:()=>OI,s_b:()=>Wd,soG:()=>Zd,tb:()=>u_,tp0:()=>R,uIk:()=>Lh,vHH:()=>be,vpe:()=>ll,wAp:()=>rn,xp6:()=>zf,ynx:()=>xd,z2F:()=>Yd,zSh:()=>jc,zs3:()=>bu});var I=k(7579),j=k(727),F=k(9751),re=k(6451),ae=k(3099);function de(e){for(let t in e)if(e[t]===de)return t;throw Error("Could not find renamed property on target object.")}function he(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(he).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function _e(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const q=de({__forward_ref__:de});function Q(e){return e.__forward_ref__=Q,e.toString=function(){return he(this())},e}function se(e){return Ke(e)?e():e}function Ke(e){return"function"==typeof e&&e.hasOwnProperty(q)&&e.__forward_ref__===Q}function Le(e){return e&&!!e.\u0275providers}const _t="https://g.co/ng/security#xss";class be extends Error{constructor(t,n){super(Ve(t,n)),this.code=t}}function Ve(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function Be(e){return"string"==typeof e?e:null==e?"":String(e)}function et(e,t){throw new be(-201,!1)}function Je(e,t){null==e&&function Xe(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function at(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Qt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Jt(e){return bn(e,Bn)||bn(e,bt)}function cn(e){return null!==Jt(e)}function bn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Fn(e){return e&&(e.hasOwnProperty(Mn)||e.hasOwnProperty(_n))?e[Mn]:null}const Bn=de({\u0275prov:de}),Mn=de({\u0275inj:de}),bt=de({ngInjectableDef:de}),_n=de({ngInjectorDef:de});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let Vt;function yn(e){const t=Vt;return Vt=e,t}function Pn(e,t,n){const r=Jt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&mt.Optional?null:void 0!==t?t:void et(he(e))}const Ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vn={},$n="__NG_DI_FLAG__",dn="ngTempTokenPath",kn="ngTokenPath",qr=/\n/gm,En="\u0275",Ir="__source";let an;function Yn(e){const t=an;return an=e,t}function Or(e,t=mt.Default){if(void 0===an)throw new be(-203,!1);return null===an?Pn(e,void 0,t):an.get(e,t&mt.Optional?null:void 0,t)}function st(e,t=mt.Default){return(function Vn(){return Vt}()||Or)(se(e),t)}function pt(e,t=mt.Default){return st(e,Pt(t))}function Pt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Nt(e){const t=[];for(let n=0;n<e.length;n++){const r=se(e[n]);if(Array.isArray(r)){if(0===r.length)throw new be(900,!1);let a,c=mt.Default;for(let g=0;g<r.length;g++){const D=r[g],T=qn(D);"number"==typeof T?-1===T?a=D.token:c|=T:a=D}t.push(st(a,c))}else t.push(st(r))}return t}function ct(e,t){return e[$n]=t,e.prototype[$n]=t,e}function qn(e){return e[$n]}function oe(e){return{toString:e}.toString()}var Se=(()=>((Se=Se||{})[Se.OnPush=0]="OnPush",Se[Se.Default=1]="Default",Se))(),me=(()=>{return(e=me||(me={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",me;var e})();const ft={},ee=[],ne=de({\u0275cmp:de}),H=de({\u0275dir:de}),pe=de({\u0275pipe:de}),xe=de({\u0275mod:de}),ze=de({\u0275fac:de}),xt=de({__NG_ELEMENT_ID__:de});let pn=0;function Ln(e){return oe(()=>{const n=!0===e.standalone,r={},a={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||ee,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||me.Emulated,id:"c"+pn++,styles:e.styles||ee,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},c=e.dependencies,g=e.features;return a.inputs=Qn(e.inputs,r),a.outputs=Qn(e.outputs),g&&g.forEach(D=>D(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(ni).filter(zi):null,a.pipeDefs=c?()=>("function"==typeof c?c():c).map(sr).filter(zi):null,a})}function ni(e){return gn(e)||Jn(e)}function zi(e){return null!==e}function Mi(e){return oe(()=>({type:e.type,bootstrap:e.bootstrap||ee,declarations:e.declarations||ee,imports:e.imports||ee,exports:e.exports||ee,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Qn(e,t){if(null==e)return ft;const n={};for(const r in e)if(e.hasOwnProperty(r)){let a=e[r],c=a;Array.isArray(a)&&(c=a[1],a=a[0]),n[a]=r,t&&(t[a]=c)}return n}const ls=Ln;function us(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function gn(e){return e[ne]||null}function Jn(e){return e[H]||null}function sr(e){return e[pe]||null}function pi(e){const t=gn(e)||Jn(e)||sr(e);return null!==t&&t.standalone}function jn(e,t){const n=e[xe]||null;if(!n&&!0===t)throw new Error(`Type ${he(e)} does not have '\u0275mod' property.`);return n}const Hn=0,gt=1,Gt=2,Nn=3,Tr=4,Sr=5,wn=6,fr=7,xn=8,ri=9,jr=10,$t=11,Pi=12,cs=13,Zs=14,ii=15,dr=16,gr=17,Gi=18,Nr=19,Ki=20,Ys=21,Tn=22,le=1,ie=2,fe=7,Fe=8,tt=9,yt=10;function In(e){return Array.isArray(e)&&"object"==typeof e[le]}function nn(e){return Array.isArray(e)&&!0===e[le]}function hn(e){return 0!=(4&e.flags)}function ln(e){return e.componentOffset>-1}function Ut(e){return 1==(1&e.flags)}function Xn(e){return null!==e.template}function Un(e){return 0!=(256&e[Gt])}function si(e,t){return e.hasOwnProperty(ze)?e[ze]:null}class Qs{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function xs(){return Rr}function Rr(e){return e.type.prototype.ngOnChanges&&(e.setInput=gi),sn}function sn(){const e=Qr(this),t=e?.current;if(t){const n=e.previous;if(n===ft)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function gi(e,t,n,r){const a=this.declaredInputs[n],c=Qr(e)||function Mr(e,t){return e[qi]=t}(e,{previous:ft,current:null}),g=c.current||(c.current={}),D=c.previous,T=D[a];g[a]=new Qs(T&&T.currentValue,t,D===ft),e[r]=t}xs.ngInherit=!0;const qi="__ngSimpleChanges__";function Qr(e){return e[qi]||null}const Cr=function(e,t,n){};function un(e){for(;Array.isArray(e);)e=e[Hn];return e}function or(e,t){return un(t[e.index])}function xi(e,t){return e.data[t]}function hr(e,t){const n=t[e];return In(n)?n:n[Hn]}function fs(e){return 64==(64&e[Gt])}function ki(e,t){return null==t?null:e[t]}function On(e){e[Gi]=0}function ks(e,t){e[Sr]+=t;let n=e,r=e[Nn];for(;null!==r&&(1===t&&1===n[Sr]||-1===t&&0===n[Sr]);)r[Sr]+=t,n=r,r=r[Nn]}const Zt={lFrame:Co(null),bindingsEnabled:!0};function Wt(){return Zt.bindingsEnabled}function Ze(){return Zt.lFrame.lView}function Ot(){return Zt.lFrame.tView}function er(e){return Zt.lFrame.contextLView=e,e[xn]}function ya(e){return Zt.lFrame.contextLView=null,e}function Wn(){let e=ms();for(;null!==e&&64===e.type;)e=e.parent;return e}function ms(){return Zt.lFrame.currentTNode}function yr(e,t){const n=Zt.lFrame;n.currentTNode=e,n.isParent=t}function _i(){return Zt.lFrame.isParent}function yi(){Zt.lFrame.isParent=!1}function Ui(){return Zt.lFrame.bindingIndex++}function _s(e,t){const n=Zt.lFrame;n.bindingIndex=n.bindingRootIndex=e,to(t)}function to(e){Zt.lFrame.currentDirectiveIndex=e}function no(){return Zt.lFrame.currentQueryIndex}function Bi(e){Zt.lFrame.currentQueryIndex=e}function Do(e){const t=e[gt];return 2===t.type?t.declTNode:1===t.type?e[wn]:null}function vs(e,t,n){if(n&mt.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||n&mt.Host||(a=Do(c),null===a||(c=c[ii],10&a.type))););if(null===a)return!1;t=a,e=c}const r=Zt.lFrame=Bo();return r.currentTNode=t,r.lView=e,!0}function Fs(e){const t=Bo(),n=e[gt];Zt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Bo(){const e=Zt.lFrame,t=null===e?null:e.child;return null===t?Co(e):t}function Co(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function va(){const e=Zt.lFrame;return Zt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Xo=va;function ea(){const e=va();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function tr(){return Zt.lFrame.selectedIndex}function vi(e){Zt.lFrame.selectedIndex=e}function nr(){const e=Zt.lFrame;return xi(e.tView,e.selectedIndex)}function bo(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:O,ngOnDestroy:V}=c;g&&(e.contentHooks||(e.contentHooks=[])).push(-n,g),D&&((e.contentHooks||(e.contentHooks=[])).push(n,D),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,D)),T&&(e.viewHooks||(e.viewHooks=[])).push(-n,T),O&&((e.viewHooks||(e.viewHooks=[])).push(n,O),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,O)),null!=V&&(e.destroyHooks||(e.destroyHooks=[])).push(n,V)}}function Es(e,t,n){Ia(e,t,3,n)}function Ii(e,t,n,r){(3&e[Gt])===n&&Ia(e,t,n,r)}function Us(e,t){let n=e[Gt];(3&n)===t&&(n&=2047,n+=1,e[Gt]=n)}function Ia(e,t,n,r){const c=r??-1,g=t.length-1;let D=0;for(let T=void 0!==r?65535&e[Gi]:0;T<g;T++)if("number"==typeof t[T+1]){if(D=t[T],null!=r&&D>=r)break}else t[T]<0&&(e[Gi]+=65536),(D<c||-1==c)&&(w(e,n,t,T),e[Gi]=(4294901760&e[Gi])+T+2),T++}function w(e,t,n,r){const a=n[r]<0,c=n[r+1],D=e[a?-n[r]:n[r]];if(a){if(e[Gt]>>11<e[Gi]>>16&&(3&e[Gt])===t){e[Gt]+=2048,Cr(4,D,c);try{c.call(D)}finally{Cr(5,D,c)}}}else{Cr(4,D,c);try{c.call(D)}finally{Cr(5,D,c)}}}const P=-1;class S{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function en(e,t,n){let r=0;for(;r<n.length;){const a=n[r];if("number"==typeof a){if(0!==a)break;r++;const c=n[r++],g=n[r++],D=n[r++];e.setAttribute(t,g,D,c)}else{const c=a,g=n[++r];jt(c)?e.setProperty(t,c,g):e.setAttribute(t,c,g),r++}}return r}function ir(e){return 3===e||4===e||6===e}function jt(e){return 64===e.charCodeAt(0)}function zn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?n=a:0===n||Er(e,n,a,null,-1===n||2===n?t[++r]:null)}}return e}function Er(e,t,n,r,a){let c=0,g=e.length;if(-1===t)g=-1;else for(;c<e.length;){const D=e[c++];if("number"==typeof D){if(D===t){g=-1;break}if(D>t){g=c-1;break}}}for(;c<e.length;){const D=e[c];if("number"==typeof D)break;if(D===n){if(null===r)return void(null!==a&&(e[c+1]=a));if(r===e[c+1])return void(e[c+2]=a)}c++,null!==r&&c++,null!==a&&c++}-1!==g&&(e.splice(g,0,t),c=g+1),e.splice(c++,0,n),null!==r&&e.splice(c++,0,r),null!==a&&e.splice(c++,0,a)}function wr(e){return e!==P}function _r(e){return 32767&e}function Di(e,t){let n=function Vi(e){return e>>16}(e),r=t;for(;n>0;)r=r[ii],n--;return r}let Xi=!0;function ro(e){const t=Xi;return Xi=e,t}const Da=255,Is=5;let To=0;const Ci={};function ci(e,t){const n=na(e,t);if(-1!==n)return n;const r=t[gt];r.firstCreatePass&&(e.injectorIndex=t.length,io(r.data,e),io(t,null),io(r.blueprint,null));const a=Bs(e,t),c=e.injectorIndex;if(wr(a)){const g=_r(a),D=Di(a,t),T=D[gt].data;for(let O=0;O<8;O++)t[c+O]=D[g+O]|T[g+O]}return t[c+8]=a,c}function io(e,t){e.push(0,0,0,0,0,0,0,0,t)}function na(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bs(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,a=t;for(;null!==a;){if(r=Gr(a),null===r)return P;if(n++,a=a[ii],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return P}function Vs(e,t,n){!function $o(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(xt)&&(r=n[xt]),null==r&&(r=n[xt]=To++);const a=r&Da;t.data[e+(a>>Is)]|=1<<a}(e,t,n)}function Ca(e,t,n){if(n&mt.Optional||void 0!==e)return e;et()}function so(e,t,n,r){if(n&mt.Optional&&void 0===r&&(r=null),!(n&(mt.Self|mt.Host))){const a=e[ri],c=yn(void 0);try{return a?a.get(t,r,n&mt.Optional):Pn(t,r,n&mt.Optional)}finally{yn(c)}}return Ca(r,0,n)}function Ds(e,t,n,r=mt.Default,a){if(null!==e){if(1024&t[Gt]){const g=function ul(e,t,n,r,a){let c=e,g=t;for(;null!==c&&null!==g&&1024&g[Gt]&&!(256&g[Gt]);){const D=Ho(c,g,n,r|mt.Self,Ci);if(D!==Ci)return D;let T=c.parent;if(!T){const O=g[Ys];if(O){const V=O.get(n,Ci,r);if(V!==Ci)return V}T=Gr(g),g=g[ii]}c=T}return a}(e,t,n,r,Ci);if(g!==Ci)return g}const c=Ho(e,t,n,r,Ci);if(c!==Ci)return c}return so(t,n,r,a)}function Ho(e,t,n,r,a){const c=function So(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(xt)?e[xt]:void 0;return"number"==typeof t?t>=0?t&Da:es:t}(n);if("function"==typeof c){if(!vs(t,e,r))return r&mt.Host?Ca(a,0,r):so(t,n,r,a);try{const g=c(r);if(null!=g||r&mt.Optional)return g;et()}finally{Xo()}}else if("number"==typeof c){let g=null,D=na(e,t),T=P,O=r&mt.Host?t[dr][wn]:null;for((-1===D||r&mt.SkipSelf)&&(T=-1===D?Bs(e,t):t[D+8],T!==P&&ia(r,!1)?(g=t[gt],D=_r(T),t=Di(T,t)):D=-1);-1!==D;){const V=t[gt];if(oo(c,D,V.data)){const z=ra(D,t,n,g,r,O);if(z!==Ci)return z}T=t[D+8],T!==P&&ia(r,t[gt].data[D+8]===O)&&oo(c,D,t)?(g=V,D=_r(T),t=Di(T,t)):D=-1}}return a}function ra(e,t,n,r,a,c){const g=t[gt],D=g.data[e+8],V=wi(D,g,n,null==r?ln(D)&&Xi:r!=g&&0!=(3&D.type),a&mt.Host&&c===D);return null!==V?bi(t,g,V,D):Ci}function wi(e,t,n,r,a){const c=e.providerIndexes,g=t.data,D=1048575&c,T=e.directiveStart,V=c>>20,ue=a?D+V:e.directiveEnd;for(let ve=r?D:D+V;ve<ue;ve++){const He=g[ve];if(ve<T&&n===He||ve>=T&&He.type===n)return ve}if(a){const ve=g[T];if(ve&&Xn(ve)&&ve.type===n)return T}return null}function bi(e,t,n,r){let a=e[n];const c=t.data;if(function U(e){return e instanceof S}(a)){const g=a;g.resolving&&function Pe(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new be(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Qe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Be(e)}(c[n]));const D=ro(g.canSeeViewProviders);g.resolving=!0;const T=g.injectImpl?yn(g.injectImpl):null;vs(e,r,mt.Default);try{a=e[n]=g.factory(void 0,c,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ui(e,t,n){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(r){const g=Rr(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,g),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,g)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==T&&yn(T),ro(D),g.resolving=!1,Xo()}}return a}function oo(e,t,n){return!!(n[t+(e>>Is)]&1<<e)}function ia(e,t){return!(e&mt.Self||e&mt.Host&&t)}class Cs{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ds(this._tNode,this._lView,t,Pt(r),n)}}function es(){return new Cs(Wn(),Ze())}function ws(e){return oe(()=>{const t=e.prototype.constructor,n=t[ze]||La(t),r=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==r;){const c=a[ze]||La(a);if(c&&c!==n)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function La(e){return Ke(e)?()=>{const t=La(se(e));return t&&t()}:si(e)}function Gr(e){const t=e[gt],n=t.type;return 2===n?t.declTNode:1===n?e[wn]:null}function sa(e){return function jo(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let a=0;for(;a<r;){const c=n[a];if(ir(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<r&&"string"==typeof n[a];)a++;else{if(c===t)return n[a+1];a+=2}}}return null}(Wn(),e)}const bs="__parameters__";function Ao(e,t,n){return oe(()=>{const r=function cl(e){return function(...n){if(e){const r=e(...n);for(const a in r)this[a]=r[a]}}}(t);function a(...c){if(this instanceof a)return r.apply(this,c),this;const g=new a(...c);return D.annotation=g,D;function D(T,O,V){const z=T.hasOwnProperty(bs)?T[bs]:Object.defineProperty(T,bs,{value:[]})[bs];for(;z.length<=V;)z.push(null);return(z[V]=z[V]||[]).push(g),T}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class Gn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=at({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ss(e,t){e.forEach(n=>Array.isArray(n)?Ss(n,t):t(n))}function ao(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function As(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const f=ct(Ao("Optional"),8),R=ct(Ao("SkipSelf"),4);var Hs=(()=>((Hs=Hs||{})[Hs.Important=1]="Important",Hs[Hs.DashCase=2]="DashCase",Hs))();const Ws=new Map;let pl=0;const xl="__ngContext__";function Ur(e,t){In(t)?(e[xl]=t[Ki],function Vu(e){Ws.set(e[Ki],e)}(t)):e[xl]=t}let qa;function ou(e,t){return qa(e,t)}function ca(e){const t=e[Nn];return nn(t)?t[Nn]:t}function au(e){return kl(e[cs])}function lu(e){return kl(e[Tr])}function kl(e){for(;null!==e&&!nn(e);)e=e[Tr];return e}function Aa(e,t,n,r,a){if(null!=r){let c,g=!1;nn(r)?c=r:In(r)&&(g=!0,r=r[Hn]);const D=un(r);0===e&&null!==n?null==a?Fl(t,n,D):Zo(t,n,D,a||null,!0):1===e&&null!==n?Zo(t,n,D,a||null,!0):2===e?function os(e,t,n){const r=wl(e,t);r&&function Cl(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,D,g):3===e&&t.destroyNode(D),null!=c&&function Qu(e,t,n,r,a){const c=n[fe];c!==un(n)&&Aa(t,e,r,c,a);for(let D=yt;D<n.length;D++){const T=n[D];Po(T[gt],T,e,t,r,c)}}(t,e,c,n,a)}}function vl(e,t,n){return e.createElement(t,n)}function Il(e,t){const n=e[tt],r=n.indexOf(t),a=t[Nn];512&t[Gt]&&(t[Gt]&=-513,ks(a,-1)),n.splice(r,1)}function fu(e,t){if(e.length<=yt)return;const n=yt+t,r=e[n];if(r){const a=r[gr];null!==a&&a!==e&&Il(a,r),t>0&&(e[n-1][Tr]=r[Tr]);const c=As(e,yt+t);!function cu(e,t){Po(e,t,t[$t],2,null,null),t[Hn]=null,t[wn]=null}(r[gt],r);const g=c[Nr];null!==g&&g.detachView(c[gt]),r[Nn]=null,r[Tr]=null,r[Gt]&=-65}return r}function Mo(e,t){if(!(128&t[Gt])){const n=t[$t];n.destroyNode&&Po(e,t,n,3,null,null),function da(e){let t=e[cs];if(!t)return pu(e[gt],e);for(;t;){let n=null;if(In(t))n=t[cs];else{const r=t[yt];r&&(n=r)}if(!n){for(;t&&!t[Tr]&&t!==e;)In(t)&&pu(t[gt],t),t=t[Nn];null===t&&(t=e),In(t)&&pu(t[gt],t),n=t&&t[Tr]}t=n}}(t)}}function pu(e,t){if(!(128&t[Gt])){t[Gt]&=-65,t[Gt]|=128,function Gu(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const a=t[n[r]];if(!(a instanceof S)){const c=n[r+1];if(Array.isArray(c))for(let g=0;g<c.length;g+=2){const D=a[c[g]],T=c[g+1];Cr(4,D,T);try{T.call(D)}finally{Cr(5,D,T)}}else{Cr(4,a,c);try{c.call(a)}finally{Cr(5,a,c)}}}}}(e,t),function zu(e,t){const n=e.cleanup,r=t[fr];let a=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const g=n[c+3];g>=0?r[a=g]():r[a=-g].unsubscribe(),c+=2}else{const g=r[a=n[c+1]];n[c].call(g)}if(null!==r){for(let c=a+1;c<r.length;c++)(0,r[c])();t[fr]=null}}(e,t),1===t[gt].type&&t[$t].destroy();const n=t[gr];if(null!==n&&nn(t[Nn])){n!==t[Nn]&&Il(n,t);const r=t[Nr];null!==r&&r.detachView(e)}!function gl(e){Ws.delete(e[Ki])}(t)}}function Ll(e,t,n){return function Dl(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Hn];{const{componentOffset:a}=r;if(a>-1){const{encapsulation:c}=e.data[r.directiveStart+a];if(c===me.None||c===me.Emulated)return null}return or(r,n)}}(e,t.parent,n)}function Zo(e,t,n,r,a){e.insertBefore(t,n,r,a)}function Fl(e,t,n){e.appendChild(t,n)}function Ku(e,t,n,r,a){null!==r?Zo(e,t,n,r,a):Fl(e,t,n)}function wl(e,t){return e.parentNode(t)}let Ja,el,Ps,mu=function gu(e,t,n){return 40&e.type?or(e,n):null};function Zr(e,t,n,r){const a=Ll(e,r,t),c=t[$t],D=function qu(e,t,n){return mu(e,t,n)}(r.parent||t[wn],r,t);if(null!=a)if(Array.isArray(n))for(let T=0;T<n.length;T++)Ku(c,a,n[T],D,!1);else Ku(c,a,n,D,!1);void 0!==Ja&&Ja(c,r,t,n,a)}function ha(e,t){if(null!==t){const n=t.type;if(3&n)return or(t,e);if(4&n)return fa(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ha(e,r);{const a=e[t.index];return nn(a)?fa(-1,a):un(a)}}if(32&n)return ou(t,e)()||un(e[t.index]);{const r=Yo(e,t);return null!==r?Array.isArray(r)?r[0]:ha(ca(e[dr]),r):ha(e,t.next)}}return null}function Yo(e,t){return null!==t?e[dr][wn].projection[t.projection]:null}function fa(e,t){const n=yt+e+1;if(n<t.length){const r=t[n],a=r[gt].firstChild;if(null!==a)return ha(r,a)}return t[fe]}function Pr(e,t,n,r,a,c,g){for(;null!=n;){const D=r[n.index],T=n.type;if(g&&0===t&&(D&&Ur(un(D),r),n.flags|=2),32!=(32&n.flags))if(8&T)Pr(e,t,n.child,r,a,c,!1),Aa(t,e,a,D,c);else if(32&T){const O=ou(n,r);let V;for(;V=O();)Aa(t,e,a,V,c);Aa(t,e,a,D,c)}else 16&T?pa(e,t,r,n,a,c):Aa(t,e,a,D,c);n=g?n.projectionNext:n.next}}function Po(e,t,n,r,a,c){Pr(n,r,e.firstChild,t,a,c,!1)}function pa(e,t,n,r,a,c){const g=n[dr],T=g[wn].projection[r.projection];if(Array.isArray(T))for(let O=0;O<T.length;O++)Aa(t,e,a,T[O],c);else Pr(e,t,T,g[Nn],a,c,!0)}function Tl(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ju(e,t,n){const{mergedAttrs:r,classes:a,styles:c}=n;null!==r&&en(e,t,r),null!==a&&Tl(e,t,a),null!==c&&function Oc(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function Vl(e){el=e}function Xu(e){return function ga(){if(void 0===Ps&&(Ps=null,Ft.trustedTypes))try{Ps=Ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ps}()?.createScriptURL(e)||e}class jl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}function l(e){return e instanceof jl?e.changingThisBreaksApplicationSecurity:e}function d(e,t){const n=function E(e){return e instanceof jl&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${_t})`)}return n===t}const ho=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Xr=(()=>((Xr=Xr||{})[Xr.NONE=0]="NONE",Xr[Xr.HTML=1]="HTML",Xr[Xr.STYLE=2]="STYLE",Xr[Xr.SCRIPT=3]="SCRIPT",Xr[Xr.URL=4]="URL",Xr[Xr.RESOURCE_URL=5]="RESOURCE_URL",Xr))();function pd(e){const t=Oo();return t?t.sanitize(Xr.URL,e)||"":d(e,"URL")?l(e):function tl(e){return(e=String(e)).match(ho)?e:"unsafe:"+e}(Be(e))}function gd(e){const t=Oo();if(t)return Xu(t.sanitize(Xr.RESOURCE_URL,e)||"");if(d(e,"ResourceURL"))return Xu(l(e));throw new be(904,!1)}function _d(e,t,n){return function oh(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?gd:pd}(t,n)(e)}function Oo(){const e=Ze();return e&&e[Pi]}const hi=new Gn("ENVIRONMENT_INITIALIZER"),zs=new Gn("INJECTOR",-1),Gl=new Gn("INJECTOR_DEF_TYPES");class yd{get(t,n=vn){if(n===vn){const r=new Error(`NullInjectorError: No provider for ${he(t)}!`);throw r.name="NullInjectorError",r}return n}}function ah(...e){return{\u0275providers:vd(0,e),\u0275fromNgModule:!0}}function vd(e,...t){const n=[],r=new Set;let a;return Ss(t,c=>{const g=c;Uc(g,n,[],r)&&(a||(a=[]),a.push(g))}),void 0!==a&&Ma(a,n),n}function Ma(e,t){for(let n=0;n<e.length;n++){const{providers:a}=e[n];Bc(a,c=>{t.push(c)})}}function Uc(e,t,n,r){if(!(e=se(e)))return!1;let a=null,c=Fn(e);const g=!c&&gn(e);if(c||g){if(g&&!g.standalone)return!1;a=e}else{const T=e.ngModule;if(c=Fn(T),!c)return!1;a=T}const D=r.has(a);if(g){if(D)return!1;if(r.add(a),g.dependencies){const T="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const O of T)Uc(O,t,n,r)}}else{if(!c)return!1;{if(null!=c.imports&&!D){let O;r.add(a);try{Ss(c.imports,V=>{Uc(V,t,n,r)&&(O||(O=[]),O.push(V))})}finally{}void 0!==O&&Ma(O,t)}if(!D){const O=si(a)||(()=>new a);t.push({provide:a,useFactory:O,deps:ee},{provide:Gl,useValue:a,multi:!0},{provide:hi,useValue:()=>st(a),multi:!0})}const T=c.providers;null==T||D||Bc(T,V=>{t.push(V)})}}return a!==e&&void 0!==e.providers}function Bc(e,t){for(let n of e)Le(n)&&(n=n.\u0275providers),Array.isArray(n)?Bc(n,t):t(n)}const lh=de({provide:String,useValue:de});function ic(e){return null!==e&&"object"==typeof e&&lh in e}function nl(e){return"function"==typeof e}const jc=new Gn("Set Injector scope."),Cu={},uh={};let Hc;function wu(){return void 0===Hc&&(Hc=new yd),Hc}class rl{}class Wc extends rl{get destroyed(){return this._destroyed}constructor(t,n,r,a){super(),this.parent=n,this.source=r,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kc(t,g=>this.processProvider(g)),this.records.set(zs,Kl(void 0,this)),a.has("environment")&&this.records.set(rl,Kl(void 0,this));const c=this.records.get(jc);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(Gl.multi,ee,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Yn(this),r=yn(void 0);try{return t()}finally{Yn(n),yn(r)}}get(t,n=vn,r=mt.Default){this.assertNotDestroyed(),r=Pt(r);const a=Yn(this),c=yn(void 0);try{if(!(r&mt.SkipSelf)){let D=this.records.get(t);if(void 0===D){const T=function fh(e){return"function"==typeof e||"object"==typeof e&&e instanceof Gn}(t)&&Jt(t);D=T&&this.injectableDefInScope(T)?Kl(zc(t),Cu):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D)}return(r&mt.Self?wu():this.parent).get(t,n=r&mt.Optional&&n===vn?null:n)}catch(g){if("NullInjectorError"===g.name){if((g[dn]=g[dn]||[]).unshift(he(t)),a)throw g;return function X(e,t,n,r){const a=e[dn];throw t[Ir]&&a.unshift(t[Ir]),e.message=function K(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==En?e.slice(2):e;let a=he(t);if(Array.isArray(t))a=t.map(he).join(" -> ");else if("object"==typeof t){let c=[];for(let g in t)if(t.hasOwnProperty(g)){let D=t[g];c.push(g+":"+("string"==typeof D?JSON.stringify(D):he(D)))}a=`{${c.join(", ")}}`}return`${n}${r?"("+r+")":""}[${a}]: ${e.replace(qr,"\n  ")}`}("\n"+e.message,a,n,r),e[kn]=a,e[dn]=null,e}(g,t,"R3InjectorError",this.source)}throw g}finally{yn(c),Yn(a)}}resolveInjectorInitializers(){const t=Yn(this),n=yn(void 0);try{const r=this.get(hi.multi,ee,mt.Self);for(const a of r)a()}finally{Yn(t),yn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(he(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(t){let n=nl(t=se(t))?t:se(t&&t.provide);const r=function dh(e){return ic(e)?Kl(void 0,e.useValue):Kl(function Gc(e,t,n){let r;if(nl(e)){const a=se(e);return si(a)||zc(a)}if(ic(e))r=()=>se(e.useValue);else if(function $c(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Nt(e.deps||[]));else if(function Vc(e){return!(!e||!e.useExisting)}(e))r=()=>st(se(e.useExisting));else{const a=se(e&&(e.useClass||e.provide));if(!function hh(e){return!!e.deps}(e))return si(a)||zc(a);r=()=>new a(...Nt(e.deps))}return r}(e),Cu)}(t);if(nl(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=Kl(void 0,Cu,!0),a.factory=()=>Nt(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Cu&&(n.value=uh,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Ed(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=se(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function zc(e){const t=Jt(e),n=null!==t?t.factory:si(e);if(null!==n)return n;if(e instanceof Gn)throw new be(204,!1);if(e instanceof Function)return function ch(e){const t=e.length;if(t>0)throw function lo(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new be(204,!1);const n=function Zn(e){const t=e&&(e[Bn]||e[bt]);return t?(function fn(e){if(e.hasOwnProperty("name"))return e.name;(""+e).match(/^function\s*([^\s(]+)/)}(e),t):null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new be(204,!1)}function Kl(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Kc(e,t){for(const n of e)Array.isArray(n)?Kc(n,t):n&&Le(n)?Kc(n.\u0275providers,t):t(n)}class ph{}class Id{}class i{resolveComponentFactory(t){throw function gh(e){const t=Error(`No component factory found for ${he(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let s=(()=>{class e{}return e.NULL=new i,e})();function u(){return _(Wn(),Ze())}function _(e,t){return new b(or(e,t))}let b=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=u,e})();function M(e){return e instanceof b?e.nativeElement:e}class B{}let W=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function J(){const e=Ze(),n=hr(Wn().index,e);return(In(n)?n:e)[$t]}(),e})(),Te=(()=>{class e{}return e.\u0275prov=at({token:e,providedIn:"root",factory:()=>null}),e})();class Me{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ge=new Me("15.2.2"),Tt={},Ht="ngOriginalError";function ei(e){return e[Ht]}class Gs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ei(t);for(;n&&ei(n);)n=ei(n);return n||null}}function Ml(e){return e instanceof Function?e():e}function Vf(e,t,n){let r=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===r||e.charCodeAt(a+c)<=32)return a}n=a+1}}const $f="ng-template";function x_(e,t,n){let r=0;for(;r<e.length;){let a=e[r++];if(n&&"class"===a){if(a=e[r],-1!==Vf(a.toLowerCase(),t,0))return!0}else if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function jf(e){return 4===e.type&&e.value!==$f}function k_(e,t,n){return t===(4!==e.type||n?e.value:$f)}function L_(e,t,n){let r=4;const a=e.attrs||[],c=function B_(e){for(let t=0;t<e.length;t++)if(ir(e[t]))return t;return e.length}(a);let g=!1;for(let D=0;D<t.length;D++){const T=t[D];if("number"!=typeof T){if(!g)if(4&r){if(r=2|1&r,""!==T&&!k_(e,T,n)||""===T&&1===t.length){if(Oa(r))return!1;g=!0}}else{const O=8&r?T:t[++D];if(8&r&&null!==e.attrs){if(!x_(e.attrs,O,n)){if(Oa(r))return!1;g=!0}continue}const z=F_(8&r?"class":T,a,jf(e),n);if(-1===z){if(Oa(r))return!1;g=!0;continue}if(""!==O){let ue;ue=z>c?"":a[z+1].toLowerCase();const ve=8&r?ue:null;if(ve&&-1!==Vf(ve,O,0)||2&r&&O!==ue){if(Oa(r))return!1;g=!0}}}}else{if(!g&&!Oa(r)&&!Oa(T))return!1;if(g&&Oa(T))continue;g=!1,r=T|1&r}}return Oa(r)||g}function Oa(e){return 0==(1&e)}function F_(e,t,n,r){if(null===t)return-1;let a=0;if(r||!n){let c=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)c=!0;else{if(1===g||2===g){let D=t[++a];for(;"string"==typeof D;)D=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=c?1:2}return-1}return function V_(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Hf(e,t,n=!1){for(let r=0;r<t.length;r++)if(L_(e,t[r],n))return!0;return!1}function Wf(e,t){return e?":not("+t.trim()+")":t}function j_(e){let t=e[0],n=1,r=2,a="",c=!1;for(;n<e.length;){let g=e[n];if("string"==typeof g)if(2&r){const D=e[++n];a+="["+g+(D.length>0?'="'+D+'"':"")+"]"}else 8&r?a+="."+g:4&r&&(a+=" "+g);else""!==a&&!Oa(g)&&(t+=Wf(c,a),a=""),r=g,c=c||!Oa(r);n++}return""!==a&&(t+=Wf(c,a)),t}const Cn={};function zf(e){Gf(Ot(),Ze(),tr()+e,!1)}function Gf(e,t,n,r){if(!r)if(3==(3&t[Gt])){const c=e.preOrderCheckHooks;null!==c&&Es(t,c,n)}else{const c=e.preOrderHooks;null!==c&&Ii(t,c,0,n)}vi(n)}function qf(e,t=null,n=null,r){const a=Qf(e,t,n,r);return a.resolveInjectorInitializers(),a}function Qf(e,t=null,n=null,r,a=new Set){const c=[n||ee,ah(e)];return r=r||("object"==typeof e?void 0:he(e)),new Wc(c,t||wu(),r||null,a)}let bu=(()=>{class e{static create(n,r){if(Array.isArray(n))return qf({name:""},r,n,"");{const a=n.name??"";return qf({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=vn,e.NULL=new yd,e.\u0275prov=at({token:e,providedIn:"any",factory:()=>st(zs)}),e.__NG_ELEMENT_ID__=-1,e})();function ac(e,t=mt.Default){const n=Ze();return null===n?st(e,t):Ds(Wn(),n,se(e),t)}function ip(){throw new Error("invalid")}function sp(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const c=n[r+1];if(-1!==c){const g=e.data[c];Bi(n[r]),g.contentQueries(2,t[c],c)}}}function wd(e,t,n,r,a,c,g,D,T,O,V){const z=t.blueprint.slice();return z[Hn]=a,z[Gt]=76|r,(null!==V||e&&1024&e[Gt])&&(z[Gt]|=1024),On(z),z[Nn]=z[ii]=e,z[xn]=n,z[jr]=g||e&&e[jr],z[$t]=D||e&&e[$t],z[Pi]=T||e&&e[Pi]||null,z[ri]=O||e&&e[ri]||null,z[wn]=c,z[Ki]=function nu(){return pl++}(),z[Ys]=V,z[dr]=2==t.type?e[dr]:z,z}function lc(e,t,n,r,a){let c=e.data[t];if(null===c)c=function Ih(e,t,n,r,a){const c=ms(),g=_i(),T=e.data[t]=function py(e,t,n,r,a,c){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?c:c&&c.parent,n,t,r,a);return null===e.firstChild&&(e.firstChild=T),null!==c&&(g?null==c.child&&null!==T.parent&&(c.child=T):null===c.next&&(c.next=T,T.prev=c)),T}(e,t,n,r,a),function Io(){return Zt.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=r,c.attrs=a;const g=function Fi(){const e=Zt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===g?-1:g.injectorIndex}return yr(c,!0),c}function Zc(e,t,n,r){if(0===n)return-1;const a=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return a}function Dh(e,t,n){Fs(t);try{const r=e.viewQuery;null!==r&&Oh(1,r,n);const a=e.template;null!==a&&op(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&sp(e,t),e.staticViewQueries&&Oh(2,e.viewQuery,n);const c=e.components;null!==c&&function dy(e,t){for(let n=0;n<t.length;n++)Ny(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Gt]&=-5,ea()}}function bd(e,t,n,r){const a=t[Gt];if(128!=(128&a)){Fs(t);try{On(t),function eo(e){return Zt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&op(e,t,n,2,r);const g=3==(3&a);if(g){const O=e.preOrderCheckHooks;null!==O&&Es(t,O,null)}else{const O=e.preOrderHooks;null!==O&&Ii(t,O,0,null),Us(t,0)}if(function Py(e){for(let t=au(e);null!==t;t=lu(t)){if(!t[ie])continue;const n=t[tt];for(let r=0;r<n.length;r++){const a=n[r];512&a[Gt]||ks(a[Nn],1),a[Gt]|=512}}}(t),function My(e){for(let t=au(e);null!==t;t=lu(t))for(let n=yt;n<t.length;n++){const r=t[n],a=r[gt];fs(r)&&bd(a,r,a.template,r[xn])}}(t),null!==e.contentQueries&&sp(e,t),g){const O=e.contentCheckHooks;null!==O&&Es(t,O)}else{const O=e.contentHooks;null!==O&&Ii(t,O,1),Us(t,1)}!function uy(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const a=n[r];if(a<0)vi(~a);else{const c=a,g=n[++r],D=n[++r];_s(g,c),D(2,t[c])}}}finally{vi(-1)}}(e,t);const D=e.components;null!==D&&function cy(e,t){for(let n=0;n<t.length;n++)Oy(e,t[n])}(t,D);const T=e.viewQuery;if(null!==T&&Oh(2,T,r),g){const O=e.viewCheckHooks;null!==O&&Es(t,O)}else{const O=e.viewHooks;null!==O&&Ii(t,O,2),Us(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Gt]&=-41,512&t[Gt]&&(t[Gt]&=-513,ks(t[Nn],-1))}finally{ea()}}}function op(e,t,n,r,a){const c=tr(),g=2&r;try{vi(-1),g&&t.length>Tn&&Gf(e,t,Tn,!1),Cr(g?2:0,a),n(r,a)}finally{vi(c),Cr(g?3:1,a)}}function Ch(e,t,n){if(hn(t)){const a=t.directiveEnd;for(let c=t.directiveStart;c<a;c++){const g=e.data[c];g.contentQueries&&g.contentQueries(1,n[c],c)}}}function wh(e,t,n){Wt()&&(function Ey(e,t,n,r){const a=n.directiveStart,c=n.directiveEnd;ln(n)&&function Sy(e,t,n){const r=or(t,e),a=ap(n),c=e[jr],g=Td(e,wd(e,a,null,n.onPush?32:16,r,t,c,c.createRenderer(r,n),null,null,null));e[t.index]=g}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||ci(n,t),Ur(r,t);const g=n.initialInputs;for(let D=a;D<c;D++){const T=e.data[D],O=bi(t,e,D,n);Ur(O,t),null!==g&&Ay(0,D-a,O,T,0,g),Xn(T)&&(hr(n.index,t)[xn]=bi(t,e,D,n))}}(e,t,n,or(n,t)),64==(64&n.flags)&&fp(e,t,n))}function bh(e,t,n=or){const r=t.localNames;if(null!==r){let a=t.index+1;for(let c=0;c<r.length;c+=2){const g=r[c+1],D=-1===g?n(t,e):e[g];e[a++]=D}}}function ap(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Th(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Th(e,t,n,r,a,c,g,D,T,O){const V=Tn+r,z=V+a,ue=function hy(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Cn);return n}(V,z),ve="function"==typeof O?O():O;return ue[gt]={type:e,blueprint:ue,template:n,queries:null,viewQuery:D,declTNode:t,data:ue.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:T,consts:ve,incompleteFirstPass:!1}}function lp(e,t,n,r){const a=gp(t);null===n?a.push(r):(a.push(n),e.firstCreatePass&&mp(e).push(r,a.length-1))}function up(e,t,n,r){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const c=e[a];null===r?cp(n,t,a,c):r.hasOwnProperty(a)&&cp(n,t,r[a],c)}return n}function cp(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function dp(e,t){const n=hr(t,e);16&n[Gt]||(n[Gt]|=32)}function Sh(e,t,n,r){if(Wt()){const a=null===r?null:{"":-1},c=function Dy(e,t){const n=e.directiveRegistry;let r=null,a=null;if(n)for(let c=0;c<n.length;c++){const g=n[c];if(Hf(t,g.selectors,!1))if(r||(r=[]),Xn(g))if(null!==g.findHostDirectiveDefs){const D=[];a=a||new Map,g.findHostDirectiveDefs(g,D,a),r.unshift(...D,g),Ah(e,t,D.length)}else r.unshift(g),Ah(e,t,0);else a=a||new Map,g.findHostDirectiveDefs?.(g,r,a),r.push(g)}return null===r?null:[r,a]}(e,n);let g,D;null===c?g=D=null:[g,D]=c,null!==g&&hp(e,t,n,g,a,D),a&&function Cy(e,t,n){if(t){const r=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=n[t[a+1]];if(null==c)throw new be(-301,!1);r.push(t[a],c)}}}(n,r,a)}n.mergedAttrs=zn(n.mergedAttrs,n.attrs)}function hp(e,t,n,r,a,c){for(let O=0;O<r.length;O++)Vs(ci(n,t),e,r[O].type);!function by(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let O=0;O<r.length;O++){const V=r[O];V.providersResolver&&V.providersResolver(V)}let g=!1,D=!1,T=Zc(e,t,r.length,null);for(let O=0;O<r.length;O++){const V=r[O];n.mergedAttrs=zn(n.mergedAttrs,V.hostAttrs),Ty(e,n,t,T,V),wy(T,V,a),null!==V.contentQueries&&(n.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(n.flags|=64);const z=V.type.prototype;!g&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),g=!0),!D&&(z.ngOnChanges||z.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),D=!0),T++}!function gy(e,t,n){const a=t.directiveEnd,c=e.data,g=t.attrs,D=[];let T=null,O=null;for(let V=t.directiveStart;V<a;V++){const z=c[V],ue=n?n.get(z):null,He=ue?ue.outputs:null;T=up(z.inputs,V,T,ue?ue.inputs:null),O=up(z.outputs,V,O,He);const dt=null===T||null===g||jf(t)?null:Ry(T,V,g);D.push(dt)}null!==T&&(T.hasOwnProperty("class")&&(t.flags|=8),T.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=D,t.inputs=T,t.outputs=O}(e,n,c)}function fp(e,t,n){const r=n.directiveStart,a=n.directiveEnd,c=n.index,g=function ys(){return Zt.lFrame.currentDirectiveIndex}();try{vi(c);for(let D=r;D<a;D++){const T=e.data[D],O=t[D];to(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Iy(T,O)}}finally{vi(-1),to(g)}}function Iy(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ah(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function wy(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Xn(t)&&(n[""]=e)}}function Ty(e,t,n,r,a){e.data[r]=a;const c=a.factory||(a.factory=si(a.type)),g=new S(c,Xn(a),ac);e.blueprint[r]=g,n[r]=g,function yy(e,t,n,r,a){const c=a.hostBindings;if(c){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const D=~t.index;(function vy(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(g)!=D&&g.push(D),g.push(n,r,c)}}(e,t,r,Zc(e,n,a.hostVars,Cn),a)}function il(e,t,n,r,a,c){const g=or(e,t);!function Rh(e,t,n,r,a,c,g){if(null==c)e.removeAttribute(t,a,n);else{const D=null==g?Be(c):g(c,r||"",a);e.setAttribute(t,a,D,n)}}(t[$t],g,c,e.value,n,r,a)}function Ay(e,t,n,r,a,c){const g=c[t];if(null!==g){const D=r.setInput;for(let T=0;T<g.length;){const O=g[T++],V=g[T++],z=g[T++];null!==D?r.setInput(n,z,O,V):n[V]=z}}}function Ry(e,t,n){let r=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===r&&(r=[]);const g=e[c];for(let D=0;D<g.length;D+=2)if(g[D]===t){r.push(c,g[D+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return r}function pp(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function Oy(e,t){const n=hr(t,e);if(fs(n)){const r=n[gt];48&n[Gt]?bd(r,n,r.template,n[xn]):n[Sr]>0&&Mh(n)}}function Mh(e){for(let r=au(e);null!==r;r=lu(r))for(let a=yt;a<r.length;a++){const c=r[a];if(fs(c))if(512&c[Gt]){const g=c[gt];bd(g,c,g.template,c[xn])}else c[Sr]>0&&Mh(c)}const n=e[gt].components;if(null!==n)for(let r=0;r<n.length;r++){const a=hr(n[r],e);fs(a)&&a[Sr]>0&&Mh(a)}}function Ny(e,t){const n=hr(t,e),r=n[gt];(function xy(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Dh(r,n,n[xn])}function Td(e,t){return e[cs]?e[Zs][Tr]=t:e[cs]=t,e[Zs]=t,t}function Ph(e){for(;e;){e[Gt]|=32;const t=ca(e);if(Un(e)&&!t)return e;e=t}return null}function Sd(e,t,n,r=!0){const a=t[jr];a.begin&&a.begin();try{bd(e,t,e.template,n)}catch(g){throw r&&yp(t,g),g}finally{a.end&&a.end()}}function Oh(e,t,n){Bi(0),t(e,n)}function gp(e){return e[fr]||(e[fr]=[])}function mp(e){return e.cleanup||(e.cleanup=[])}function yp(e,t){const n=e[ri],r=n?n.get(Gs,null):null;r&&r.handleError(t)}function Nh(e,t,n,r,a){for(let c=0;c<n.length;){const g=n[c++],D=n[c++],T=t[g],O=e.data[g];null!==O.setInput?O.setInput(T,a,r,D):T[D]=a}}function Pl(e,t,n){const r=function oi(e,t){return un(t[e])}(t,e);!function Wu(e,t,n){e.setValue(t,n)}(e[$t],r,n)}function Ad(e,t,n){let r=n?e.styles:null,a=n?e.classes:null,c=0;if(null!==t)for(let g=0;g<t.length;g++){const D=t[g];"number"==typeof D?c=D:1==c?a=_e(a,D):2==c&&(r=_e(r,D+": "+t[++g]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=a:e.classesWithoutHost=a}function Rd(e,t,n,r,a=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&r.push(un(c)),nn(c))for(let D=yt;D<c.length;D++){const T=c[D],O=T[gt].firstChild;null!==O&&Rd(T[gt],T,O,r)}const g=n.type;if(8&g)Rd(e,t,n.child,r);else if(32&g){const D=ou(n,t);let T;for(;T=D();)r.push(T)}else if(16&g){const D=Yo(t,n);if(Array.isArray(D))r.push(...D);else{const T=ca(t[dr]);Rd(T[gt],T,D,r,!0)}}n=a?n.projectionNext:n.next}return r}class Yc{get rootNodes(){const t=this._lView,n=t[gt];return Rd(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(t){this._lView[xn]=t}get destroyed(){return 128==(128&this._lView[Gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Nn];if(nn(t)){const n=t[Fe],r=n?n.indexOf(this):-1;r>-1&&(fu(t,r),As(n,r))}this._attachedToViewContainer=!1}Mo(this._lView[gt],this._lView)}onDestroy(t){lp(this._lView[gt],this._lView,null,t)}markForCheck(){Ph(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gt]&=-65}reattach(){this._lView[Gt]|=64}detectChanges(){Sd(this._lView[gt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qa(e,t){Po(e,t,t[$t],2,null,null)}(this._lView[gt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=t}}class ky extends Yc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Sd(t[gt],t,t[xn],!1)}checkNoChanges(){}get context(){return null}}class vp extends s{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=gn(t);return new qc(n,this.ngModule)}}function Ep(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Fy{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Pt(r);const a=this.injector.get(t,Tt,r);return a!==Tt||n===Tt?a:this.parentInjector.get(t,n,r)}}class qc extends Id{get inputs(){return Ep(this.componentDef.inputs)}get outputs(){return Ep(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function H_(e){return e.map(j_).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,a){let c=(a=a||this.ngModule)instanceof rl?a:a?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const g=c?new Fy(t,c):t,D=g.get(B,null);if(null===D)throw new be(407,!1);const T=g.get(Te,null),O=D.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",z=r?function fy(e,t,n){return e.selectRootElement(t,n===me.ShadowDom)}(O,r,this.componentDef.encapsulation):vl(O,V,function Ly(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(V)),ue=this.componentDef.onPush?288:272,ve=Th(0,null,null,1,0,null,null,null,null,null),He=wd(null,ve,null,ue,null,null,D,O,T,g,null);let dt,Ct;Fs(He);try{const Bt=this.componentDef;let on,rt=null;Bt.findHostDirectiveDefs?(on=[],rt=new Map,Bt.findHostDirectiveDefs(Bt,on,rt),on.push(Bt)):on=[Bt];const mn=function By(e,t){const n=e[gt],r=Tn;return e[r]=t,lc(n,r,2,"#host",null)}(He,z),Vr=function Vy(e,t,n,r,a,c,g,D){const T=a[gt];!function $y(e,t,n,r){for(const a of e)t.mergedAttrs=zn(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(Ad(t,t.mergedAttrs,!0),null!==n&&Ju(r,n,t))}(r,e,t,g);const O=c.createRenderer(t,n),V=wd(a,ap(n),null,n.onPush?32:16,a[e.index],e,c,O,D||null,null,null);return T.firstCreatePass&&Ah(T,e,r.length-1),Td(a,V),a[e.index]=V}(mn,z,Bt,on,He,D,O);Ct=xi(ve,Tn),z&&function Hy(e,t,n,r){if(r)en(e,n,["ng-version",Ge.full]);else{const{attrs:a,classes:c}=function W_(e){const t=[],n=[];let r=1,a=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++r]):8===a&&n.push(c);else{if(!Oa(a))break;a=c}r++}return{attrs:t,classes:n}}(t.selectors[0]);a&&en(e,n,a),c&&c.length>0&&Tl(e,n,c.join(" "))}}(O,Bt,z,r),void 0!==n&&function Wy(e,t,n){const r=e.projection=[];for(let a=0;a<t.length;a++){const c=n[a];r.push(null!=c?Array.from(c):null)}}(Ct,this.ngContentSelectors,n),dt=function jy(e,t,n,r,a,c){const g=Wn(),D=a[gt],T=or(g,a);hp(D,a,g,n,null,r);for(let V=0;V<n.length;V++)Ur(bi(a,D,g.directiveStart+V,g),a);fp(D,a,g),T&&Ur(T,a);const O=bi(a,D,g.directiveStart+g.componentOffset,g);if(e[xn]=a[xn]=O,null!==c)for(const V of c)V(O,t);return Ch(D,g,e),O}(Vr,Bt,on,rt,He,[zy]),Dh(ve,He,null)}finally{ea()}return new Uy(this.componentType,dt,_(Ct,He),He,Ct)}}class Uy extends ph{constructor(t,n,r,a,c){super(),this.location=r,this._rootLView=a,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new ky(a),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let a;if(null!==r&&(a=r[t])){const c=this._rootLView;Nh(c[gt],c,a,t,n),dp(c,this._tNode.index)}}get injector(){return new Cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function zy(){const e=Wn();bo(Ze()[gt],e)}function Md(e){return!!kh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function kh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ks(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Lh(e,t,n,r){const a=Ze();return Ks(a,Ui(),t)&&(Ot(),il(nr(),a,e,t,n,r)),Lh}function dc(e,t,n,r,a,c){const D=function Tu(e,t,n,r){const a=Ks(e,t,n);return Ks(e,t+1,r)||a}(e,function ai(){return Zt.lFrame.bindingIndex}(),n,a);return function vr(e){const t=Zt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2),D?t+Be(n)+r+Be(a)+c:Cn}function kp(e,t,n,r,a,c,g,D){const T=Ze(),O=Ot(),V=e+Tn,z=O.firstCreatePass?function sv(e,t,n,r,a,c,g,D,T){const O=t.consts,V=lc(t,e,4,g||null,ki(O,D));Sh(t,n,V,ki(O,T)),bo(t,V);const z=V.tView=Th(2,V,r,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,O);return null!==t.queries&&(t.queries.template(t,V),z.queries=t.queries.embeddedTView(V)),V}(V,O,T,t,n,r,a,c,g):O.data[V];yr(z,!1);const ue=T[$t].createComment("");Zr(O,T,ue,z),Ur(ue,T),Td(T,T[V]=pp(ue,T,ue,z)),Ut(z)&&wh(O,T,z),null!=g&&bh(T,z,D)}function Fh(e,t,n){const r=Ze();return Ks(r,Ui(),t)&&function qo(e,t,n,r,a,c,g,D){const T=or(t,n);let V,O=t.inputs;!D&&null!=O&&(V=O[r])?(Nh(e,n,V,r,a),ln(t)&&dp(n,t.index)):3&t.type&&(r=function my(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),a=null!=g?g(a,t.value||"",r):a,c.setProperty(T,r,a))}(Ot(),nr(),r,e,t,r[$t],n,!1),Fh}function Uh(e,t,n,r,a){const g=a?"class":"style";Nh(e,n,t.inputs[g],g,r)}function Od(e,t,n,r){const a=Ze(),c=Ot(),g=Tn+e,D=a[$t],T=c.firstCreatePass?function lv(e,t,n,r,a,c){const g=t.consts,T=lc(t,e,2,r,ki(g,a));return Sh(t,n,T,ki(g,c)),null!==T.attrs&&Ad(T,T.attrs,!1),null!==T.mergedAttrs&&Ad(T,T.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,T),T}(g,c,a,t,n,r):c.data[g],O=a[g]=vl(D,t,function rr(){return Zt.lFrame.currentNamespace}()),V=Ut(T);return yr(T,!0),Ju(D,O,T),32!=(32&T.flags)&&Zr(c,a,O,T),0===function mi(){return Zt.lFrame.elementDepthCount}()&&Ur(O,a),function ar(){Zt.lFrame.elementDepthCount++}(),V&&(wh(c,a,T),Ch(c,T,a)),null!==r&&bh(a,T),Od}function Nd(){let e=Wn();_i()?yi():(e=e.parent,yr(e,!1));const t=e;!function Li(){Zt.lFrame.elementDepthCount--}();const n=Ot();return n.firstCreatePass&&(bo(n,e),hn(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function lt(e){return 0!=(8&e.flags)}(t)&&Uh(n,t,Ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Yt(e){return 0!=(16&e.flags)}(t)&&Uh(n,t,Ze(),t.stylesWithoutHost,!1),Nd}function Bh(e,t,n,r){return Od(e,t,n,r),Nd(),Bh}function xd(e,t,n){const r=Ze(),a=Ot(),c=e+Tn,g=a.firstCreatePass?function uv(e,t,n,r,a){const c=t.consts,g=ki(c,r),D=lc(t,e,8,"ng-container",g);return null!==g&&Ad(D,g,!0),Sh(t,n,D,ki(c,a)),null!==t.queries&&t.queries.elementStart(t,D),D}(c,a,r,t,n):a.data[c];yr(g,!0);const D=r[c]=r[$t].createComment("");return Zr(a,r,D,g),Ur(D,r),Ut(g)&&(wh(a,r,g),Ch(a,g,r)),null!=n&&bh(r,g),xd}function kd(){let e=Wn();const t=Ot();return _i()?yi():(e=e.parent,yr(e,!1)),t.firstCreatePass&&(bo(t,e),hn(e)&&t.queries.elementEnd(e)),kd}function Fp(){return Ze()}function Vh(e){return!!e&&"function"==typeof e.then}function Up(e){return!!e&&"function"==typeof e.subscribe}const Bp=Up;function $h(e,t,n,r){const a=Ze(),c=Ot(),g=Wn();return function $p(e,t,n,r,a,c,g){const D=Ut(r),O=e.firstCreatePass&&mp(e),V=t[xn],z=gp(t);let ue=!0;if(3&r.type||g){const dt=or(r,t),Ct=g?g(dt):dt,Bt=z.length,on=g?mn=>g(un(mn[r.index])):r.index;let rt=null;if(!g&&D&&(rt=function cv(e,t,n,r){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const g=a[c];if(g===n&&a[c+1]===r){const D=t[fr],T=a[c+2];return D.length>T?D[T]:null}"string"==typeof g&&(c+=2)}return null}(e,t,a,r.index)),null!==rt)(rt.__ngLastListenerFn__||rt).__ngNextListenerFn__=c,rt.__ngLastListenerFn__=c,ue=!1;else{c=Hp(r,t,V,c,!1);const mn=n.listen(Ct,a,c);z.push(c,mn),O&&O.push(a,on,Bt,Bt+1)}}else c=Hp(r,t,V,c,!1);const ve=r.outputs;let He;if(ue&&null!==ve&&(He=ve[a])){const dt=He.length;if(dt)for(let Ct=0;Ct<dt;Ct+=2){const Vr=t[He[Ct]][He[Ct+1]].subscribe(c),fi=z.length;z.push(c,Vr),O&&O.push(a,r.index,fi,-(fi+1))}}}(c,a,a[$t],g,e,t,r),$h}function jp(e,t,n,r){try{return Cr(6,t,n),!1!==n(r)}catch(a){return yp(e,a),!1}finally{Cr(7,t,n)}}function Hp(e,t,n,r,a){return function c(g){if(g===Function)return r;Ph(e.componentOffset>-1?hr(e.index,t):t);let T=jp(t,n,r,g),O=c.__ngNextListenerFn__;for(;O;)T=jp(t,n,O,g)&&T,O=O.__ngNextListenerFn__;return a&&!1===T&&(g.preventDefault(),g.returnValue=!1),T}}function Wp(e=1){return function wo(e){return(Zt.lFrame.contextLView=function Ea(e,t){for(;e>0;)t=t[ii],e--;return t}(e,Zt.lFrame.contextLView))[xn]}(e)}function gg(e,t=""){const n=Ze(),r=Ot(),a=e+Tn,c=r.firstCreatePass?lc(r,a,1,t,null):r.data[a],g=n[a]=function uu(e,t){return e.createText(t)}(n[$t],t);Zr(r,n,g,c),yr(c,!1)}function Kh(e){return Ud("",e,""),Kh}function Ud(e,t,n){const r=Ze(),a=function cc(e,t,n,r){return Ks(e,Ui(),n)?t+Be(n)+r:Cn}(r,e,t,n);return a!==Cn&&Pl(r,tr(),a),Ud}function Zh(e,t,n,r,a){const c=Ze(),g=dc(c,e,t,n,r,a);return g!==Cn&&Pl(c,tr(),g),Zh}const Au=void 0;var eE=["en",[["a","p"],["AM","PM"],Au],[["AM","PM"],Au,Au],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Au,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Au,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Au,"{1} 'at' {0}",Au],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Xv(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let vc={};function Yh(e){const t=function tE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=kg(t);if(n)return n;const r=t.split("-")[0];if(n=kg(r),n)return n;if("en"===r)return eE;throw new be(701,!1)}function xg(e){return Yh(e)[rn.PluralCase]}function kg(e){return e in vc||(vc[e]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[e]),vc[e]}var rn=(()=>((rn=rn||{})[rn.LocaleId=0]="LocaleId",rn[rn.DayPeriodsFormat=1]="DayPeriodsFormat",rn[rn.DayPeriodsStandalone=2]="DayPeriodsStandalone",rn[rn.DaysFormat=3]="DaysFormat",rn[rn.DaysStandalone=4]="DaysStandalone",rn[rn.MonthsFormat=5]="MonthsFormat",rn[rn.MonthsStandalone=6]="MonthsStandalone",rn[rn.Eras=7]="Eras",rn[rn.FirstDayOfWeek=8]="FirstDayOfWeek",rn[rn.WeekendRange=9]="WeekendRange",rn[rn.DateFormat=10]="DateFormat",rn[rn.TimeFormat=11]="TimeFormat",rn[rn.DateTimeFormat=12]="DateTimeFormat",rn[rn.NumberSymbols=13]="NumberSymbols",rn[rn.NumberFormats=14]="NumberFormats",rn[rn.CurrencyCode=15]="CurrencyCode",rn[rn.CurrencySymbol=16]="CurrencySymbol",rn[rn.CurrencyName=17]="CurrencyName",rn[rn.Currencies=18]="Currencies",rn[rn.Directionality=19]="Directionality",rn[rn.PluralCase=20]="PluralCase",rn[rn.ExtraData=21]="ExtraData",rn))();const Ec="en-US";let Lg=Ec;class Ic{}class lm{}function e0(e,t){return new um(e,t??null)}class um extends Ic{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vp(this);const r=jn(t);this._bootstrapComponents=Ml(r.bootstrap),this._r3Injector=Qf(t,n,[{provide:Ic,useValue:this},{provide:s,useValue:this.componentFactoryResolver}],he(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class nf extends lm{constructor(t){super(),this.moduleType=t}create(t){return new um(this.moduleType,t)}}class t0 extends Ic{constructor(t,n,r){super(),this.componentFactoryResolver=new vp(this),this.instance=null;const a=new Wc([...t,{provide:Ic,useValue:this},{provide:s,useValue:this.componentFactoryResolver}],n||wu(),r,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rf(e,t,n=null){return new t0(e,t,n).injector}let n0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=vd(0,n.type),a=r.length>0?rf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,a)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=at({token:e,providedIn:"environment",factory:()=>new e(st(rl))}),e})();function cm(e){e.getStandaloneInjector=t=>t.get(n0).getOrCreateStandaloneInjector(e)}function _m(e,t,n,r){return function ym(e,t,n,r,a,c){const g=t+n;return Ks(e,g,a)?function sl(e,t,n){return e[t]=n}(e,g+1,c?r.call(c,a):r(a)):function id(e,t){const n=e[t];return n===Cn?void 0:n}(e,g+1)}(Ze(),function ur(){const e=Zt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,r)}function af(e){return t=>{setTimeout(e,void 0,t)}}const ll=class A0 extends I.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let a=t,c=n||(()=>null),g=r;if(t&&"object"==typeof t){const T=t;a=T.next?.bind(T),c=T.error?.bind(T),g=T.complete?.bind(T)}this.__isAsync&&(c=af(c),a&&(a=af(a)),g&&(g=af(g)));const D=super.subscribe({next:a,error:c,complete:g});return t instanceof j.w0&&t.add(D),D}};function R0(){return this._results[Symbol.iterator]()}class lf{get changes(){return this._changes||(this._changes=new ll)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=lf.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=R0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const a=function Ti(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ta(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let a=e[r],c=t[r];if(n&&(a=n(a),c=n(c)),c!==a)return!1}return!0}(r._results,a,n))&&(r._results=a,r.length=a.length,r.last=a[this.length-1],r.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let od=(()=>{class e{}return e.__NG_ELEMENT_ID__=O0,e})();const M0=od,P0=class extends M0{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,a=wd(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);a[gr]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[Nr];return null!==g&&(a[Nr]=g.createEmbeddedView(r)),Dh(r,a,t),new Yc(a)}};function O0(){return Hd(Wn(),Ze())}function Hd(e,t){return 4&e.type?new P0(t,e,_(e,t)):null}let Wd=(()=>{class e{}return e.__NG_ELEMENT_ID__=N0,e})();function N0(){return bm(Wn(),Ze())}const x0=Wd,Cm=class extends x0{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return _(this._hostTNode,this._hostLView)}get injector(){return new Cs(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bs(this._hostTNode,this._hostLView);if(wr(t)){const n=Di(t,this._hostLView),r=_r(t);return new Cs(n[gt].data[r+8],n)}return new Cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=wm(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(t,n,r){let a,c;"number"==typeof r?a=r:null!=r&&(a=r.index,c=r.injector);const g=t.createEmbeddedView(n||{},c);return this.insert(g,a),g}createComponent(t,n,r,a,c){const g=t&&!function Jr(e){return"function"==typeof e}(t);let D;if(g)D=n;else{const z=n||{};D=z.index,r=z.injector,a=z.projectableNodes,c=z.environmentInjector||z.ngModuleRef}const T=g?t:new qc(gn(t)),O=r||this.parentInjector;if(!c&&null==T.ngModule){const ue=(g?O:this.parentInjector).get(rl,null);ue&&(c=ue)}const V=T.create(O,a,void 0,c);return this.insert(V.hostView,D),V}insert(t,n){const r=t._lView,a=r[gt];if(function yo(e){return nn(e[Nn])}(r)){const V=this.indexOf(t);if(-1!==V)this.detach(V);else{const z=r[Nn],ue=new Cm(z,z[wn],z[Nn]);ue.detach(ue.indexOf(t))}}const c=this._adjustIndex(n),g=this._lContainer;!function hu(e,t,n,r){const a=yt+r,c=n.length;r>0&&(n[a-1][Tr]=t),r<c-yt?(t[Tr]=n[a],ao(n,yt+r,t)):(n.push(t),t[Tr]=null),t[Nn]=n;const g=t[gr];null!==g&&n!==g&&function El(e,t){const n=e[tt];t[dr]!==t[Nn][Nn][dr]&&(e[ie]=!0),null===n?e[tt]=[t]:n.push(t)}(g,t);const D=t[Nr];null!==D&&D.insertView(e),t[Gt]|=64}(a,r,g,c);const D=fa(c,g),T=r[$t],O=wl(T,g[fe]);return null!==O&&function du(e,t,n,r,a,c){r[Hn]=a,r[wn]=t,Po(e,r,n,1,a,c)}(a,g[wn],T,r,O,D),t.attachToViewContainerRef(),ao(uf(g),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=wm(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=fu(this._lContainer,n);r&&(As(uf(this._lContainer),n),Mo(r[gt],r))}detach(t){const n=this._adjustIndex(t,-1),r=fu(this._lContainer,n);return r&&null!=As(uf(this._lContainer),n)?new Yc(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function wm(e){return e[Fe]}function uf(e){return e[Fe]||(e[Fe]=[])}function bm(e,t){let n;const r=t[e.index];if(nn(r))n=r;else{let a;if(8&e.type)a=un(r);else{const c=t[$t];a=c.createComment("");const g=or(e,t);Zo(c,wl(c,g),a,function Yu(e,t){return e.nextSibling(t)}(c,g),!1)}t[e.index]=n=pp(r,t,a,e),Td(t,n)}return new Cm(n,e,t)}class cf{constructor(t){this.queryList=t,this.matches=null}clone(){return new cf(this.queryList)}setDirty(){this.queryList.setDirty()}}class df{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let c=0;c<r;c++){const g=n.getByIndex(c);a.push(this.queries[g.indexInDeclarationView].clone())}return new df(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Nm(t,n).matches&&this.queries[n].setDirty()}}class Tm{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class hf{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const a=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,a);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new hf(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ff{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new ff(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){const c=r[a];this.matchTNodeWithReadOption(t,n,k0(n,c)),this.matchTNodeWithReadOption(t,n,wi(n,t,c,!1,!1))}else r===od?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,wi(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const a=this.metadata.read;if(null!==a)if(a===b||a===Wd||a===od&&4&n.type)this.addMatch(n.index,-2);else{const c=wi(n,t,a,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function k0(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function F0(e,t,n,r){return-1===n?function L0(e,t){return 11&e.type?_(e,t):4&e.type?Hd(e,t):null}(t,e):-2===n?function U0(e,t,n){return n===b?_(t,e):n===od?Hd(t,e):n===Wd?bm(t,e):void 0}(e,t,r):bi(e,e[gt],n,t)}function Sm(e,t,n,r){const a=t[Nr].queries[r];if(null===a.matches){const c=e.data,g=n.matches,D=[];for(let T=0;T<g.length;T+=2){const O=g[T];D.push(O<0?null:F0(t,c[O],g[T+1],n.metadata.read))}a.matches=D}return a.matches}function pf(e,t,n,r){const a=e.queries.getByIndex(n),c=a.matches;if(null!==c){const g=Sm(e,t,a,n);for(let D=0;D<c.length;D+=2){const T=c[D];if(T>0)r.push(g[D/2]);else{const O=c[D+1],V=t[-T];for(let z=yt;z<V.length;z++){const ue=V[z];ue[gr]===ue[Nn]&&pf(ue[gt],ue,O,r)}if(null!==V[tt]){const z=V[tt];for(let ue=0;ue<z.length;ue++){const ve=z[ue];pf(ve[gt],ve,O,r)}}}}}return r}function Am(e){const t=Ze(),n=Ot(),r=no();Bi(r+1);const a=Nm(n,r);if(e.dirty&&function _o(e){return 4==(4&e[Gt])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const c=a.crossesNgTemplate?pf(n,t,r,[]):Sm(n,t,a,r);e.reset(c,M),e.notifyOnChanges()}return!0}return!1}function Rm(e,t,n,r){const a=Ot();if(a.firstCreatePass){const c=Wn();(function Om(e,t,n){null===e.queries&&(e.queries=new hf),e.queries.track(new ff(t,n))})(a,new Tm(t,n,r),c.index),function $0(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}!function Pm(e,t,n){const r=new lf(4==(4&n));lp(e,t,r,r.destroy),null===t[Nr]&&(t[Nr]=new df),t[Nr].queries.push(new cf(r))}(a,Ze(),n)}function Mm(){return function V0(e,t){return e[Nr].queries[t].queryList}(Ze(),no())}function Nm(e,t){return e.queries.getByIndex(t)}function gf(e){return!!jn(e)}function Gd(...e){}const Qm=new Gn("Application Initializer");let Kd=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Gd,this.reject=Gd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const c=this.appInits[a]();if(Vh(c))n.push(c);else if(Bp(c)){const g=new Promise((D,T)=>{c.subscribe({complete:D,error:T})});n.push(g)}}Promise.all(n).then(()=>{r()}).catch(a=>{this.reject(a)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(st(Qm,8))},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Jm=new Gn("AppId",{providedIn:"root",factory:function Xm(){return`${Ef()}${Ef()}${Ef()}`}});function Ef(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const e_=new Gn("Platform Initializer"),lI=new Gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let uI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Zd=new Gn("LocaleId",{providedIn:"root",factory:()=>pt(Zd,mt.Optional|mt.SkipSelf)||function cI(){return typeof $localize<"u"&&$localize.locale||Ec}()}),dI=new Gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let fI=(()=>{class e{compileModuleSync(n){return new nf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),c=Ml(jn(n).declarations).reduce((g,D)=>{const T=gn(D);return T&&g.push(new qc(T)),g},[]);return new hI(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const mI=(()=>Promise.resolve(0))();function If(e){typeof Zone>"u"?mI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class _a{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ll(!1),this.onMicrotaskEmpty=new ll(!1),this.onStable=new ll(!1),this.onError=new ll(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&n,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function _I(){let e=Ft.requestAnimationFrame,t=Ft.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function EI(e){const t=()=>{!function vI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ft,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Cf(e),e.isCheckStableRunning=!0,Df(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Cf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,a,c,g,D)=>{try{return r_(e),n.invokeTask(a,c,g,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),i_(e)}},onInvoke:(n,r,a,c,g,D,T)=>{try{return r_(e),n.invoke(a,c,g,D,T)}finally{e.shouldCoalesceRunChangeDetection&&t(),i_(e)}},onHasTask:(n,r,a,c)=>{n.hasTask(a,c),r===a&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,Cf(e),Df(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,r,a,c)=>(n.handleError(a,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_a.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(_a.isInAngularZone())throw new be(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,a){const c=this._inner,g=c.scheduleEventTask("NgZoneEvent: "+a,t,yI,Gd,Gd);try{return c.runTask(g,n,r)}finally{c.cancelTask(g)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const yI={};function Df(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Cf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function r_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function i_(e){e._nesting--,Df(e)}class II{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ll,this.onMicrotaskEmpty=new ll,this.onStable=new ll,this.onError=new ll}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,a){return t.apply(n,r)}}const s_=new Gn(""),o_=new Gn("");let wf,DI=(()=>{class e{constructor(n,r,a){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wf||(function CI(e){wf=e}(a),a.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_a.assertNotInAngularZone(),If(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())If(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,a){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==c),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:a})}whenStable(n,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(st(_a),st(a_),st(o_))},e.\u0275prov=at({token:e,factory:e.\u0275fac}),e})(),a_=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return wf?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Ol=!1;let ql=null;const l_=new Gn("AllowMultipleToken"),bf=new Gn("PlatformDestroyListeners"),u_=new Gn("appBootstrapListener");class TI{constructor(t,n){this.name=t,this.token=n}}function d_(e,t,n=[]){const r=`Platform: ${t}`,a=new Gn(r);return(c=[])=>{let g=Tf();if(!g||g.injector.get(l_,!1)){const D=[...n,...c,{provide:a,useValue:!0}];e?e(D):function SI(e){if(ql&&!ql.get(l_,!1))throw new be(400,!1);ql=e;const t=e.get(f_);(function c_(e){const t=e.get(e_,null);t&&t.forEach(n=>n())})(e)}(function h_(e=[],t){return bu.create({name:t,providers:[{provide:jc,useValue:"platform"},{provide:bf,useValue:new Set([()=>ql=null])},...e]})}(D,r))}return function RI(e){const t=Tf();if(!t)throw new be(401,!1);return t}()}}function Tf(){return ql?.get(f_)??null}let f_=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function g_(e,t){let n;return n="noop"===e?new II:("zone.js"===e?void 0:e)||new _a(t),n}(r?.ngZone,function p_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),c=[{provide:_a,useValue:a}];return a.run(()=>{const g=bu.create({providers:c,parent:this.injector,name:n.moduleType.name}),D=n.create(g),T=D.injector.get(Gs,null);if(!T)throw new be(402,!1);return a.runOutsideAngular(()=>{const O=a.onError.subscribe({next:V=>{T.handleError(V)}});D.onDestroy(()=>{qd(this._modules,D),O.unsubscribe()})}),function m_(e,t,n){try{const r=n();return Vh(r)?r.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(T,a,()=>{const O=D.injector.get(Kd);return O.runInitializers(),O.donePromise.then(()=>(function Fg(e){Je(e,"Expected localeId to be defined"),"string"==typeof e&&(Lg=e.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Zd,Ec)||Ec),this._moduleDoBootstrap(D),D))})})}bootstrapModule(n,r=[]){const a=__({},r);return function wI(e,t,n){const r=new nf(n);return Promise.resolve(r)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(n){const r=n.injector.get(Yd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new be(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(bf,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(st(bu))},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function __(e,t){return Array.isArray(t)?t.reduce(__,e):{...e,...t}}let Yd=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,a){this._zone=n,this._injector=r,this._exceptionHandler=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new F.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),g=new F.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{_a.assertNotInAngularZone(),If(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{_a.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),O.unsubscribe()}});this.isStable=(0,re.T)(c,g.pipe((0,ae.B)()))}bootstrap(n,r){const a=n instanceof Id;if(!this._injector.get(Kd).done){!a&&pi(n);throw new be(405,Ol)}let g;g=a?n:this._injector.get(s).resolveComponentFactory(n),this.componentTypes.push(g.componentType);const D=function bI(e){return e.isBoundToModule}(g)?void 0:this._injector.get(Ic),O=g.create(bu.NULL,[],r||g.selector,D),V=O.location.nativeElement,z=O.injector.get(s_,null);return z?.registerApplication(V),O.onDestroy(()=>{this.detachView(O.hostView),qd(this.components,O),z?.unregisterApplication(V)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;qd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(u_,[]);r.push(...this._bootstrapListeners),r.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new be(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(st(_a),st(rl),st(Gs))},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function qd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function PI(){return!1}let OI=(()=>{class e{}return e.__NG_ELEMENT_ID__=NI,e})();function NI(e){return function xI(e,t,n){if(ln(e)&&!n){const r=hr(e.index,t);return new Yc(r,r)}return 47&e.type?new Yc(t[dr],t):null}(Wn(),Ze(),16==(16&e))}class D_{constructor(){}supports(t){return Md(t)}create(t){return new VI(t)}}const BI=(e,t)=>t;class VI{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||BI}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,a=0,c=null;for(;n||r;){const g=!r||n&&n.currentIndex<w_(r,a,c)?n:r,D=w_(g,a,c),T=g.currentIndex;if(g===r)a--,r=r._nextRemoved;else if(n=n._next,null==g.previousIndex)a++;else{c||(c=[]);const O=D-a,V=T-a;if(O!=V){for(let ue=0;ue<O;ue++){const ve=ue<c.length?c[ue]:c[ue]=0,He=ve+ue;V<=He&&He<O&&(c[ue]=ve+1)}c[g.previousIndex]=V-O}}D!==T&&t(g,D,T)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Md(t))throw new be(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,g,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let D=0;D<this.length;D++)c=t[D],g=this._trackByFn(D,c),null!==n&&Object.is(n.trackById,g)?(r&&(n=this._verifyReinsertion(n,c,g,D)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,g,D),r=!0),n=n._next}else a=0,function nv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,D=>{g=this._trackByFn(a,D),null!==n&&Object.is(n.trackById,g)?(r&&(n=this._verifyReinsertion(n,D,g,a)),Object.is(n.item,D)||this._addIdentityChange(n,D)):(n=this._mismatch(n,D,g,a),r=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,a)):t=this._addAfter(new $I(n,r),c,a),t}_verifyReinsertion(t,n,r,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new C_),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new C_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class $I{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jI{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class C_{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new jI,this.map.set(n,r)),r.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function w_(e,t,n){const r=e.previousIndex;if(null===r)return r;let a=0;return n&&r<n.length&&(a=n[r]),r+t+a}class b_{constructor(){}supports(t){return t instanceof Map||kh(t)}create(){return new HI}}class HI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||kh(t)))throw new be(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(a,r);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const c=a._prev,g=a._next;return c&&(c._next=g),g&&(g._prev=c),a._next=null,a._prev=null,a}const r=new WI(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class WI{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function T_(){return new Pf([new D_])}let Pf=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||T_()),deps:[[e,new R,new f]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(null!=r)return r;throw new be(901,!1)}}return e.\u0275prov=at({token:e,providedIn:"root",factory:T_}),e})();function S_(){return new Of([new b_])}let Of=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||S_()),deps:[[e,new R,new f]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(r)return r;throw new be(901,!1)}}return e.\u0275prov=at({token:e,providedIn:"root",factory:S_}),e})();const KI=d_(null,"core",[]);let ZI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(st(Yd))},e.\u0275mod=Mi({type:e}),e.\u0275inj=Qt({}),e})();function YI(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},1481:(It,Ie,k)=>{k.d(Ie,{Dx:()=>Ft,b2:()=>Vt,q6:()=>Mn});var I=k(6895),j=k(4650);class F extends I.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends F{static makeCurrent(){(0,I.HT)(new re)}onAndCancel(ne,H,pe){return ne.addEventListener(H,pe,!1),()=>{ne.removeEventListener(H,pe,!1)}}dispatchEvent(ne,H){ne.dispatchEvent(H)}remove(ne){ne.parentNode&&ne.parentNode.removeChild(ne)}createElement(ne,H){return(H=H||this.getDefaultDocument()).createElement(ne)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ne){return ne.nodeType===Node.ELEMENT_NODE}isShadowRoot(ne){return ne instanceof DocumentFragment}getGlobalEventTarget(ne,H){return"window"===H?window:"document"===H?ne:"body"===H?ne.body:null}getBaseHref(ne){const H=function de(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==H?null:function he(ee){ge=ge||document.createElement("a"),ge.setAttribute("href",ee);const ne=ge.pathname;return"/"===ne.charAt(0)?ne:`/${ne}`}(H)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(ne){return(0,I.Mx)(document.cookie,ne)}}let ge,ae=null;const _e=new j.OlP("TRANSITION_ID"),Q=[{provide:j.ip1,useFactory:function q(ee,ne,H){return()=>{H.get(j.CZH).donePromise.then(()=>{const pe=(0,I.q)(),xe=ne.querySelectorAll(`style[ng-transition="${ee}"]`);for(let ze=0;ze<xe.length;ze++)pe.remove(xe[ze])})}},deps:[_e,I.K0,j.zs3],multi:!0}];let Ke=(()=>{class ee{build(){return new XMLHttpRequest}}return ee.\u0275fac=function(H){return new(H||ee)},ee.\u0275prov=j.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const Le=new j.OlP("EventManagerPlugins");let Ne=(()=>{class ee{constructor(H,pe){this._zone=pe,this._eventNameToPlugin=new Map,H.forEach(xe=>{xe.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,pe,xe){return this._findPluginFor(pe).addEventListener(H,pe,xe)}addGlobalEventListener(H,pe,xe){return this._findPluginFor(pe).addGlobalEventListener(H,pe,xe)}getZone(){return this._zone}_findPluginFor(H){const pe=this._eventNameToPlugin.get(H);if(pe)return pe;const xe=this._plugins;for(let ze=0;ze<xe.length;ze++){const xt=xe[ze];if(xt.supports(H))return this._eventNameToPlugin.set(H,xt),xt}throw new Error(`No event manager plugin found for event ${H}`)}}return ee.\u0275fac=function(H){return new(H||ee)(j.LFG(Le),j.LFG(j.R0b))},ee.\u0275prov=j.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class _t{constructor(ne){this._doc=ne}addGlobalEventListener(ne,H,pe){const xe=(0,I.q)().getGlobalEventTarget(this._doc,ne);if(!xe)throw new Error(`Unsupported event target ${xe} for event ${H}`);return this.addEventListener(xe,H,pe)}}let be=(()=>{class ee{constructor(){this.usageCount=new Map}addStyles(H){for(const pe of H)1===this.changeUsageCount(pe,1)&&this.onStyleAdded(pe)}removeStyles(H){for(const pe of H)0===this.changeUsageCount(pe,-1)&&this.onStyleRemoved(pe)}onStyleRemoved(H){}onStyleAdded(H){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(H,pe){const xe=this.usageCount;let ze=xe.get(H)??0;return ze+=pe,ze>0?xe.set(H,ze):xe.delete(H),ze}ngOnDestroy(){for(const H of this.getAllStyles())this.onStyleRemoved(H);this.usageCount.clear()}}return ee.\u0275fac=function(H){return new(H||ee)},ee.\u0275prov=j.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),Ve=(()=>{class ee extends be{constructor(H){super(),this.doc=H,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(H){for(const pe of this.hostNodes)this.addStyleToHost(pe,H)}onStyleRemoved(H){const pe=this.styleRef;pe.get(H)?.forEach(ze=>ze.remove()),pe.delete(H)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const pe of this.getAllStyles())this.addStyleToHost(H,pe)}removeHost(H){this.hostNodes.delete(H)}addStyleToHost(H,pe){const xe=this.doc.createElement("style");xe.textContent=pe,H.appendChild(xe);const ze=this.styleRef.get(pe);ze?ze.push(xe):this.styleRef.set(pe,[xe])}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}}return ee.\u0275fac=function(H){return new(H||ee)(j.LFG(I.K0))},ee.\u0275prov=j.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const Be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qe=/%COMP%/g,Y=new j.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function qe(ee,ne){return ne.flat(100).map(H=>H.replace(Qe,ee))}function wt(ee){return ne=>{if("__ngUnwrap__"===ne)return ee;!1===ee(ne)&&(ne.preventDefault(),ne.returnValue=!1)}}let ot=(()=>{class ee{constructor(H,pe,xe,ze){this.eventManager=H,this.sharedStylesHost=pe,this.appId=xe,this.removeStylesOnCompDestory=ze,this.rendererByCompId=new Map,this.defaultRenderer=new x(H)}createRenderer(H,pe){if(!H||!pe)return this.defaultRenderer;const xe=this.getOrCreateRenderer(H,pe);return xe instanceof Je?xe.applyToHost(H):xe instanceof ke&&xe.applyStyles(),xe}getOrCreateRenderer(H,pe){const xe=this.rendererByCompId;let ze=xe.get(pe.id);if(!ze){const xt=this.eventManager,pn=this.sharedStylesHost,Ln=this.removeStylesOnCompDestory;switch(pe.encapsulation){case j.ifc.Emulated:ze=new Je(xt,pn,pe,this.appId,Ln);break;case j.ifc.ShadowDom:return new Ue(xt,pn,H,pe);default:ze=new ke(xt,pn,pe,Ln)}ze.onDestroy=()=>xe.delete(pe.id),xe.set(pe.id,ze)}return ze}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ee.\u0275fac=function(H){return new(H||ee)(j.LFG(Ne),j.LFG(Ve),j.LFG(j.AFp),j.LFG(Y))},ee.\u0275prov=j.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class x{constructor(ne){this.eventManager=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ne,H){return H?document.createElementNS(Be[H]||H,ne):document.createElement(ne)}createComment(ne){return document.createComment(ne)}createText(ne){return document.createTextNode(ne)}appendChild(ne,H){(Ce(ne)?ne.content:ne).appendChild(H)}insertBefore(ne,H,pe){ne&&(Ce(ne)?ne.content:ne).insertBefore(H,pe)}removeChild(ne,H){ne&&ne.removeChild(H)}selectRootElement(ne,H){let pe="string"==typeof ne?document.querySelector(ne):ne;if(!pe)throw new Error(`The selector "${ne}" did not match any elements`);return H||(pe.textContent=""),pe}parentNode(ne){return ne.parentNode}nextSibling(ne){return ne.nextSibling}setAttribute(ne,H,pe,xe){if(xe){H=xe+":"+H;const ze=Be[xe];ze?ne.setAttributeNS(ze,H,pe):ne.setAttribute(H,pe)}else ne.setAttribute(H,pe)}removeAttribute(ne,H,pe){if(pe){const xe=Be[pe];xe?ne.removeAttributeNS(xe,H):ne.removeAttribute(`${pe}:${H}`)}else ne.removeAttribute(H)}addClass(ne,H){ne.classList.add(H)}removeClass(ne,H){ne.classList.remove(H)}setStyle(ne,H,pe,xe){xe&(j.JOm.DashCase|j.JOm.Important)?ne.style.setProperty(H,pe,xe&j.JOm.Important?"important":""):ne.style[H]=pe}removeStyle(ne,H,pe){pe&j.JOm.DashCase?ne.style.removeProperty(H):ne.style[H]=""}setProperty(ne,H,pe){ne[H]=pe}setValue(ne,H){ne.nodeValue=H}listen(ne,H,pe){return"string"==typeof ne?this.eventManager.addGlobalEventListener(ne,H,wt(pe)):this.eventManager.addEventListener(ne,H,wt(pe))}}function Ce(ee){return"TEMPLATE"===ee.tagName&&void 0!==ee.content}class Ue extends x{constructor(ne,H,pe,xe){super(ne),this.sharedStylesHost=H,this.hostEl=pe,this.shadowRoot=pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ze=qe(xe.id,xe.styles);for(const xt of ze){const pn=document.createElement("style");pn.textContent=xt,this.shadowRoot.appendChild(pn)}}nodeOrShadowRoot(ne){return ne===this.hostEl?this.shadowRoot:ne}appendChild(ne,H){return super.appendChild(this.nodeOrShadowRoot(ne),H)}insertBefore(ne,H,pe){return super.insertBefore(this.nodeOrShadowRoot(ne),H,pe)}removeChild(ne,H){return super.removeChild(this.nodeOrShadowRoot(ne),H)}parentNode(ne){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ne)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ke extends x{constructor(ne,H,pe,xe,ze=pe.id){super(ne),this.sharedStylesHost=H,this.removeStylesOnCompDestory=xe,this.rendererUsageCount=0,this.styles=qe(ze,pe.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Je extends ke{constructor(ne,H,pe,xe,ze){const xt=xe+"-"+pe.id;super(ne,H,pe,ze,xt),this.contentAttr=function Ae(ee){return"_ngcontent-%COMP%".replace(Qe,ee)}(xt),this.hostAttr=function nt(ee){return"_nghost-%COMP%".replace(Qe,ee)}(xt)}applyToHost(ne){this.applyStyles(),this.setAttribute(ne,this.hostAttr,"")}createElement(ne,H){const pe=super.createElement(ne,H);return super.setAttribute(pe,this.contentAttr,""),pe}}let Xe=(()=>{class ee extends _t{constructor(H){super(H)}supports(H){return!0}addEventListener(H,pe,xe){return H.addEventListener(pe,xe,!1),()=>this.removeEventListener(H,pe,xe)}removeEventListener(H,pe,xe){return H.removeEventListener(pe,xe)}}return ee.\u0275fac=function(H){return new(H||ee)(j.LFG(I.K0))},ee.\u0275prov=j.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const Lt=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dt={alt:ee=>ee.altKey,control:ee=>ee.ctrlKey,meta:ee=>ee.metaKey,shift:ee=>ee.shiftKey};let at=(()=>{class ee extends _t{constructor(H){super(H)}supports(H){return null!=ee.parseEventName(H)}addEventListener(H,pe,xe){const ze=ee.parseEventName(pe),xt=ee.eventCallback(ze.fullKey,xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.q)().onAndCancel(H,ze.domEventName,xt))}static parseEventName(H){const pe=H.toLowerCase().split("."),xe=pe.shift();if(0===pe.length||"keydown"!==xe&&"keyup"!==xe)return null;const ze=ee._normalizeKey(pe.pop());let xt="",pn=pe.indexOf("code");if(pn>-1&&(pe.splice(pn,1),xt="code."),Lt.forEach(as=>{const ni=pe.indexOf(as);ni>-1&&(pe.splice(ni,1),xt+=as+".")}),xt+=ze,0!=pe.length||0===ze.length)return null;const Ln={};return Ln.domEventName=xe,Ln.fullKey=xt,Ln}static matchEventFullKeyCode(H,pe){let xe=it[H.key]||H.key,ze="";return pe.indexOf("code.")>-1&&(xe=H.code,ze="code."),!(null==xe||!xe)&&(xe=xe.toLowerCase()," "===xe?xe="space":"."===xe&&(xe="dot"),Lt.forEach(xt=>{xt!==xe&&(0,Dt[xt])(H)&&(ze+=xt+".")}),ze+=xe,ze===pe)}static eventCallback(H,pe,xe){return ze=>{ee.matchEventFullKeyCode(ze,H)&&xe.runGuarded(()=>pe(ze))}}static _normalizeKey(H){return"esc"===H?"escape":H}}return ee.\u0275fac=function(H){return new(H||ee)(j.LFG(I.K0))},ee.\u0275prov=j.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const Mn=(0,j.eFA)(j._c5,"browser",[{provide:j.Lbi,useValue:I.bD},{provide:j.g9A,useValue:function Zn(){re.makeCurrent()},multi:!0},{provide:I.K0,useFactory:function Fn(){return(0,j.RDi)(document),document},deps:[]}]),bt=new j.OlP(""),_n=[{provide:j.rWj,useClass:class se{addToWindow(ne){j.dqk.getAngularTestability=(pe,xe=!0)=>{const ze=ne.findTestabilityInTree(pe,xe);if(null==ze)throw new Error("Could not find testability for element.");return ze},j.dqk.getAllAngularTestabilities=()=>ne.getAllTestabilities(),j.dqk.getAllAngularRootElements=()=>ne.getAllRootElements(),j.dqk.frameworkStabilizers||(j.dqk.frameworkStabilizers=[]),j.dqk.frameworkStabilizers.push(pe=>{const xe=j.dqk.getAllAngularTestabilities();let ze=xe.length,xt=!1;const pn=function(Ln){xt=xt||Ln,ze--,0==ze&&pe(xt)};xe.forEach(function(Ln){Ln.whenStable(pn)})})}findTestabilityInTree(ne,H,pe){return null==H?null:ne.getTestability(H)??(pe?(0,I.q)().isShadowRoot(H)?this.findTestabilityInTree(ne,H.host,!0):this.findTestabilityInTree(ne,H.parentElement,!0):null)}},deps:[]},{provide:j.lri,useClass:j.dDg,deps:[j.R0b,j.eoX,j.rWj]},{provide:j.dDg,useClass:j.dDg,deps:[j.R0b,j.eoX,j.rWj]}],mt=[{provide:j.zSh,useValue:"root"},{provide:j.qLn,useFactory:function fn(){return new j.qLn},deps:[]},{provide:Le,useClass:Xe,multi:!0,deps:[I.K0,j.R0b,j.Lbi]},{provide:Le,useClass:at,multi:!0,deps:[I.K0]},{provide:ot,useClass:ot,deps:[Ne,Ve,j.AFp,Y]},{provide:j.FYo,useExisting:ot},{provide:be,useExisting:Ve},{provide:Ve,useClass:Ve,deps:[I.K0]},{provide:Ne,useClass:Ne,deps:[Le,j.R0b]},{provide:I.JF,useClass:Ke,deps:[]},[]];let Vt=(()=>{class ee{constructor(H){}static withServerTransition(H){return{ngModule:ee,providers:[{provide:j.AFp,useValue:H.appId},{provide:_e,useExisting:j.AFp},Q]}}}return ee.\u0275fac=function(H){return new(H||ee)(j.LFG(bt,12))},ee.\u0275mod=j.oAB({type:ee}),ee.\u0275inj=j.cJS({providers:[...mt,..._n],imports:[I.ez,j.hGG]}),ee})(),Ft=(()=>{class ee{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}}return ee.\u0275fac=function(H){return new(H||ee)(j.LFG(I.K0))},ee.\u0275prov=j.Yz7({token:ee,factory:function(H){let pe=null;return pe=H?new H:function $r(){return new Ft((0,j.LFG)(I.K0))}(),pe},providedIn:"root"}),ee})();typeof window<"u"&&window},9392:(It,Ie,k)=>{k.d(Ie,{gz:()=>mr,F0:()=>Gr,rH:()=>ts,Bz:()=>Wo,lC:()=>hs});var I=k(4650),j=k(8996),F=k(9646),re=k(7579);class ae extends re.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const f=super._subscribe(v);return!f.closed&&v.next(this._value),f}getValue(){const{hasError:v,thrownError:f,_value:C}=this;if(v)throw f;return this._throwIfClosed(),C}next(v){super.next(this._value=v)}}var de=k(6805),ge=k(9751);const{isArray:he}=Array,{getPrototypeOf:_e,prototype:q,keys:Q}=Object;var Le=k(4671),Ne=k(4004);const{isArray:_t}=Array;var Be=k(7669),Pe=k(5403),Oe=k(9672);function We(...m){const v=(0,Be.yG)(m),f=(0,Be.jO)(m),{args:C,keys:R}=function se(m){if(1===m.length){const v=m[0];if(he(v))return{args:v,keys:null};if(function Ke(m){return m&&"object"==typeof m&&_e(m)===q}(v)){const f=Q(v);return{args:f.map(C=>v[C]),keys:f}}}return{args:m,keys:null}}(m);if(0===C.length)return(0,j.D)([],v);const h=new ge.y(function et(m,v,f=Le.y){return C=>{Ye(v,()=>{const{length:R}=m,h=new Array(R);let y=R,A=R;for(let L=0;L<R;L++)Ye(v,()=>{const G=(0,j.D)(m[L],v);let te=!1;G.subscribe((0,Pe.x)(C,we=>{h[L]=we,te||(te=!0,A--),A||C.next(f(h.slice()))},()=>{--y||C.complete()}))},C)},C)}}(C,v,R?y=>function Qe(m,v){return m.reduce((f,C,R)=>(f[C]=v[R],f),{})}(R,y):Le.y));return f?h.pipe(function Ve(m){return(0,Ne.U)(v=>function be(m,v){return _t(v)?m(...v):m(v)}(m,v))}(f)):h}function Ye(m,v,f){m?(0,Oe.f)(f,m,v):v()}var Y=k(7272),Ae=k(8421);function nt(m){return new ge.y(v=>{(0,Ae.Xf)(m()).subscribe(v)})}var qe=k(9635),wt=k(576);function ot(m,v){const f=(0,wt.m)(m)?m:()=>m,C=R=>R.error(f());return new ge.y(v?R=>v.schedule(C,0,R):C)}var x=k(515),De=k(727),Ee=k(4482);function Ce(){return(0,Ee.e)((m,v)=>{let f=null;m._refCount++;const C=(0,Pe.x)(v,void 0,void 0,void 0,()=>{if(!m||m._refCount<=0||0<--m._refCount)return void(f=null);const R=m._connection,h=f;f=null,R&&(!h||R===h)&&R.unsubscribe(),v.unsubscribe()});m.subscribe(C),C.closed||(f=m.connect())})}class Ue extends ge.y{constructor(v,f){super(),this.source=v,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,Ee.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new De.w0;const f=this.getSubject();v.add(this.source.subscribe((0,Pe.x)(f,void 0,()=>{this._teardown(),f.complete()},C=>{this._teardown(),f.error(C)},()=>this._teardown()))),v.closed&&(this._connection=null,v=De.w0.EMPTY)}return v}refCount(){return Ce()(this)}}var ke=k(6895),Je=k(3900),Xe=k(5698),Lt=k(8675),it=k(9300),Dt=k(5577),at=k(590);function St(m,v){return(0,wt.m)(v)?(0,Dt.z)(m,v,1):(0,Dt.z)(m,1)}var Qt=k(8505);function Jt(m){return(0,Ee.e)((v,f)=>{let h,C=null,R=!1;C=v.subscribe((0,Pe.x)(f,void 0,void 0,y=>{h=(0,Ae.Xf)(m(y,Jt(m)(v))),C?(C.unsubscribe(),C=null,h.subscribe(f)):R=!0})),R&&(C.unsubscribe(),C=null,h.subscribe(f))})}var cn=k(5026);function bn(m){return m<=0?()=>x.E:(0,Ee.e)((v,f)=>{let C=[];v.subscribe((0,Pe.x)(f,R=>{C.push(R),m<C.length&&C.shift()},()=>{for(const R of C)f.next(R);f.complete()},void 0,()=>{C=null}))})}var Zn=k(8068),fn=k(6590);function Fn(m,v){const f=arguments.length>=2;return C=>C.pipe(m?(0,it.h)((R,h)=>m(R,h,C)):Le.y,bn(1),f?(0,fn.d)(v):(0,Zn.T)(()=>new de.K))}function bt(m){return(0,Ee.e)((v,f)=>{try{v.subscribe(f)}finally{f.add(m)}})}var _n=k(8189),mt=k(1481);const Vt="primary",Vn=Symbol("RouteTitle");class yn{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const f=this.params[v];return Array.isArray(f)?f[0]:f}return null}getAll(v){if(this.has(v)){const f=this.params[v];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function Pn(m){return new yn(m)}function $r(m,v,f){const C=f.path.split("/");if(C.length>m.length||"full"===f.pathMatch&&(v.hasChildren()||C.length<m.length))return null;const R={};for(let h=0;h<C.length;h++){const y=C[h],A=m[h];if(y.startsWith(":"))R[y.substring(1)]=A;else if(y!==A.path)return null}return{consumed:m.slice(0,C.length),posParams:R}}function vt(m,v){const f=m?Object.keys(m):void 0,C=v?Object.keys(v):void 0;if(!f||!C||f.length!=C.length)return!1;let R;for(let h=0;h<f.length;h++)if(R=f[h],!Rt(m[R],v[R]))return!1;return!0}function Rt(m,v){if(Array.isArray(m)&&Array.isArray(v)){if(m.length!==v.length)return!1;const f=[...m].sort(),C=[...v].sort();return f.every((R,h)=>C[h]===R)}return m===v}function An(m){return Array.prototype.concat.apply([],m)}function vn(m){return m.length>0?m[m.length-1]:null}function dn(m,v){for(const f in m)m.hasOwnProperty(f)&&v(m[f],f)}function kn(m){return(0,I.CqO)(m)?m:(0,I.QGY)(m)?(0,j.D)(Promise.resolve(m)):(0,F.of)(m)}const qr=!1,En={exact:function Or(m,v,f){if(!K(m.segments,v.segments)||!Pt(m.segments,v.segments,f)||m.numberOfChildren!==v.numberOfChildren)return!1;for(const C in v.children)if(!m.children[C]||!Or(m.children[C],v.children[C],f))return!1;return!0},subset:je},Ir={exact:function Yn(m,v){return vt(m,v)},subset:function st(m,v){return Object.keys(v).length<=Object.keys(m).length&&Object.keys(v).every(f=>Rt(m[f],v[f]))},ignored:()=>!0};function an(m,v,f){return En[f.paths](m.root,v.root,f.matrixParams)&&Ir[f.queryParams](m.queryParams,v.queryParams)&&!("exact"===f.fragment&&m.fragment!==v.fragment)}function je(m,v,f){return pt(m,v,v.segments,f)}function pt(m,v,f,C){if(m.segments.length>f.length){const R=m.segments.slice(0,f.length);return!(!K(R,f)||v.hasChildren()||!Pt(R,f,C))}if(m.segments.length===f.length){if(!K(m.segments,f)||!Pt(m.segments,f,C))return!1;for(const R in v.children)if(!m.children[R]||!je(m.children[R],v.children[R],C))return!1;return!0}{const R=f.slice(0,m.segments.length),h=f.slice(m.segments.length);return!!(K(m.segments,R)&&Pt(m.segments,R,C)&&m.children[Vt])&&pt(m.children[Vt],v,h,C)}}function Pt(m,v,f){return v.every((C,R)=>Ir[f](m[R].parameters,C.parameters))}class Nt{constructor(v=new ct([],{}),f={},C=null){this.root=v,this.queryParams=f,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return ft.serialize(this)}}class ct{constructor(v,f){this.segments=v,this.children=f,this.parent=null,dn(f,(C,R)=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ee(this)}}class qn{constructor(v,f){this.path=v,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=Pn(this.parameters)),this._parameterMap}toString(){return Ln(this)}}function K(m,v){return m.length===v.length&&m.every((f,C)=>f.path===v[C].path)}let Se=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=I.Yz7({token:m,factory:function(){return new me},providedIn:"root"}),m})();class me{parse(v){const f=new gn(v);return new Nt(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(v){const f=`/${ne(v.root,!0)}`,C=function ni(m){const v=Object.keys(m).map(f=>{const C=m[f];return Array.isArray(C)?C.map(R=>`${pe(f)}=${pe(R)}`).join("&"):`${pe(f)}=${pe(C)}`}).filter(f=>!!f);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${f}${C}${"string"==typeof v.fragment?`#${function xe(m){return encodeURI(m)}(v.fragment)}`:""}`}}const ft=new me;function ee(m){return m.segments.map(v=>Ln(v)).join("/")}function ne(m,v){if(!m.hasChildren())return ee(m);if(v){const f=m.children[Vt]?ne(m.children[Vt],!1):"",C=[];return dn(m.children,(R,h)=>{h!==Vt&&C.push(`${h}:${ne(R,!1)}`)}),C.length>0?`${f}(${C.join("//")})`:f}{const f=function oe(m,v){let f=[];return dn(m.children,(C,R)=>{R===Vt&&(f=f.concat(v(C,R)))}),dn(m.children,(C,R)=>{R!==Vt&&(f=f.concat(v(C,R)))}),f}(m,(C,R)=>R===Vt?[ne(m.children[Vt],!1)]:[`${R}:${ne(C,!1)}`]);return 1===Object.keys(m.children).length&&null!=m.children[Vt]?`${ee(m)}/${f[0]}`:`${ee(m)}/(${f.join("//")})`}}function H(m){return encodeURIComponent(m).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pe(m){return H(m).replace(/%3B/gi,";")}function ze(m){return H(m).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xt(m){return decodeURIComponent(m)}function pn(m){return xt(m.replace(/\+/g,"%20"))}function Ln(m){return`${ze(m.path)}${function as(m){return Object.keys(m).map(v=>`;${ze(v)}=${ze(m[v])}`).join("")}(m.parameters)}`}const zi=/^[^\/()?;=#]+/;function Mi(m){const v=m.match(zi);return v?v[0]:""}const No=/^[^=?&#]+/,ls=/^[^&#]+/;class gn{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ct([],{}):new ct([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(v.length>0||Object.keys(f).length>0)&&(C[Vt]=new ct(v,f)),C}parseSegment(){const v=Mi(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new I.vHH(4009,qr);return this.capture(v),new qn(xt(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const f=Mi(this.remaining);if(!f)return;this.capture(f);let C="";if(this.consumeOptional("=")){const R=Mi(this.remaining);R&&(C=R,this.capture(C))}v[xt(f)]=xt(C)}parseQueryParam(v){const f=function Qn(m){const v=m.match(No);return v?v[0]:""}(this.remaining);if(!f)return;this.capture(f);let C="";if(this.consumeOptional("=")){const y=function us(m){const v=m.match(ls);return v?v[0]:""}(this.remaining);y&&(C=y,this.capture(C))}const R=pn(f),h=pn(C);if(v.hasOwnProperty(R)){let y=v[R];Array.isArray(y)||(y=[y],v[R]=y),y.push(h)}else v[R]=h}parseParens(v){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=Mi(this.remaining),R=this.remaining[C.length];if("/"!==R&&")"!==R&&";"!==R)throw new I.vHH(4010,qr);let h;C.indexOf(":")>-1?(h=C.slice(0,C.indexOf(":")),this.capture(h),this.capture(":")):v&&(h=Vt);const y=this.parseChildren();f[h]=1===Object.keys(y).length?y[Vt]:new ct([],y),this.consumeOptional("//")}return f}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new I.vHH(4011,qr)}}function Jn(m){return m.segments.length>0?new ct([],{[Vt]:m}):m}function sr(m){const v={};for(const C of Object.keys(m.children)){const h=sr(m.children[C]);(h.segments.length>0||h.hasChildren())&&(v[C]=h)}return function pi(m){if(1===m.numberOfChildren&&m.children[Vt]){const v=m.children[Vt];return new ct(m.segments.concat(v.segments),v.children)}return m}(new ct(m.segments,v))}function jn(m){return m instanceof Nt}const Hn=!1;function Tr(m,v,f,C,R){if(0===f.length)return fr(v.root,v.root,v.root,C,R);const h=function jr(m){if("string"==typeof m[0]&&1===m.length&&"/"===m[0])return new ri(!0,0,m);let v=0,f=!1;const C=m.reduce((R,h,y)=>{if("object"==typeof h&&null!=h){if(h.outlets){const A={};return dn(h.outlets,(L,G)=>{A[G]="string"==typeof L?L.split("/"):L}),[...R,{outlets:A}]}if(h.segmentPath)return[...R,h.segmentPath]}return"string"!=typeof h?[...R,h]:0===y?(h.split("/").forEach((A,L)=>{0==L&&"."===A||(0==L&&""===A?f=!0:".."===A?v++:""!=A&&R.push(A))}),R):[...R,h]},[]);return new ri(f,v,C)}(f);return h.toRoot()?fr(v.root,v.root,new ct([],{}),C,R):function y(L){const G=function cs(m,v,f,C){if(m.isAbsolute)return new $t(v.root,!0,0);if(-1===C)return new $t(f,f===v.root,0);return function Zs(m,v,f){let C=m,R=v,h=f;for(;h>R;){if(h-=R,C=C.parent,!C)throw new I.vHH(4005,Hn&&"Invalid number of '../'");R=C.segments.length}return new $t(C,!1,R-h)}(f,C+(Sr(m.commands[0])?0:1),m.numberOfDoubleDots)}(h,v,m.snapshot?._urlSegment,L),te=G.processChildren?gr(G.segmentGroup,G.index,h.commands):dr(G.segmentGroup,G.index,h.commands);return fr(v.root,G.segmentGroup,te,C,R)}(m.snapshot?._lastPathIndex)}function Sr(m){return"object"==typeof m&&null!=m&&!m.outlets&&!m.segmentPath}function wn(m){return"object"==typeof m&&null!=m&&m.outlets}function fr(m,v,f,C,R){let y,h={};C&&dn(C,(L,G)=>{h[G]=Array.isArray(L)?L.map(te=>`${te}`):`${L}`}),y=m===v?f:xn(m,v,f);const A=Jn(sr(y));return new Nt(A,h,R)}function xn(m,v,f){const C={};return dn(m.children,(R,h)=>{C[h]=R===v?f:xn(R,v,f)}),new ct(m.segments,C)}class ri{constructor(v,f,C){if(this.isAbsolute=v,this.numberOfDoubleDots=f,this.commands=C,v&&C.length>0&&Sr(C[0]))throw new I.vHH(4003,Hn&&"Root segment cannot have matrix parameters");const R=C.find(wn);if(R&&R!==vn(C))throw new I.vHH(4004,Hn&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $t{constructor(v,f,C){this.segmentGroup=v,this.processChildren=f,this.index=C}}function dr(m,v,f){if(m||(m=new ct([],{})),0===m.segments.length&&m.hasChildren())return gr(m,v,f);const C=function Gi(m,v,f){let C=0,R=v;const h={match:!1,pathIndex:0,commandIndex:0};for(;R<m.segments.length;){if(C>=f.length)return h;const y=m.segments[R],A=f[C];if(wn(A))break;const L=`${A}`,G=C<f.length-1?f[C+1]:null;if(R>0&&void 0===L)break;if(L&&G&&"object"==typeof G&&void 0===G.outlets){if(!Tn(L,G,y))return h;C+=2}else{if(!Tn(L,{},y))return h;C++}R++}return{match:!0,pathIndex:R,commandIndex:C}}(m,v,f),R=f.slice(C.commandIndex);if(C.match&&C.pathIndex<m.segments.length){const h=new ct(m.segments.slice(0,C.pathIndex),{});return h.children[Vt]=new ct(m.segments.slice(C.pathIndex),m.children),gr(h,0,R)}return C.match&&0===R.length?new ct(m.segments,{}):C.match&&!m.hasChildren()?Nr(m,v,f):C.match?gr(m,0,R):Nr(m,v,f)}function gr(m,v,f){if(0===f.length)return new ct(m.segments,{});{const C=function ii(m){return wn(m[0])?m[0].outlets:{[Vt]:m}}(f),R={};return!C[Vt]&&m.children[Vt]&&1===m.numberOfChildren&&0===m.children[Vt].segments.length?gr(m.children[Vt],v,f):(dn(C,(h,y)=>{"string"==typeof h&&(h=[h]),null!==h&&(R[y]=dr(m.children[y],v,h))}),dn(m.children,(h,y)=>{void 0===C[y]&&(R[y]=h)}),new ct(m.segments,R))}}function Nr(m,v,f){const C=m.segments.slice(0,v);let R=0;for(;R<f.length;){const h=f[R];if(wn(h)){const L=Ki(h.outlets);return new ct(C,L)}if(0===R&&Sr(f[0])){C.push(new qn(m.segments[v].path,Ys(f[0]))),R++;continue}const y=wn(h)?h.outlets[Vt]:`${h}`,A=R<f.length-1?f[R+1]:null;y&&A&&Sr(A)?(C.push(new qn(y,Ys(A))),R+=2):(C.push(new qn(y,{})),R++)}return new ct(C,{})}function Ki(m){const v={};return dn(m,(f,C)=>{"string"==typeof f&&(f=[f]),null!==f&&(v[C]=Nr(new ct([],{}),0,f))}),v}function Ys(m){const v={};return dn(m,(f,C)=>v[C]=`${f}`),v}function Tn(m,v,f){return m==f.path&&vt(v,f.parameters)}const Hr="imperative";class le{constructor(v,f){this.id=v,this.url=f}}class ie extends le{constructor(v,f,C="imperative",R=null){super(v,f),this.type=0,this.navigationTrigger=C,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fe extends le{constructor(v,f,C){super(v,f),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fe extends le{constructor(v,f,C,R){super(v,f),this.reason=C,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tt extends le{constructor(v,f,C,R){super(v,f),this.reason=C,this.code=R,this.type=16}}class yt extends le{constructor(v,f,C,R){super(v,f),this.error=C,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kt extends le{constructor(v,f,C,R){super(v,f),this.urlAfterRedirects=C,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class In extends le{constructor(v,f,C,R){super(v,f),this.urlAfterRedirects=C,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn extends le{constructor(v,f,C,R,h){super(v,f),this.urlAfterRedirects=C,this.state=R,this.shouldActivate=h,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hn extends le{constructor(v,f,C,R){super(v,f),this.urlAfterRedirects=C,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends le{constructor(v,f,C,R){super(v,f),this.urlAfterRedirects=C,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xn{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Un{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class po{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ns{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class go{constructor(v,f,C){this.routerEvent=v,this.position=f,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let pr=(()=>{class m{createUrlTree(f,C,R,h,y,A){return Tr(f||C.root,R,h,y,A)}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac}),m})(),ko=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=I.Yz7({token:m,factory:function(v){return pr.\u0275fac(v)},providedIn:"root"}),m})();class Wr{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const f=this.pathFromRoot(v);return f.length>1?f[f.length-2]:null}children(v){const f=Qo(v,this._root);return f?f.children.map(C=>C.value):[]}firstChild(v){const f=Qo(v,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(v){const f=Zi(v,this._root);return f.length<2?[]:f[f.length-2].children.map(R=>R.value).filter(R=>R!==v)}pathFromRoot(v){return Zi(v,this._root).map(f=>f.value)}}function Qo(m,v){if(m===v.value)return v;for(const f of v.children){const C=Qo(m,f);if(C)return C}return null}function Zi(m,v){if(m===v.value)return[v];for(const f of v.children){const C=Zi(m,f);if(C.length)return C.unshift(v),C}return[]}class Ar{constructor(v,f){this.value=v,this.children=f}toString(){return`TreeNode(${this.value})`}}function Dr(m){const v={};return m&&m.children.forEach(f=>v[f.value.outlet]=f),v}class ds extends Wr{constructor(v,f){super(v),this.snapshot=f,xs(this,v)}toString(){return this.snapshot.toString()}}function Yi(m,v){const f=function Oi(m,v){const y=new si([],{},{},"",{},Vt,v,null,m.root,-1,{});return new Qs("",new Ar(y,[]))}(m,v),C=new ae([new qn("",{})]),R=new ae({}),h=new ae({}),y=new ae({}),A=new ae(""),L=new mr(C,R,y,A,h,Vt,v,f.root);return L.snapshot=f.root,new ds(new Ar(L,[]),f)}class mr{constructor(v,f,C,R,h,y,A,L){this.url=v,this.params=f,this.queryParams=C,this.fragment=R,this.data=h,this.outlet=y,this.component=A,this.title=this.data?.pipe((0,Ne.U)(G=>G[Vn]))??(0,F.of)(void 0),this._futureSnapshot=L}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ne.U)(v=>Pn(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ne.U)(v=>Pn(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lo(m,v="emptyOnly"){const f=m.pathFromRoot;let C=0;if("always"!==v)for(C=f.length-1;C>=1;){const R=f[C],h=f[C-1];if(R.routeConfig&&""===R.routeConfig.path)C--;else{if(h.component)break;C--}}return function Jo(m){return m.reduce((v,f)=>({params:{...v.params,...f.params},data:{...v.data,...f.data},resolve:{...f.data,...v.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(C))}class si{get title(){return this.data?.[Vn]}constructor(v,f,C,R,h,y,A,L,G,te,we){this.url=v,this.params=f,this.queryParams=C,this.fragment=R,this.data=h,this.outlet=y,this.component=A,this.routeConfig=L,this._urlSegment=G,this._lastPathIndex=te,this._resolve=we}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qs extends Wr{constructor(v,f){super(f),this.url=v,xs(this,f)}toString(){return Rr(this._root)}}function xs(m,v){v.value._routerState=m,v.children.forEach(f=>xs(m,f))}function Rr(m){const v=m.children.length>0?` { ${m.children.map(Rr).join(", ")} } `:"";return`${m.value}${v}`}function sn(m){if(m.snapshot){const v=m.snapshot,f=m._futureSnapshot;m.snapshot=f,vt(v.queryParams,f.queryParams)||m.queryParams.next(f.queryParams),v.fragment!==f.fragment&&m.fragment.next(f.fragment),vt(v.params,f.params)||m.params.next(f.params),function Ft(m,v){if(m.length!==v.length)return!1;for(let f=0;f<m.length;++f)if(!vt(m[f],v[f]))return!1;return!0}(v.url,f.url)||m.url.next(f.url),vt(v.data,f.data)||m.data.next(f.data)}else m.snapshot=m._futureSnapshot,m.data.next(m._futureSnapshot.data)}function gi(m,v){const f=vt(m.params,v.params)&&function X(m,v){return K(m,v)&&m.every((f,C)=>vt(f.parameters,v[C].parameters))}(m.url,v.url);return f&&!(!m.parent!=!v.parent)&&(!m.parent||gi(m.parent,v.parent))}function Qr(m,v,f){if(f&&m.shouldReuseRoute(v.value,f.value.snapshot)){const C=f.value;C._futureSnapshot=v.value;const R=function Mr(m,v,f){return v.children.map(C=>{for(const R of f.children)if(m.shouldReuseRoute(C.value,R.value.snapshot))return Qr(m,C,R);return Qr(m,C)})}(m,v,f);return new Ar(C,R)}{if(m.shouldAttach(v.value)){const h=m.retrieve(v.value);if(null!==h){const y=h.route;return y.value._futureSnapshot=v.value,y.children=v.children.map(A=>Qr(m,A)),y}}const C=function Ni(m){return new mr(new ae(m.url),new ae(m.params),new ae(m.queryParams),new ae(m.fragment),new ae(m.data),m.outlet,m.component,m)}(v.value),R=v.children.map(h=>Qr(m,h));return new Ar(C,R)}}const xr="ngNavigationCancelingError";function Cr(m,v){const{redirectTo:f,navigationBehaviorOptions:C}=jn(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,R=lr(!1,0,v);return R.url=f,R.navigationBehaviorOptions=C,R}function lr(m,v,f){const C=new Error("NavigationCancelingError: "+(m||""));return C[xr]=!0,C.cancellationCode=v,f&&(C.url=f),C}function mo(m){return un(m)&&jn(m.url)}function un(m){return m&&m[xr]}class Js{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new oi,this.attachRef=null}}let oi=(()=>{class m{constructor(){this.contexts=new Map}onChildOutletCreated(f,C){const R=this.getOrCreateContext(f);R.outlet=C,this.contexts.set(f,R)}onChildOutletDestroyed(f){const C=this.getContext(f);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let C=this.getContext(f);return C||(C=new Js,this.contexts.set(f,C)),C}getContext(f){return this.contexts.get(f)||null}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const or=!1;let hs=(()=>{class m{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new I.vpe,this.deactivateEvents=new I.vpe,this.attachEvents=new I.vpe,this.detachEvents=new I.vpe,this.parentContexts=(0,I.f3M)(oi),this.location=(0,I.f3M)(I.s_b),this.changeDetector=(0,I.f3M)(I.sBO),this.environmentInjector=(0,I.f3M)(I.lqb)}ngOnChanges(f){if(f.name){const{firstChange:C,previousValue:R}=f.name;if(C)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(f){return this.parentContexts.getContext(f)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const f=this.parentContexts.getContext(this.name);f?.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I.vHH(4012,or);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I.vHH(4012,or);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I.vHH(4012,or);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,C){this.activated=f,this._activatedRoute=C,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,C){if(this.isActivated)throw new I.vHH(4013,or);this._activatedRoute=f;const R=this.location,y=f.snapshot.component,A=this.parentContexts.getOrCreateContext(this.name).children,L=new xi(f,A,R.injector);if(C&&function zr(m){return!!m.resolveComponentFactory}(C)){const G=C.resolveComponentFactory(y);this.activated=R.createComponent(G,R.length,L)}else this.activated=R.createComponent(y,{index:R.length,injector:L,environmentInjector:C??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275dir=I.lG2({type:m,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[I.TTD]}),m})();class xi{constructor(v,f,C){this.route=v,this.childContexts=f,this.parent=C}get(v,f){return v===mr?this.route:v===oi?this.childContexts:this.parent.get(v,f)}}let hr=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275cmp=I.Xpm({type:m,selectors:[["ng-component"]],standalone:!0,features:[I.jDz],decls:1,vars:0,template:function(f,C){1&f&&I._UZ(0,"router-outlet")},dependencies:[hs],encapsulation:2}),m})();function _o(m,v){return m.providers&&!m._injector&&(m._injector=(0,I.MMx)(m.providers,v,`Route: ${m.path}`)),m._injector??v}function mi(m){const v=m.children&&m.children.map(mi),f=v?{...m,children:v}:{...m};return!f.component&&!f.loadComponent&&(v||f.loadChildren)&&f.outlet&&f.outlet!==Vt&&(f.component=hr),f}function ar(m){return m.outlet||Vt}function Li(m,v){const f=m.filter(C=>ar(C)===v);return f.push(...m.filter(C=>ar(C)!==v)),f}function Wt(m){if(!m)return null;if(m.routeConfig?._injector)return m.routeConfig._injector;for(let v=m.parent;v;v=v.parent){const f=v.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class gs{constructor(v,f,C,R){this.routeReuseStrategy=v,this.futureState=f,this.currState=C,this.forwardEvent=R}activate(v){const f=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,C,v),sn(this.futureState.root),this.activateChildRoutes(f,C,v)}deactivateChildRoutes(v,f,C){const R=Dr(f);v.children.forEach(h=>{const y=h.value.outlet;this.deactivateRoutes(h,R[y],C),delete R[y]}),dn(R,(h,y)=>{this.deactivateRouteAndItsChildren(h,C)})}deactivateRoutes(v,f,C){const R=v.value,h=f?f.value:null;if(R===h)if(R.component){const y=C.getContext(R.outlet);y&&this.deactivateChildRoutes(v,f,y.children)}else this.deactivateChildRoutes(v,f,C);else h&&this.deactivateRouteAndItsChildren(f,C)}deactivateRouteAndItsChildren(v,f){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,f):this.deactivateRouteAndOutlet(v,f)}detachAndStoreRouteSubtree(v,f){const C=f.getContext(v.value.outlet),R=C&&v.value.component?C.children:f,h=Dr(v);for(const y of Object.keys(h))this.deactivateRouteAndItsChildren(h[y],R);if(C&&C.outlet){const y=C.outlet.detach(),A=C.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:y,route:v,contexts:A})}}deactivateRouteAndOutlet(v,f){const C=f.getContext(v.value.outlet),R=C&&v.value.component?C.children:f,h=Dr(v);for(const y of Object.keys(h))this.deactivateRouteAndItsChildren(h[y],R);C&&C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated(),C.attachRef=null,C.resolver=null,C.route=null)}activateChildRoutes(v,f,C){const R=Dr(f);v.children.forEach(h=>{this.activateRoutes(h,R[h.value.outlet],C),this.forwardEvent(new Ns(h.value.snapshot))}),v.children.length&&this.forwardEvent(new po(v.value.snapshot))}activateRoutes(v,f,C){const R=v.value,h=f?f.value:null;if(sn(R),R===h)if(R.component){const y=C.getOrCreateContext(R.outlet);this.activateChildRoutes(v,f,y.children)}else this.activateChildRoutes(v,f,C);else if(R.component){const y=C.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const A=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),y.children.onOutletReAttached(A.contexts),y.attachRef=A.componentRef,y.route=A.route.value,y.outlet&&y.outlet.attach(A.componentRef,A.route.value),sn(A.route.value),this.activateChildRoutes(v,null,y.children)}else{const A=Wt(R.snapshot),L=A?.get(I._Vd)??null;y.attachRef=null,y.route=R,y.resolver=L,y.injector=A,y.outlet&&y.outlet.activateWith(R,y.injector),this.activateChildRoutes(v,null,y.children)}}else this.activateChildRoutes(v,null,C)}}class Ze{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class Ot{constructor(v,f){this.component=v,this.route=f}}function er(m,v,f){const C=m._root;return ms(C,v?v._root:null,f,[C.value])}function Wn(m,v){const f=Symbol(),C=v.get(m,f);return C===f?"function"!=typeof m||(0,I.Z0I)(m)?v.get(m):m:C}function ms(m,v,f,C,R={canDeactivateChecks:[],canActivateChecks:[]}){const h=Dr(v);return m.children.forEach(y=>{(function Fi(m,v,f,C,R={canDeactivateChecks:[],canActivateChecks:[]}){const h=m.value,y=v?v.value:null,A=f?f.getContext(m.value.outlet):null;if(y&&h.routeConfig===y.routeConfig){const L=function yr(m,v,f){if("function"==typeof f)return f(m,v);switch(f){case"pathParamsChange":return!K(m.url,v.url);case"pathParamsOrQueryParamsChange":return!K(m.url,v.url)||!vt(m.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gi(m,v)||!vt(m.queryParams,v.queryParams);default:return!gi(m,v)}}(y,h,h.routeConfig.runGuardsAndResolvers);L?R.canActivateChecks.push(new Ze(C)):(h.data=y.data,h._resolvedData=y._resolvedData),ms(m,v,h.component?A?A.children:null:f,C,R),L&&A&&A.outlet&&A.outlet.isActivated&&R.canDeactivateChecks.push(new Ot(A.outlet.component,y))}else y&&_i(v,A,R),R.canActivateChecks.push(new Ze(C)),ms(m,null,h.component?A?A.children:null:f,C,R)})(y,h[y.value.outlet],f,C.concat([y.value]),R),delete h[y.value.outlet]}),dn(h,(y,A)=>_i(y,f.getContext(A),R)),R}function _i(m,v,f){const C=Dr(m),R=m.value;dn(C,(h,y)=>{_i(h,R.component?v?v.children.getContext(y):null:v,f)}),f.canDeactivateChecks.push(new Ot(R.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,R))}function yi(m){return"function"==typeof m}function Io(m){return m instanceof de.K||"EmptyError"===m?.name}const Qi=Symbol("INITIAL_VALUE");function _s(){return(0,Je.w)(m=>We(m.map(v=>v.pipe((0,Xe.q)(1),(0,Lt.O)(Qi)))).pipe((0,Ne.U)(v=>{for(const f of v)if(!0!==f){if(f===Qi)return Qi;if(!1===f||f instanceof Nt)return f}return!0}),(0,it.h)(v=>v!==Qi),(0,Xe.q)(1)))}function Co(m){return(0,qe.z)((0,Qt.b)(v=>{if(jn(v))throw Cr(0,v)}),(0,Ne.U)(v=>!0===v))}const Xo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ea(m,v,f,C,R){const h=wo(m,v,f);return h.matched?function va(m,v,f,C){const R=v.canMatch;if(!R||0===R.length)return(0,F.of)(!0);const h=R.map(y=>{const A=Wn(y,m);return kn(function eo(m){return m&&yi(m.canMatch)}(A)?A.canMatch(v,f):m.runInContext(()=>A(v,f)))});return(0,F.of)(h).pipe(_s(),Co())}(C=_o(v,C),v,f).pipe((0,Ne.U)(y=>!0===y?h:{...Xo})):(0,F.of)(h)}function wo(m,v,f){if(""===v.path)return"full"===v.pathMatch&&(m.hasChildren()||f.length>0)?{...Xo}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const R=(v.matcher||$r)(f,m,v);if(!R)return{...Xo};const h={};dn(R.posParams,(A,L)=>{h[L]=A.path});const y=R.consumed.length>0?{...h,...R.consumed[R.consumed.length-1].parameters}:h;return{matched:!0,consumedSegments:R.consumed,remainingSegments:f.slice(R.consumed.length),parameters:y,positionalParamSegments:R.posParams??{}}}function Ea(m,v,f,C){if(f.length>0&&function nr(m,v,f){return f.some(C=>Ji(m,v,C)&&ar(C)!==Vt)}(m,f,C)){const h=new ct(v,function vi(m,v,f,C){const R={};R[Vt]=C,C._sourceSegment=m,C._segmentIndexShift=v.length;for(const h of f)if(""===h.path&&ar(h)!==Vt){const y=new ct([],{});y._sourceSegment=m,y._segmentIndexShift=v.length,R[ar(h)]=y}return R}(m,v,C,new ct(f,m.children)));return h._sourceSegment=m,h._segmentIndexShift=v.length,{segmentGroup:h,slicedSegments:[]}}if(0===f.length&&function ta(m,v,f){return f.some(C=>Ji(m,v,C))}(m,f,C)){const h=new ct(m.segments,function tr(m,v,f,C,R){const h={};for(const y of C)if(Ji(m,f,y)&&!R[ar(y)]){const A=new ct([],{});A._sourceSegment=m,A._segmentIndexShift=v.length,h[ar(y)]=A}return{...R,...h}}(m,v,f,C,m.children));return h._sourceSegment=m,h._segmentIndexShift=v.length,{segmentGroup:h,slicedSegments:f}}const R=new ct(m.segments,m.children);return R._sourceSegment=m,R._segmentIndexShift=v.length,{segmentGroup:R,slicedSegments:f}}function Ji(m,v,f){return(!(m.hasChildren()||v.length>0)||"full"!==f.pathMatch)&&""===f.path}function li(m,v,f,C){return!!(ar(m)===C||C!==Vt&&Ji(v,f,m))&&("**"===m.path||wo(v,m,f).matched)}function Ei(m,v,f){return 0===v.length&&!m.children[f]}const rr=!1;class ui{constructor(v){this.segmentGroup=v||null}}class bo{constructor(v){this.urlTree=v}}function Es(m){return ot(new ui(m))}function Ii(m){return ot(new bo(m))}class P{constructor(v,f,C,R,h){this.injector=v,this.configLoader=f,this.urlSerializer=C,this.urlTree=R,this.config=h,this.allowRedirects=!0}apply(){const v=Ea(this.urlTree.root,[],[],this.config).segmentGroup,f=new ct(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,f,Vt).pipe((0,Ne.U)(h=>this.createUrlTree(sr(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Jt(h=>{if(h instanceof bo)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof ui?this.noMatchError(h):h}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,Vt).pipe((0,Ne.U)(R=>this.createUrlTree(sr(R),v.queryParams,v.fragment))).pipe(Jt(R=>{throw R instanceof ui?this.noMatchError(R):R}))}noMatchError(v){return new I.vHH(4002,rr)}createUrlTree(v,f,C){const R=Jn(v);return new Nt(R,f,C)}expandSegmentGroup(v,f,C,R){return 0===C.segments.length&&C.hasChildren()?this.expandChildren(v,f,C).pipe((0,Ne.U)(h=>new ct([],h))):this.expandSegment(v,C,f,C.segments,R,!0)}expandChildren(v,f,C){const R=[];for(const h of Object.keys(C.children))"primary"===h?R.unshift(h):R.push(h);return(0,j.D)(R).pipe(St(h=>{const y=C.children[h],A=Li(f,h);return this.expandSegmentGroup(v,A,y,h).pipe((0,Ne.U)(L=>({segment:L,outlet:h})))}),(0,cn.R)((h,y)=>(h[y.outlet]=y.segment,h),{}),Fn())}expandSegment(v,f,C,R,h,y){return(0,j.D)(C).pipe(St(A=>this.expandSegmentAgainstRoute(v,f,C,A,R,h,y).pipe(Jt(G=>{if(G instanceof ui)return(0,F.of)(null);throw G}))),(0,at.P)(A=>!!A),Jt((A,L)=>{if(Io(A))return Ei(f,R,h)?(0,F.of)(new ct([],{})):Es(f);throw A}))}expandSegmentAgainstRoute(v,f,C,R,h,y,A){return li(R,f,h,y)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(v,f,R,h,y):A&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,f,C,R,h,y):Es(f):Es(f)}expandSegmentAgainstRouteUsingRedirect(v,f,C,R,h,y){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,C,R,y):this.expandRegularSegmentAgainstRouteUsingRedirect(v,f,C,R,h,y)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,f,C,R){const h=this.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Ii(h):this.lineralizeSegments(C,h).pipe((0,Dt.z)(y=>{const A=new ct(y,{});return this.expandSegment(v,A,f,y,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,f,C,R,h,y){const{matched:A,consumedSegments:L,remainingSegments:G,positionalParamSegments:te}=wo(f,R,h);if(!A)return Es(f);const we=this.applyRedirectCommands(L,R.redirectTo,te);return R.redirectTo.startsWith("/")?Ii(we):this.lineralizeSegments(R,we).pipe((0,Dt.z)(ut=>this.expandSegment(v,f,C,ut.concat(G),y,!1)))}matchSegmentAgainstRoute(v,f,C,R,h){return"**"===C.path?(v=_o(C,v),C.loadChildren?(C._loadedRoutes?(0,F.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):this.configLoader.loadChildren(v,C)).pipe((0,Ne.U)(A=>(C._loadedRoutes=A.routes,C._loadedInjector=A.injector,new ct(R,{})))):(0,F.of)(new ct(R,{}))):ea(f,C,R,v).pipe((0,Je.w)(({matched:y,consumedSegments:A,remainingSegments:L})=>y?this.getChildConfig(v=C._injector??v,C,R).pipe((0,Dt.z)(te=>{const we=te.injector??v,ut=te.routes,{segmentGroup:Et,slicedSegments:At}=Ea(f,A,L,ut),tn=new ct(Et.segments,Et.children);if(0===At.length&&tn.hasChildren())return this.expandChildren(we,ut,tn).pipe((0,Ne.U)(Ms=>new ct(A,Ms)));if(0===ut.length&&0===At.length)return(0,F.of)(new ct(A,{}));const kt=ar(C)===h;return this.expandSegment(we,tn,ut,At,kt?Vt:h,!0).pipe((0,Ne.U)(br=>new ct(A.concat(br.segments),br.children)))})):Es(f)))}getChildConfig(v,f,C){return f.children?(0,F.of)({routes:f.children,injector:v}):f.loadChildren?void 0!==f._loadedRoutes?(0,F.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function Bo(m,v,f,C){const R=v.canLoad;if(void 0===R||0===R.length)return(0,F.of)(!0);const h=R.map(y=>{const A=Wn(y,m);return kn(function Xs(m){return m&&yi(m.canLoad)}(A)?A.canLoad(v,f):m.runInContext(()=>A(v,f)))});return(0,F.of)(h).pipe(_s(),Co())}(v,f,C).pipe((0,Dt.z)(R=>R?this.configLoader.loadChildren(v,f).pipe((0,Qt.b)(h=>{f._loadedRoutes=h.routes,f._loadedInjector=h.injector})):function Ia(m){return ot(lr(rr,3))}())):(0,F.of)({routes:[],injector:v})}lineralizeSegments(v,f){let C=[],R=f.root;for(;;){if(C=C.concat(R.segments),0===R.numberOfChildren)return(0,F.of)(C);if(R.numberOfChildren>1||!R.children[Vt])return v.redirectTo,ot(new I.vHH(4e3,rr));R=R.children[Vt]}}applyRedirectCommands(v,f,C){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),v,C)}applyRedirectCreateUrlTree(v,f,C,R){const h=this.createSegmentGroup(v,f.root,C,R);return new Nt(h,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(v,f){const C={};return dn(v,(R,h)=>{if("string"==typeof R&&R.startsWith(":")){const A=R.substring(1);C[h]=f[A]}else C[h]=R}),C}createSegmentGroup(v,f,C,R){const h=this.createSegments(v,f.segments,C,R);let y={};return dn(f.children,(A,L)=>{y[L]=this.createSegmentGroup(v,A,C,R)}),new ct(h,y)}createSegments(v,f,C,R){return f.map(h=>h.path.startsWith(":")?this.findPosParam(v,h,R):this.findOrReturn(h,C))}findPosParam(v,f,C){const R=C[f.path.substring(1)];if(!R)throw new I.vHH(4001,rr);return R}findOrReturn(v,f){let C=0;for(const R of f){if(R.path===v.path)return f.splice(C),R;C++}return v}}class Z{}class lt{constructor(v,f,C,R,h,y,A){this.injector=v,this.rootComponentType=f,this.config=C,this.urlTree=R,this.url=h,this.paramsInheritanceStrategy=y,this.urlSerializer=A}recognize(){const v=Ea(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,Vt).pipe((0,Ne.U)(f=>{if(null===f)return null;const C=new si([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),R=new Ar(C,f),h=new Qs(this.url,R);return this.inheritParamsAndData(h._root),h}))}inheritParamsAndData(v){const f=v.value,C=Lo(f,this.paramsInheritanceStrategy);f.params=Object.freeze(C.params),f.data=Object.freeze(C.data),v.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(v,f,C,R){return 0===C.segments.length&&C.hasChildren()?this.processChildren(v,f,C):this.processSegment(v,f,C,C.segments,R)}processChildren(v,f,C){return(0,j.D)(Object.keys(C.children)).pipe(St(R=>{const h=C.children[R],y=Li(f,R);return this.processSegmentGroup(v,y,h,R)}),(0,cn.R)((R,h)=>R&&h?(R.push(...h),R):null),function Bn(m,v=!1){return(0,Ee.e)((f,C)=>{let R=0;f.subscribe((0,Pe.x)(C,h=>{const y=m(h,R++);(y||v)&&C.next(h),!y&&C.complete()}))})}(R=>null!==R),(0,fn.d)(null),Fn(),(0,Ne.U)(R=>{if(null===R)return null;const h=en(R);return function Yt(m){m.sort((v,f)=>v.value.outlet===Vt?-1:f.value.outlet===Vt?1:v.value.outlet.localeCompare(f.value.outlet))}(h),h}))}processSegment(v,f,C,R,h){return(0,j.D)(f).pipe(St(y=>this.processSegmentAgainstRoute(y._injector??v,y,C,R,h)),(0,at.P)(y=>!!y),Jt(y=>{if(Io(y))return Ei(C,R,h)?(0,F.of)([]):(0,F.of)(null);throw y}))}processSegmentAgainstRoute(v,f,C,R,h){if(f.redirectTo||!li(f,C,R,h))return(0,F.of)(null);let y;if("**"===f.path){const A=R.length>0?vn(R).parameters:{},L=zn(C)+R.length,G=new si(R,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wr(f),ar(f),f.component??f._loadedComponent??null,f,jt(C),L,_r(f));y=(0,F.of)({snapshot:G,consumedSegments:[],remainingSegments:[]})}else y=ea(C,f,R,v).pipe((0,Ne.U)(({matched:A,consumedSegments:L,remainingSegments:G,parameters:te})=>{if(!A)return null;const we=zn(C)+L.length;return{snapshot:new si(L,te,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wr(f),ar(f),f.component??f._loadedComponent??null,f,jt(C),we,_r(f)),consumedSegments:L,remainingSegments:G}}));return y.pipe((0,Je.w)(A=>{if(null===A)return(0,F.of)(null);const{snapshot:L,consumedSegments:G,remainingSegments:te}=A;v=f._injector??v;const we=f._loadedInjector??v,ut=function Dn(m){return m.children?m.children:m.loadChildren?m._loadedRoutes:[]}(f),{segmentGroup:Et,slicedSegments:At}=Ea(C,G,te,ut.filter(kt=>void 0===kt.redirectTo));if(0===At.length&&Et.hasChildren())return this.processChildren(we,ut,Et).pipe((0,Ne.U)(kt=>null===kt?null:[new Ar(L,kt)]));if(0===ut.length&&0===At.length)return(0,F.of)([new Ar(L,[])]);const tn=ar(f)===h;return this.processSegment(we,ut,Et,At,tn?Vt:h).pipe((0,Ne.U)(kt=>null===kt?null:[new Ar(L,kt)]))}))}}function Rn(m){const v=m.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function en(m){const v=[],f=new Set;for(const C of m){if(!Rn(C)){v.push(C);continue}const R=v.find(h=>C.value.routeConfig===h.value.routeConfig);void 0!==R?(R.children.push(...C.children),f.add(R)):v.push(C)}for(const C of f){const R=en(C.children);v.push(new Ar(C.value,R))}return v.filter(C=>!f.has(C))}function jt(m){let v=m;for(;v._sourceSegment;)v=v._sourceSegment;return v}function zn(m){let v=m,f=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,f+=v._segmentIndexShift??0;return f-1}function wr(m){return m.data||{}}function _r(m){return m.resolve||{}}function Is(m){return"string"==typeof m.title||null===m.title}function To(m){return(0,Je.w)(v=>{const f=m(v);return f?(0,j.D)(f).pipe((0,Ne.U)(()=>v)):(0,F.of)(v)})}const ci=new I.OlP("ROUTES");let io=(()=>{class m{constructor(f,C){this.injector=f,this.compiler=C,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,F.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const C=kn(f.loadComponent()).pipe((0,Ne.U)(Bs),(0,Qt.b)(h=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=h}),bt(()=>{this.componentLoaders.delete(f)})),R=new Ue(C,()=>new re.x).pipe(Ce());return this.componentLoaders.set(f,R),R}loadChildren(f,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,F.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const h=this.loadModuleFactoryOrRoutes(C.loadChildren).pipe((0,Ne.U)(A=>{this.onLoadEndListener&&this.onLoadEndListener(C);let L,G,te=!1;Array.isArray(A)?G=A:(L=A.create(f).injector,G=An(L.get(ci,[],I.XFs.Self|I.XFs.Optional)));return{routes:G.map(mi),injector:L}}),bt(()=>{this.childrenLoaders.delete(C)})),y=new Ue(h,()=>new re.x).pipe(Ce());return this.childrenLoaders.set(C,y),y}loadModuleFactoryOrRoutes(f){return kn(f()).pipe((0,Ne.U)(Bs),(0,Dt.z)(R=>R instanceof I.YKP||Array.isArray(R)?(0,F.of)(R):(0,j.D)(this.compiler.compileModuleAsync(R))))}}return m.\u0275fac=function(f){return new(f||m)(I.LFG(I.zs3),I.LFG(I.Sil))},m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function Bs(m){return function na(m){return m&&"object"==typeof m&&"default"in m}(m)?m.default:m}let jo=(()=>{class m{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new re.x,this.configLoader=(0,I.f3M)(io),this.environmentInjector=(0,I.f3M)(I.lqb),this.urlSerializer=(0,I.f3M)(Se),this.rootContexts=(0,I.f3M)(oi),this.navigationId=0,this.afterPreactivation=()=>(0,F.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new Xn(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new Ut(R))}complete(){this.transitions?.complete()}handleNavigationRequest(f){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,...f,id:C})}setupNavigations(f){return this.transitions=new ae({id:0,targetPageId:0,currentUrlTree:f.currentUrlTree,currentRawUrl:f.currentUrlTree,extractedUrl:f.urlHandlingStrategy.extract(f.currentUrlTree),urlAfterRedirects:f.urlHandlingStrategy.extract(f.currentUrlTree),rawUrl:f.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hr,restoredState:null,currentSnapshot:f.routerState.snapshot,targetSnapshot:null,currentRouterState:f.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,it.h)(C=>0!==C.id),(0,Ne.U)(C=>({...C,extractedUrl:f.urlHandlingStrategy.extract(C.rawUrl)})),(0,Je.w)(C=>{let R=!1,h=!1;return(0,F.of)(C).pipe((0,Qt.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Je.w)(y=>{const A=f.browserUrlTree.toString(),L=!f.navigated||y.extractedUrl.toString()!==A||A!==f.currentUrlTree.toString();if(!L&&"reload"!==(y.extras.onSameUrlNavigation??f.onSameUrlNavigation)){const te="";return this.events.next(new tt(y.id,f.serializeUrl(C.rawUrl),te,0)),f.rawUrlTree=y.rawUrl,y.resolve(null),x.E}if(f.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Ca(y.source)&&(f.browserUrlTree=y.extractedUrl),(0,F.of)(y).pipe((0,Je.w)(te=>{const we=this.transitions?.getValue();return this.events.next(new ie(te.id,this.urlSerializer.serialize(te.extractedUrl),te.source,te.restoredState)),we!==this.transitions?.getValue()?x.E:Promise.resolve(te)}),function S(m,v,f,C){return(0,Je.w)(R=>function w(m,v,f,C,R){return new P(m,v,f,C,R).apply()}(m,v,f,R.extractedUrl,C).pipe((0,Ne.U)(h=>({...R,urlAfterRedirects:h}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,f.config),(0,Qt.b)(te=>{this.currentNavigation={...this.currentNavigation,finalUrl:te.urlAfterRedirects},C.urlAfterRedirects=te.urlAfterRedirects}),function Vi(m,v,f,C,R){return(0,Dt.z)(h=>function $e(m,v,f,C,R,h,y="emptyOnly"){return new lt(m,v,f,C,R,y,h).recognize().pipe((0,Je.w)(A=>null===A?function ye(m){return new ge.y(v=>v.error(m))}(new Z):(0,F.of)(A)))}(m,v,f,h.urlAfterRedirects,C.serialize(h.urlAfterRedirects),C,R).pipe((0,Ne.U)(y=>({...h,targetSnapshot:y}))))}(this.environmentInjector,this.rootComponentType,f.config,this.urlSerializer,f.paramsInheritanceStrategy),(0,Qt.b)(te=>{if(C.targetSnapshot=te.targetSnapshot,"eager"===f.urlUpdateStrategy){if(!te.extras.skipLocationChange){const ut=f.urlHandlingStrategy.merge(te.urlAfterRedirects,te.rawUrl);f.setBrowserUrl(ut,te)}f.browserUrlTree=te.urlAfterRedirects}const we=new Kt(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(te.urlAfterRedirects),te.targetSnapshot);this.events.next(we)}));if(L&&f.urlHandlingStrategy.shouldProcessUrl(f.rawUrlTree)){const{id:te,extractedUrl:we,source:ut,restoredState:Et,extras:At}=y,tn=new ie(te,this.urlSerializer.serialize(we),ut,Et);this.events.next(tn);const kt=Yi(we,this.rootComponentType).snapshot;return C={...y,targetSnapshot:kt,urlAfterRedirects:we,extras:{...At,skipLocationChange:!1,replaceUrl:!1}},(0,F.of)(C)}{const te="";return this.events.next(new tt(y.id,f.serializeUrl(C.extractedUrl),te,1)),f.rawUrlTree=y.rawUrl,y.resolve(null),x.E}}),(0,Qt.b)(y=>{const A=new In(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(A)}),(0,Ne.U)(y=>C={...y,guards:er(y.targetSnapshot,y.currentSnapshot,this.rootContexts)}),function ys(m,v){return(0,Dt.z)(f=>{const{targetSnapshot:C,currentSnapshot:R,guards:{canActivateChecks:h,canDeactivateChecks:y}}=f;return 0===y.length&&0===h.length?(0,F.of)({...f,guardsResult:!0}):function to(m,v,f,C){return(0,j.D)(m).pipe((0,Dt.z)(R=>function Fs(m,v,f,C,R){const h=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,F.of)(!0);const y=h.map(A=>{const L=Wt(v)??R,G=Wn(A,L);return kn(function ai(m){return m&&yi(m.canDeactivate)}(G)?G.canDeactivate(m,v,f,C):L.runInContext(()=>G(m,v,f,C))).pipe((0,at.P)())});return(0,F.of)(y).pipe(_s())}(R.component,R.route,f,v,C)),(0,at.P)(R=>!0!==R,!0))}(y,C,R,m).pipe((0,Dt.z)(A=>A&&function Eo(m){return"boolean"==typeof m}(A)?function Ls(m,v,f,C){return(0,j.D)(v).pipe(St(R=>(0,Y.z)(function Bi(m,v){return null!==m&&v&&v(new Un(m)),(0,F.of)(!0)}(R.route.parent,C),function no(m,v){return null!==m&&v&&v(new qs(m)),(0,F.of)(!0)}(R.route,C),function vs(m,v,f){const C=v[v.length-1],h=v.slice(0,v.length-1).reverse().map(y=>function ya(m){const v=m.routeConfig?m.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:m,guards:v}:null}(y)).filter(y=>null!==y).map(y=>nt(()=>{const A=y.guards.map(L=>{const G=Wt(y.node)??f,te=Wn(L,G);return kn(function ur(m){return m&&yi(m.canActivateChild)}(te)?te.canActivateChild(C,m):G.runInContext(()=>te(C,m))).pipe((0,at.P)())});return(0,F.of)(A).pipe(_s())}));return(0,F.of)(h).pipe(_s())}(m,R.path,f),function Do(m,v,f){const C=v.routeConfig?v.routeConfig.canActivate:null;if(!C||0===C.length)return(0,F.of)(!0);const R=C.map(h=>nt(()=>{const y=Wt(v)??f,A=Wn(h,y);return kn(function Uo(m){return m&&yi(m.canActivate)}(A)?A.canActivate(v,m):y.runInContext(()=>A(v,m))).pipe((0,at.P)())}));return(0,F.of)(R).pipe(_s())}(m,R.route,f))),(0,at.P)(R=>!0!==R,!0))}(C,h,m,v):(0,F.of)(A)),(0,Ne.U)(A=>({...f,guardsResult:A})))})}(this.environmentInjector,y=>this.events.next(y)),(0,Qt.b)(y=>{if(C.guardsResult=y.guardsResult,jn(y.guardsResult))throw Cr(0,y.guardsResult);const A=new nn(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(A)}),(0,it.h)(y=>!!y.guardsResult||(f.restoreHistory(y),this.cancelNavigationTransition(y,"",3),!1)),To(y=>{if(y.guards.canActivateChecks.length)return(0,F.of)(y).pipe((0,Qt.b)(A=>{const L=new hn(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(L)}),(0,Je.w)(A=>{let L=!1;return(0,F.of)(A).pipe(function Di(m,v){return(0,Dt.z)(f=>{const{targetSnapshot:C,guards:{canActivateChecks:R}}=f;if(!R.length)return(0,F.of)(f);let h=0;return(0,j.D)(R).pipe(St(y=>function Xi(m,v,f,C){const R=m.routeConfig,h=m._resolve;return void 0!==R?.title&&!Is(R)&&(h[Vn]=R.title),function ro(m,v,f,C){const R=function Vo(m){return[...Object.keys(m),...Object.getOwnPropertySymbols(m)]}(m);if(0===R.length)return(0,F.of)({});const h={};return(0,j.D)(R).pipe((0,Dt.z)(y=>function Da(m,v,f,C){const R=Wt(v)??C,h=Wn(m,R);return kn(h.resolve?h.resolve(v,f):R.runInContext(()=>h(v,f)))}(m[y],v,f,C).pipe((0,at.P)(),(0,Qt.b)(A=>{h[y]=A}))),bn(1),function Mn(m){return(0,Ne.U)(()=>m)}(h),Jt(y=>Io(y)?x.E:ot(y)))}(h,m,v,C).pipe((0,Ne.U)(y=>(m._resolvedData=y,m.data=Lo(m,f).resolve,R&&Is(R)&&(m.data[Vn]=R.title),null)))}(y.route,C,m,v)),(0,Qt.b)(()=>h++),bn(1),(0,Dt.z)(y=>h===R.length?(0,F.of)(f):x.E))})}(f.paramsInheritanceStrategy,this.environmentInjector),(0,Qt.b)({next:()=>L=!0,complete:()=>{L||(f.restoreHistory(A),this.cancelNavigationTransition(A,"",2))}}))}),(0,Qt.b)(A=>{const L=new ln(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(L)}))}),To(y=>{const A=L=>{const G=[];L.routeConfig?.loadComponent&&!L.routeConfig._loadedComponent&&G.push(this.configLoader.loadComponent(L.routeConfig).pipe((0,Qt.b)(te=>{L.component=te}),(0,Ne.U)(()=>{})));for(const te of L.children)G.push(...A(te));return G};return We(A(y.targetSnapshot.root)).pipe((0,fn.d)(),(0,Xe.q)(1))}),To(()=>this.afterPreactivation()),(0,Ne.U)(y=>{const A=function qi(m,v,f){const C=Qr(m,v._root,f?f._root:void 0);return new ds(C,v)}(f.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return C={...y,targetRouterState:A}}),(0,Qt.b)(y=>{f.currentUrlTree=y.urlAfterRedirects,f.rawUrlTree=f.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),f.routerState=y.targetRouterState,"deferred"===f.urlUpdateStrategy&&(y.extras.skipLocationChange||f.setBrowserUrl(f.rawUrlTree,y),f.browserUrlTree=y.urlAfterRedirects)}),((m,v,f)=>(0,Ne.U)(C=>(new gs(v,C.targetRouterState,C.currentRouterState,f).activate(m),C)))(this.rootContexts,f.routeReuseStrategy,y=>this.events.next(y)),(0,Qt.b)({next:y=>{R=!0,this.lastSuccessfulNavigation=this.currentNavigation,f.navigated=!0,this.events.next(new fe(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(f.currentUrlTree))),f.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{R=!0}}),bt(()=>{R||h||this.cancelNavigationTransition(C,"",1),this.currentNavigation?.id===C.id&&(this.currentNavigation=null)}),Jt(y=>{if(h=!0,un(y)){mo(y)||(f.navigated=!0,f.restoreHistory(C,!0));const A=new Fe(C.id,this.urlSerializer.serialize(C.extractedUrl),y.message,y.cancellationCode);if(this.events.next(A),mo(y)){const L=f.urlHandlingStrategy.merge(y.url,f.rawUrlTree),G={skipLocationChange:C.extras.skipLocationChange,replaceUrl:"eager"===f.urlUpdateStrategy||Ca(C.source)};f.scheduleNavigation(L,Hr,null,G,{resolve:C.resolve,reject:C.reject,promise:C.promise})}else C.resolve(!1)}else{f.restoreHistory(C,!0);const A=new yt(C.id,this.urlSerializer.serialize(C.extractedUrl),y,C.targetSnapshot??void 0);this.events.next(A);try{C.resolve(f.errorHandler(y))}catch(L){C.reject(L)}}return x.E}))}))}cancelNavigationTransition(f,C,R){const h=new Fe(f.id,this.urlSerializer.serialize(f.extractedUrl),C,R);this.events.next(h),f.resolve(!1)}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function Ca(m){return m!==Hr}let so=(()=>{class m{buildTitle(f){let C,R=f.root;for(;void 0!==R;)C=this.getResolvedTitleForRoute(R)??C,R=R.children.find(h=>h.outlet===Vt);return C}getResolvedTitleForRoute(f){return f.data[Vn]}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=I.Yz7({token:m,factory:function(){return(0,I.f3M)(Ds)},providedIn:"root"}),m})(),Ds=(()=>{class m extends so{constructor(f){super(),this.title=f}updateTitle(f){const C=this.buildTitle(f);void 0!==C&&this.title.setTitle(C)}}return m.\u0275fac=function(f){return new(f||m)(I.LFG(mt.Dx))},m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Ho=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=I.Yz7({token:m,factory:function(){return(0,I.f3M)(wi)},providedIn:"root"}),m})();class ra{shouldDetach(v){return!1}store(v,f){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,f){return v.routeConfig===f.routeConfig}}let wi=(()=>{class m extends ra{}return m.\u0275fac=function(){let v;return function(C){return(v||(v=I.n5z(m)))(C||m)}}(),m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const So=new I.OlP("",{providedIn:"root",factory:()=>({})});let oo=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=I.Yz7({token:m,factory:function(){return(0,I.f3M)(ia)},providedIn:"root"}),m})(),ia=(()=>{class m{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,C){return f}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function es(m){throw m}function ws(m,v,f){return v.parse("/")}const La={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ul={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gr=(()=>{class m{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,I.f3M)(I.c2e),this.isNgZoneEnabled=!1,this.options=(0,I.f3M)(So,{optional:!0})||{},this.errorHandler=this.options.errorHandler||es,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ws,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,I.f3M)(oo),this.routeReuseStrategy=(0,I.f3M)(Ho),this.urlCreationStrategy=(0,I.f3M)(ko),this.titleStrategy=(0,I.f3M)(so),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=An((0,I.f3M)(ci,{optional:!0})??[]),this.navigationTransitions=(0,I.f3M)(jo),this.urlSerializer=(0,I.f3M)(Se),this.location=(0,I.f3M)(ke.Ye),this.isNgZoneEnabled=(0,I.f3M)(I.R0b)instanceof I.R0b&&I.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Nt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yi(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(f=>{this.lastSuccessfulId=f.id,this.currentPageId=f.targetPageId},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}resetRootComponentType(f){this.routerState.root.component=f,this.navigationTransitions.rootComponentType=f}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const f=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hr,f)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const C="popstate"===f.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(f.url,C,f.state)},0)}))}navigateToSyncWithBrowser(f,C,R){const h={replaceUrl:!0},y=R?.navigationId?R:null;if(R){const L={...R};delete L.navigationId,delete L.\u0275routerPageId,0!==Object.keys(L).length&&(h.state=L)}const A=this.parseUrl(f);this.scheduleNavigation(A,C,y,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(f){this.config=f.map(mi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,C={}){const{relativeTo:R,queryParams:h,fragment:y,queryParamsHandling:A,preserveFragment:L}=C,G=L?this.currentUrlTree.fragment:y;let te=null;switch(A){case"merge":te={...this.currentUrlTree.queryParams,...h};break;case"preserve":te=this.currentUrlTree.queryParams;break;default:te=h||null}return null!==te&&(te=this.removeEmptyProps(te)),this.urlCreationStrategy.createUrlTree(R,this.routerState,this.currentUrlTree,f,te,G??null)}navigateByUrl(f,C={skipLocationChange:!1}){const R=jn(f)?f:this.parseUrl(f),h=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(h,Hr,null,C)}navigate(f,C={skipLocationChange:!1}){return function sa(m){for(let v=0;v<m.length;v++){const f=m[v];if(null==f)throw new I.vHH(4008,false)}}(f),this.navigateByUrl(this.createUrlTree(f,C),C)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let C;try{C=this.urlSerializer.parse(f)}catch(R){C=this.malformedUriErrorHandler(R,this.urlSerializer,f)}return C}isActive(f,C){let R;if(R=!0===C?{...La}:!1===C?{...ul}:C,jn(f))return an(this.currentUrlTree,f,R);const h=this.parseUrl(f);return an(this.currentUrlTree,h,R)}removeEmptyProps(f){return Object.keys(f).reduce((C,R)=>{const h=f[R];return null!=h&&(C[R]=h),C},{})}scheduleNavigation(f,C,R,h,y){if(this.disposed)return Promise.resolve(!1);let A,L,G,te;return y?(A=y.resolve,L=y.reject,G=y.promise):G=new Promise((we,ut)=>{A=we,L=ut}),te="computed"===this.canceledNavigationResolution?R&&R.\u0275routerPageId?R.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:te,source:C,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:f,extras:h,resolve:A,reject:L,promise:G,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),G.catch(we=>Promise.reject(we))}setBrowserUrl(f,C){const R=this.urlSerializer.serialize(f),h={...C.extras.state,...this.generateNgRouterState(C.id,C.targetPageId)};this.location.isCurrentPathEqualTo(R)||C.extras.replaceUrl?this.location.replaceState(R,"",h):this.location.go(R,"",h)}restoreHistory(f,C=!1){if("computed"===this.canceledNavigationResolution){const R=this.currentPageId-f.targetPageId;"popstate"!==f.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===R?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===R&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(R)}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(f,C){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:C}:{navigationId:f}}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),ts=(()=>{class m{constructor(f,C,R,h,y,A){this.router=f,this.route=C,this.tabIndexAttribute=R,this.renderer=h,this.el=y,this.locationStrategy=A,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new re.x;const L=y.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===L||"area"===L,this.isAnchorElement?this.subscription=f.events.subscribe(G=>{G instanceof fe&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(f){this._preserveFragment=(0,I.D6c)(f)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(f){this._skipLocationChange=(0,I.D6c)(f)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(f){this._replaceUrl=(0,I.D6c)(f)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(f){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",f)}ngOnChanges(f){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(f,C,R,h,y){return!!(null===this.urlTree||this.isAnchorElement&&(0!==f||C||R||h||y||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const f=null===this.href?null:(0,I.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",f)}applyAttributeValue(f,C){const R=this.renderer,h=this.el.nativeElement;null!==C?R.setAttribute(h,f,C):R.removeAttribute(h,f)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return m.\u0275fac=function(f){return new(f||m)(I.Y36(Gr),I.Y36(mr),I.$8M("tabindex"),I.Y36(I.Qsj),I.Y36(I.SBq),I.Y36(ke.S$))},m.\u0275dir=I.lG2({type:m,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(f,C){1&f&&I.NdJ("click",function(h){return C.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&f&&I.uIk("target",C.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[I.TTD]}),m})();class wa{}let dl=(()=>{class m{constructor(f,C,R,h,y){this.router=f,this.injector=R,this.preloadingStrategy=h,this.loader=y}setUpPreloading(){this.subscription=this.router.events.pipe((0,it.h)(f=>f instanceof fe),St(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,C){const R=[];for(const h of C){h.providers&&!h._injector&&(h._injector=(0,I.MMx)(h.providers,f,`Route: ${h.path}`));const y=h._injector??f,A=h._loadedInjector??y;h.loadChildren&&!h._loadedRoutes&&void 0===h.canLoad||h.loadComponent&&!h._loadedComponent?R.push(this.preloadConfig(y,h)):(h.children||h._loadedRoutes)&&R.push(this.processRoutes(A,h.children??h._loadedRoutes))}return(0,j.D)(R).pipe((0,_n.J)())}preloadConfig(f,C){return this.preloadingStrategy.preload(C,()=>{let R;R=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(f,C):(0,F.of)(null);const h=R.pipe((0,Dt.z)(y=>null===y?(0,F.of)(void 0):(C._loadedRoutes=y.routes,C._loadedInjector=y.injector,this.processRoutes(y.injector??f,y.routes))));if(C.loadComponent&&!C._loadedComponent){const y=this.loader.loadComponent(C);return(0,j.D)([h,y]).pipe((0,_n.J)())}return h})}}return m.\u0275fac=function(f){return new(f||m)(I.LFG(Gr),I.LFG(I.Sil),I.LFG(I.lqb),I.LFG(wa),I.LFG(io))},m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const Fa=new I.OlP("");let Gn=(()=>{class m{constructor(f,C,R,h,y={}){this.urlSerializer=f,this.transitions=C,this.viewportScroller=R,this.zone=h,this.options=y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},y.scrollPositionRestoration=y.scrollPositionRestoration||"disabled",y.anchorScrolling=y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof ie?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof fe&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof go&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new go(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return m.\u0275fac=function(f){I.$Z()},m.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac}),m})();var di=(()=>((di=di||{})[di.COMPLETE=0]="COMPLETE",di[di.FAILED=1]="FAILED",di[di.REDIRECTING=2]="REDIRECTING",di))();const $s=!1;function js(m,v){return{\u0275kind:m,\u0275providers:v}}const oa=new I.OlP("",{providedIn:"root",factory:()=>!1});function cr(){const m=(0,I.f3M)(I.zs3);return v=>{const f=m.get(I.z2F);if(v!==f.components[0])return;const C=m.get(Gr),R=m.get($i);1===m.get(Jr)&&C.initialNavigation(),m.get(ao,null,I.XFs.Optional)?.setUpPreloading(),m.get(Fa,null,I.XFs.Optional)?.init(),C.resetRootComponentType(f.componentTypes[0]),R.closed||(R.next(),R.unsubscribe())}}const $i=new I.OlP($s?"bootstrap done indicator":"",{factory:()=>new re.x}),Jr=new I.OlP($s?"initial navigation":"",{providedIn:"root",factory:()=>1});function Ss(){let m=[];return m=$s?[{provide:I.Xts,multi:!0,useFactory:()=>{const v=(0,I.f3M)(Gr);return()=>v.events.subscribe(f=>{console.group?.(`Router Event: ${f.constructor.name}`),console.log(function Sn(m){if(!("type"in m))return`Unknown Router Event: ${m.constructor.name}`;switch(m.type){case 14:return`ActivationEnd(path: '${m.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${m.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${m.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${m.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state}, shouldActivate: ${m.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case 2:return`NavigationCancel(id: ${m.id}, url: '${m.url}')`;case 16:return`NavigationSkipped(id: ${m.id}, url: '${m.url}')`;case 1:return`NavigationEnd(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${m.id}, url: '${m.url}', error: ${m.error})`;case 0:return`NavigationStart(id: ${m.id}, url: '${m.url}')`;case 6:return`ResolveEnd(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case 5:return`ResolveStart(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case 10:return`RouteConfigLoadEnd(path: ${m.route.path})`;case 9:return`RouteConfigLoadStart(path: ${m.route.path})`;case 4:return`RoutesRecognized(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case 15:return`Scroll(anchor: '${m.anchor}', position: '${m.position?`${m.position[0]}, ${m.position[1]}`:null}')`}}(f)),console.log(f),console.groupEnd?.()})}}]:[],js(1,m)}const ao=new I.OlP($s?"router preloader":"");function As(m){return js(0,[{provide:ao,useExisting:dl},{provide:wa,useExisting:m}])}const kr=!1,Lr=new I.OlP(kr?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Rs=[ke.Ye,{provide:Se,useClass:me},Gr,oi,{provide:mr,useFactory:function ba(m){return m.routerState.root},deps:[Gr]},io,kr?{provide:oa,useValue:!0}:[]];function ji(){return new I.PXZ("Router",Gr)}let Wo=(()=>{class m{constructor(f){}static forRoot(f,C){return{ngModule:m,providers:[Rs,kr&&C?.enableTracing?Ss().\u0275providers:[],{provide:ci,multi:!0,useValue:f},{provide:Lr,useFactory:$a,deps:[[Gr,new I.FiY,new I.tp0]]},{provide:So,useValue:C||{}},C?.useHash?{provide:ke.S$,useClass:ke.Do}:{provide:ke.S$,useClass:ke.b0},{provide:Fa,useFactory:()=>{const m=(0,I.f3M)(ke.EM),v=(0,I.f3M)(I.R0b),f=(0,I.f3M)(So),C=(0,I.f3M)(jo),R=(0,I.f3M)(Se);return f.scrollOffset&&m.setOffset(f.scrollOffset),new Gn(R,C,m,v,f)}},C?.preloadingStrategy?As(C.preloadingStrategy).\u0275providers:[],{provide:I.PXZ,multi:!0,useFactory:ji},C?.initialNavigation?Hi(C):[],[{provide:aa,useFactory:cr},{provide:I.tb,multi:!0,useExisting:aa}]]}}static forChild(f){return{ngModule:m,providers:[{provide:ci,multi:!0,useValue:f}]}}}return m.\u0275fac=function(f){return new(f||m)(I.LFG(Lr,8))},m.\u0275mod=I.oAB({type:m}),m.\u0275inj=I.cJS({imports:[hr]}),m})();function $a(m){if(kr&&m)throw new I.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Hi(m){return["disabled"===m.initialNavigation?js(3,[{provide:I.ip1,multi:!0,useFactory:()=>{const v=(0,I.f3M)(Gr);return()=>{v.setUpLocationChangeListener()}}},{provide:Jr,useValue:2}]).\u0275providers:[],"enabledBlocking"===m.initialNavigation?js(2,[{provide:Jr,useValue:0},{provide:I.ip1,multi:!0,deps:[I.zs3],useFactory:v=>{const f=v.get(ke.V_,Promise.resolve());return()=>f.then(()=>new Promise(C=>{const R=v.get(Gr),h=v.get($i);(function hl(m,v){m.events.pipe((0,it.h)(f=>f instanceof fe||f instanceof Fe||f instanceof yt||f instanceof tt),(0,Ne.U)(f=>f instanceof fe||f instanceof tt?di.COMPLETE:f instanceof Fe&&(0===f.code||1===f.code)?di.REDIRECTING:di.FAILED),(0,it.h)(f=>f!==di.REDIRECTING),(0,Xe.q)(1)).subscribe(()=>{v()})})(R,()=>{C(!0)}),v.get(jo).afterPreactivation=()=>(C(!0),h.closed?(0,F.of)(void 0):h),R.initialNavigation()}))}}]).\u0275providers:[]]}const aa=new I.OlP(kr?"Router Initializer":"")},3942:(It,Ie,k)=>{k.d(Ie,{Z:()=>Ne});var I=k(2090),j=k(4859),F=k(9681),re=k(1877);class ae{constructor(be,Ve){this._delegate=be,this.firebase=Ve,(0,F._addComponent)(be,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(be,Ve=F._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(be);return!Qe.isInitialized()&&"EXPLICIT"===(null===(Be=Qe.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Ve})}_removeServiceInstance(be,Ve=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Ve)}_addComponent(be){(0,F._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,F._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function _e(){const _t=function he(_t){const be={},Ve={__esModule:!0,initializeApp:function Pe(Ye,Y={}){const Ae=F.initializeApp(Ye,Y);if((0,I.r3)(be,Ae.name))return be[Ae.name];const nt=new _t(Ae,Ve);return be[Ae.name]=nt,nt},app:Qe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function We(Ye){const Y=Ye.name,Ae=Y.replace("-compat","");if(F._registerComponent(Ye)&&"PUBLIC"===Ye.type){const nt=(qe=Qe())=>{if("function"!=typeof qe[Ae])throw ge.create("invalid-app-argument",{appName:Y});return qe[Ae]()};void 0!==Ye.serviceProps&&(0,I.ZB)(nt,Ye.serviceProps),Ve[Ae]=nt,_t.prototype[Ae]=function(...qe){return this._getService.bind(this,Y).apply(this,Ye.multipleInstances?qe:[])}}return"PUBLIC"===Ye.type?Ve[Ae]:null},removeApp:function Be(Ye){delete be[Ye]},useAsService:function et(Ye,Y){return"serverAuth"===Y?null:Y},modularAPIs:F}};function Qe(Ye){if(!(0,I.r3)(be,Ye=Ye||F._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Ye});return be[Ye]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Oe(){return Object.keys(be).map(Ye=>be[Ye])}}),Qe.App=_t,Ve}(ae);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function be(Ve){(0,I.ZB)(_t,Ve)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),_t}(),Q=new re.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=q;!function Le(_t){(0,F.registerVersion)("@firebase/app-compat","0.2.4",_t)}()},9681:(It,Ie,k)=>{k.r(Ie),k.d(Ie,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Zn,_DEFAULT_ENTRY_NAME:()=>Ue,_addComponent:()=>Lt,_addOrOverwriteComponent:()=>it,_apps:()=>Je,_clearComponents:()=>Qt,_components:()=>Xe,_getProvider:()=>at,_registerComponent:()=>Dt,_removeServiceInstance:()=>St,deleteApp:()=>Mn,getApp:()=>Fn,getApps:()=>Bn,initializeApp:()=>fn,onLog:()=>mt,registerVersion:()=>_n,setLogLevel:()=>Vt});var I=k(5861),j=k(4859),F=k(1877),re=k(2090),ae=k(8766);class de{constructor(je){this.container=je}getPlatformInfoString(){return this.container.getProviders().map(pt=>{if(function ge(st){return"VERSION"===st.getComponent()?.type}(pt)){const Pt=pt.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(pt=>pt).join(" ")}}const he="@firebase/app",q=new F.Yd("@firebase/app"),Ue="[DEFAULT]",ke={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,Xe=new Map;function Lt(st,je){try{st.container.addComponent(je)}catch(pt){q.debug(`Component ${je.name} failed to register with FirebaseApp ${st.name}`,pt)}}function it(st,je){st.container.addOrOverwriteComponent(je)}function Dt(st){const je=st.name;if(Xe.has(je))return q.debug(`There were multiple attempts to register component ${je}.`),!1;Xe.set(je,st);for(const pt of Je.values())Lt(pt,st);return!0}function at(st,je){const pt=st.container.getProvider("heartbeat").getImmediate({optional:!0});return pt&&pt.triggerHeartbeat(),st.container.getProvider(je)}function St(st,je,pt=Ue){at(st,je).clearInstance(pt)}function Qt(){Xe.clear()}const cn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bn{constructor(je,pt,Pt){this._isDeleted=!1,this._options=Object.assign({},je),this._config=Object.assign({},pt),this._name=pt.name,this._automaticDataCollectionEnabled=pt.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this.checkDestroyed(),this._automaticDataCollectionEnabled=je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(je){this._isDeleted=je}checkDestroyed(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}}const Zn="9.17.2";function fn(st,je={}){let pt=st;"object"!=typeof je&&(je={name:je});const Pt=Object.assign({name:Ue,automaticDataCollectionEnabled:!1},je),Nt=Pt.name;if("string"!=typeof Nt||!Nt)throw cn.create("bad-app-name",{appName:String(Nt)});if(pt||(pt=(0,re.aH)()),!pt)throw cn.create("no-options");const ct=Je.get(Nt);if(ct){if((0,re.vZ)(pt,ct.options)&&(0,re.vZ)(Pt,ct.config))return ct;throw cn.create("duplicate-app",{appName:Nt})}const qn=new j.H0(Nt);for(const K of Xe.values())qn.addComponent(K);const X=new bn(pt,Pt,qn);return Je.set(Nt,X),X}function Fn(st=Ue){const je=Je.get(st);if(!je&&st===Ue)return fn();if(!je)throw cn.create("no-app",{appName:st});return je}function Bn(){return Array.from(Je.values())}function Mn(st){return bt.apply(this,arguments)}function bt(){return(bt=(0,I.Z)(function*(st){const je=st.name;Je.has(je)&&(Je.delete(je),yield Promise.all(st.container.getProviders().map(pt=>pt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function _n(st,je,pt){var Pt;let Nt=null!==(Pt=ke[st])&&void 0!==Pt?Pt:st;pt&&(Nt+=`-${pt}`);const ct=Nt.match(/\s|\//),qn=je.match(/\s|\//);if(ct||qn){const X=[`Unable to register library "${Nt}" with version "${je}":`];return ct&&X.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),ct&&qn&&X.push("and"),qn&&X.push(`version name "${je}" contains illegal characters (whitespace or "/")`),void q.warn(X.join(" "))}Dt(new j.wA(`${Nt}-version`,()=>({library:Nt,version:je}),"VERSION"))}function mt(st,je){if(null!==st&&"function"!=typeof st)throw cn.create("invalid-log-argument");(0,F.Am)(st,je)}function Vt(st){(0,F.Ub)(st)}const Vn="firebase-heartbeat-database",yn=1,Pn="firebase-heartbeat-store";let $r=null;function Ft(){return $r||($r=(0,ae.X3)(Vn,yn,{upgrade:(st,je)=>{0===je&&st.createObjectStore(Pn)}}).catch(st=>{throw cn.create("idb-open",{originalErrorMessage:st.message})})),$r}function Rt(){return(Rt=(0,I.Z)(function*(st){try{return(yield Ft()).transaction(Pn).objectStore(Pn).get($n(st))}catch(je){if(je instanceof re.ZR)q.warn(je.message);else{const pt=cn.create("idb-get",{originalErrorMessage:je?.message});q.warn(pt.message)}}})).apply(this,arguments)}function An(st,je){return vn.apply(this,arguments)}function vn(){return(vn=(0,I.Z)(function*(st,je){try{const Pt=(yield Ft()).transaction(Pn,"readwrite");return yield Pt.objectStore(Pn).put(je,$n(st)),Pt.done}catch(pt){if(pt instanceof re.ZR)q.warn(pt.message);else{const Pt=cn.create("idb-set",{originalErrorMessage:pt?.message});q.warn(Pt.message)}}})).apply(this,arguments)}function $n(st){return`${st.name}!${st.options.appId}`}class qr{constructor(je){this.container=je,this._heartbeatsCache=null;const pt=this.container.getProvider("app").getImmediate();this._storage=new an(pt),this._heartbeatsCachePromise=this._storage.read().then(Pt=>(this._heartbeatsCache=Pt,Pt))}triggerHeartbeat(){var je=this;return(0,I.Z)(function*(){const Pt=je.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=En();if(null===je._heartbeatsCache&&(je._heartbeatsCache=yield je._heartbeatsCachePromise),je._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!je._heartbeatsCache.heartbeats.some(ct=>ct.date===Nt))return je._heartbeatsCache.heartbeats.push({date:Nt,agent:Pt}),je._heartbeatsCache.heartbeats=je._heartbeatsCache.heartbeats.filter(ct=>{const qn=new Date(ct.date).valueOf();return Date.now()-qn<=2592e6}),je._storage.overwrite(je._heartbeatsCache)})()}getHeartbeatsHeader(){var je=this;return(0,I.Z)(function*(){if(null===je._heartbeatsCache&&(yield je._heartbeatsCachePromise),null===je._heartbeatsCache||0===je._heartbeatsCache.heartbeats.length)return"";const pt=En(),{heartbeatsToSend:Pt,unsentEntries:Nt}=function Ir(st,je=1024){const pt=[];let Pt=st.slice();for(const Nt of st){const ct=pt.find(qn=>qn.agent===Nt.agent);if(ct){if(ct.dates.push(Nt.date),Yn(pt)>je){ct.dates.pop();break}}else if(pt.push({agent:Nt.agent,dates:[Nt.date]}),Yn(pt)>je){pt.pop();break}Pt=Pt.slice(1)}return{heartbeatsToSend:pt,unsentEntries:Pt}}(je._heartbeatsCache.heartbeats),ct=(0,re.L)(JSON.stringify({version:2,heartbeats:Pt}));return je._heartbeatsCache.lastSentHeartbeatDate=pt,Nt.length>0?(je._heartbeatsCache.heartbeats=Nt,yield je._storage.overwrite(je._heartbeatsCache)):(je._heartbeatsCache.heartbeats=[],je._storage.overwrite(je._heartbeatsCache)),ct})()}}function En(){return(new Date).toISOString().substring(0,10)}class an{constructor(je){this.app=je,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var je=this;return(0,I.Z)(function*(){return(yield je._canUseIndexedDBPromise)&&(yield function vt(st){return Rt.apply(this,arguments)}(je.app))||{heartbeats:[]}})()}overwrite(je){var pt=this;return(0,I.Z)(function*(){var Pt;if(yield pt._canUseIndexedDBPromise){const ct=yield pt.read();return An(pt.app,{lastSentHeartbeatDate:null!==(Pt=je.lastSentHeartbeatDate)&&void 0!==Pt?Pt:ct.lastSentHeartbeatDate,heartbeats:je.heartbeats})}})()}add(je){var pt=this;return(0,I.Z)(function*(){var Pt;if(yield pt._canUseIndexedDBPromise){const ct=yield pt.read();return An(pt.app,{lastSentHeartbeatDate:null!==(Pt=je.lastSentHeartbeatDate)&&void 0!==Pt?Pt:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...je.heartbeats]})}})()}}function Yn(st){return(0,re.L)(JSON.stringify({version:2,heartbeats:st})).length}!function Or(st){Dt(new j.wA("platform-logger",je=>new de(je),"PRIVATE")),Dt(new j.wA("heartbeat",je=>new qr(je),"PRIVATE")),_n(he,"0.9.4",st),_n(he,"0.9.4","esm2017"),_n("fire-js","")}("")},4859:(It,Ie,k)=>{k.d(Ie,{H0:()=>he,wA:()=>F,zt:()=>ae});var I=k(5861),j=k(2090);class F{constructor(q,Q,se){this.name=q,this.instanceFactory=Q,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const re="[DEFAULT]";class ae{constructor(q,Q){this.name=q,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const Q=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(Q)){const se=new j.BH;if(this.instancesDeferred.set(Q,se),this.isInitialized(Q)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:Q});Ke&&se.resolve(Ke)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(q){var Q;const se=this.normalizeInstanceIdentifier(q?.identifier),Ke=null!==(Q=q?.optional)&&void 0!==Q&&Q;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Le){if(Ke)return null;throw Le}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ge(_e){return"EAGER"===_e.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[Q,se]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(Q);try{const Le=this.getOrInitializeService({instanceIdentifier:Ke});se.resolve(Le)}catch{}}}}clearInstance(q=re){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,I.Z)(function*(){const Q=Array.from(q.instances.values());yield Promise.all([...Q.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...Q.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=re){return this.instances.has(q)}getOptions(q=re){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:Q={}}=q,se=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:se,options:Q});for(const[Le,Ne]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Le)&&Ne.resolve(Ke);return Ke}onInit(q,Q){var se;const Ke=this.normalizeInstanceIdentifier(Q),Le=null!==(se=this.onInitCallbacks.get(Ke))&&void 0!==se?se:new Set;Le.add(q),this.onInitCallbacks.set(Ke,Le);const Ne=this.instances.get(Ke);return Ne&&q(Ne,Ke),()=>{Le.delete(q)}}invokeOnInitCallbacks(q,Q){const se=this.onInitCallbacks.get(Q);if(se)for(const Ke of se)try{Ke(q,Q)}catch{}}getOrInitializeService({instanceIdentifier:q,options:Q={}}){let se=this.instances.get(q);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=q,_e===re?void 0:_e),options:Q}),this.instances.set(q,se),this.instancesOptions.set(q,Q),this.invokeOnInitCallbacks(se,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,se)}catch{}var _e;return se||null}normalizeInstanceIdentifier(q=re){return this.component?this.component.multipleInstances?q:re:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const Q=this.getProvider(q.name);if(Q.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);Q.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const Q=new ae(q,this);return this.providers.set(q,Q),Q}getProviders(){return Array.from(this.providers.values())}}},1877:(It,Ie,k)=>{k.d(Ie,{Am:()=>_e,Ub:()=>he,Yd:()=>ge,in:()=>j});const I=[];var j=(()=>{return(q=j||(j={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",j;var q})();const F={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},re=j.INFO,ae={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},de=(q,Q,...se)=>{if(Q<q.logLevel)return;const Ke=(new Date).toISOString(),Le=ae[Q];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[Le](`[${Ke}]  ${q.name}:`,...se)};class ge{constructor(Q){this.name=Q,this._logLevel=re,this._logHandler=de,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in j))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?F[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...Q),this._logHandler(this,j.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...Q),this._logHandler(this,j.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,j.INFO,...Q),this._logHandler(this,j.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,j.WARN,...Q),this._logHandler(this,j.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...Q),this._logHandler(this,j.ERROR,...Q)}}function he(q){I.forEach(Q=>{Q.setLogLevel(q)})}function _e(q,Q){for(const se of I){let Ke=null;Q&&Q.level&&(Ke=F[Q.level]),se.userLogHandler=null===q?null:(Le,Ne,..._t)=>{const be=_t.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");Ne>=(Ke??Le.logLevel)&&q({level:j[Ne].toLowerCase(),message:be,args:_t,type:Le.name})}}}},259:(It,Ie,k)=>{k.d(Ie,{C6:()=>I.getApps,Mq:()=>I.getApp});var I=k(9681);(0,I.registerVersion)("firebase","9.17.2","app")},9260:(It,Ie,k)=>{k.d(Ie,{Z:()=>I.Z});var I=k(3942);I.Z.registerVersion("firebase","9.17.2","app-compat")},4217:(It,Ie,k)=>{k.r(Ie);var I=k(5861),j=k(3942),F=k(2090),re=k(9681),ae=k(1877),de=k(655),ge=k(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se_EMAIL_SIGNIN="EMAIL_SIGNIN",se_PASSWORD_RESET="PASSWORD_RESET",se_RECOVER_EMAIL="RECOVER_EMAIL",se_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",se_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",se_VERIFY_EMAIL="VERIFY_EMAIL";const Ne=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_t=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new ae.Yd("@firebase/auth");function Qe(p,...l){Be.logLevel<=ae.in.ERROR&&Be.error(`Auth (${re.SDK_VERSION}): ${p}`,...l)}function Pe(p,...l){throw Ye(p,...l)}function Oe(p,...l){return Ye(p,...l)}function We(p,l,d){const E=Object.assign(Object.assign({},_t()),{[l]:d});return new F.LL("auth","Firebase",E).create(l,{appName:p.name})}function et(p,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&Pe(p,"argument-error"),We(p,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(p,...l){if("string"!=typeof p){const d=l[0],E=[...l.slice(1)];return E[0]&&(E[0].appName=p.name),p._errorFactory.create(d,...E)}return be.create(p,...l)}function Y(p,l,...d){if(!p)throw Ye(l,...d)}function Ae(p){const l="INTERNAL ASSERTION FAILED: "+p;throw Qe(l),new Error(l)}function nt(p,l){p||Ae(l)}const qe=new Map;function wt(p){nt(p instanceof Function,"Expected a class definition");let l=qe.get(p);return l?(nt(l instanceof p,"Instance stored in cache mismatched with class"),l):(l=new p,qe.set(p,l),l)}function De(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Ee(){return"http:"===Ce()||"https:"===Ce()}function Ce(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Je{constructor(l,d){this.shortDelay=l,this.longDelay=d,nt(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ee()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xe(p,l){nt(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class Lt{static initialize(l,d,E){this.fetchImpl=l,d&&(this.headersImpl=d),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const it={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dt=new Je(3e4,6e4);function at(p,l){return p.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:p.tenantId}):l}function St(p,l,d,E){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,I.Z)(function*(p,l,d,E,N={}){return Jt(p,N,(0,I.Z)(function*(){let $={},ce={};E&&("GET"===l?ce=E:$={body:JSON.stringify(E)});const Re=(0,F.xO)(Object.assign({key:p.config.apiKey},ce)).slice(1),ht=yield p._getAdditionalHeaders();return ht["Content-Type"]="application/json",p.languageCode&&(ht["X-Firebase-Locale"]=p.languageCode),Lt.fetch()(fn(p,p.config.apiHost,d,Re),Object.assign({method:l,headers:ht,referrerPolicy:"no-referrer"},$))}))})).apply(this,arguments)}function Jt(p,l,d){return cn.apply(this,arguments)}function cn(){return(cn=(0,I.Z)(function*(p,l,d){p._canInitEmulator=!1;const E=Object.assign(Object.assign({},it),l);try{const N=new Fn(p),$=yield Promise.race([d(),N.promise]);N.clearNetworkTimeout();const ce=yield $.json();if("needConfirmation"in ce)throw Bn(p,"account-exists-with-different-credential",ce);if($.ok&&!("errorMessage"in ce))return ce;{const Re=$.ok?ce.errorMessage:ce.error.message,[ht,Mt]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ht)throw Bn(p,"credential-already-in-use",ce);if("EMAIL_EXISTS"===ht)throw Bn(p,"email-already-in-use",ce);if("USER_DISABLED"===ht)throw Bn(p,"user-disabled",ce);const qt=E[ht]||ht.toLowerCase().replace(/[_\s]+/g,"-");if(Mt)throw We(p,qt,Mt);Pe(p,qt)}}catch(N){if(N instanceof F.ZR)throw N;Pe(p,"internal-error",{message:String(N)})}})).apply(this,arguments)}function bn(p,l,d,E){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,I.Z)(function*(p,l,d,E,N={}){const $=yield St(p,l,d,E,N);return"mfaPendingCredential"in $&&Pe(p,"multi-factor-auth-required",{_serverResponse:$}),$})).apply(this,arguments)}function fn(p,l,d,E){const N=`${l}${d}?${E}`;return p.config.emulator?Xe(p.config,N):`${p.config.apiScheme}://${N}`}class Fn{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,E)=>{this.timer=setTimeout(()=>E(Oe(this.auth,"network-request-failed")),Dt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(p,l,d){const E={appName:p.name};d.email&&(E.email=d.email),d.phoneNumber&&(E.phoneNumber=d.phoneNumber);const N=Oe(p,l,E);return N.customData._tokenResponse=d,N}function bt(){return(bt=(0,I.Z)(function*(p,l){return St(p,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function mt(){return(mt=(0,I.Z)(function*(p,l){return St(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Vn(){return(Vn=(0,I.Z)(function*(p,l){return St(p,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function yn(p){if(p)try{const l=new Date(Number(p));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Ft(){return(Ft=(0,I.Z)(function*(p,l=!1){const d=(0,F.m9)(p),E=yield d.getIdToken(l),N=Rt(E);Y(N&&N.exp&&N.auth_time&&N.iat,d.auth,"internal-error");const $="object"==typeof N.firebase?N.firebase:void 0,ce=$?.sign_in_provider;return{claims:N,token:E,authTime:yn(vt(N.auth_time)),issuedAtTime:yn(vt(N.iat)),expirationTime:yn(vt(N.exp)),signInProvider:ce||null,signInSecondFactor:$?.sign_in_second_factor||null}})).apply(this,arguments)}function vt(p){return 1e3*Number(p)}function Rt(p){const[l,d,E]=p.split(".");if(void 0===l||void 0===d||void 0===E)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,F.tV)(d);return N?JSON.parse(N):(Qe("Failed to decode base64 JWT payload"),null)}catch(N){return Qe("Caught error parsing JWT payload as JSON",N?.toString()),null}}function vn(p,l){return $n.apply(this,arguments)}function $n(){return($n=(0,I.Z)(function*(p,l,d=!1){if(d)return l;try{return yield l}catch(E){throw E instanceof F.ZR&&function dn({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(E)&&p.auth.currentUser===p&&(yield p.auth.signOut()),E}})).apply(this,arguments)}class kn{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const N=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const E=this.getInterval(l);this.timerId=setTimeout((0,I.Z)(function*(){yield d.iteration()}),E)}iteration(){var l=this;return(0,I.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&l.schedule(!0))}l.schedule()})()}}class qr{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=yn(this.lastLoginAt),this.creationTime=yn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function En(p){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,I.Z)(function*(p){var l;const d=p.auth,E=yield p.getIdToken(),N=yield vn(p,function Vt(p,l){return Vn.apply(this,arguments)}(d,{idToken:E}));Y(N?.users.length,d,"internal-error");const $=N.users[0];p._notifyReloadListener($);const ce=null!==(l=$.providerUserInfo)&&void 0!==l&&l.length?function st(p){return p.map(l=>{var{providerId:d}=l,E=(0,de._T)(l,["providerId"]);return{providerId:d,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}($.providerUserInfo):[],Re=function Or(p,l){return[...p.filter(E=>!l.some(N=>N.providerId===E.providerId)),...l]}(p.providerData,ce),qt=!!p.isAnonymous&&!(p.email&&$.passwordHash||Re?.length),zt={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:Re,metadata:new qr($.createdAt,$.lastLoginAt),isAnonymous:qt};Object.assign(p,zt)}),Ir.apply(this,arguments)}function Yn(){return(Yn=(0,I.Z)(function*(p){const l=(0,F.m9)(p);yield En(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function pt(){return(pt=(0,I.Z)(function*(p,l){const d=yield Jt(p,{},(0,I.Z)(function*(){const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:N,apiKey:$}=p.config,ce=fn(p,N,"/v1/token",`key=${$}`),Re=yield p._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",Lt.fetch()(ce,{method:"POST",headers:Re,body:E})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class Pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){Y(l.idToken,"internal-error"),Y(typeof l.idToken<"u","internal-error"),Y(typeof l.refreshToken<"u","internal-error");const d="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function An(p){const l=Rt(p);return Y(l,"internal-error"),Y(typeof l.exp<"u","internal-error"),Y(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var E=this;return(0,I.Z)(function*(){return Y(!E.accessToken||E.refreshToken,l,"user-token-expired"),d||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(l,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var E=this;return(0,I.Z)(function*(){const{accessToken:N,refreshToken:$,expiresIn:ce}=yield function je(p,l){return pt.apply(this,arguments)}(l,d);E.updateTokensAndExpiration(N,$,Number(ce))})()}updateTokensAndExpiration(l,d,E){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(l,d){const{refreshToken:E,accessToken:N,expirationTime:$}=d,ce=new Pt;return E&&(Y("string"==typeof E,"internal-error",{appName:l}),ce.refreshToken=E),N&&(Y("string"==typeof N,"internal-error",{appName:l}),ce.accessToken=N),$&&(Y("number"==typeof $,"internal-error",{appName:l}),ce.expirationTime=$),ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Pt,this.toJSON())}_performRefresh(){return Ae("not implemented")}}function Nt(p,l){Y("string"==typeof p||typeof p>"u","internal-error",{appName:l})}class ct{constructor(l){var{uid:d,auth:E,stsTokenManager:N}=l,$=(0,de._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=E,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=$.displayName||null,this.email=$.email||null,this.emailVerified=$.emailVerified||!1,this.phoneNumber=$.phoneNumber||null,this.photoURL=$.photoURL||null,this.isAnonymous=$.isAnonymous||!1,this.tenantId=$.tenantId||null,this.providerData=$.providerData?[...$.providerData]:[],this.metadata=new qr($.createdAt||void 0,$.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,I.Z)(function*(){const E=yield vn(d,d.stsTokenManager.getToken(d.auth,l));return Y(E,d.auth,"internal-error"),d.accessToken!==E&&(d.accessToken=E,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),E})()}getIdTokenResult(l){return function $r(p){return Ft.apply(this,arguments)}(this,l)}reload(){return function an(p){return Yn.apply(this,arguments)}(this)}_assign(l){this!==l&&(Y(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new ct(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var E=this;return(0,I.Z)(function*(){let N=!1;l.idToken&&l.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(l),N=!0),d&&(yield En(E)),yield E.auth._persistUserIfCurrent(E),N&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var l=this;return(0,I.Z)(function*(){const d=yield l.getIdToken();return yield vn(l,function Mn(p,l){return bt.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var E,N,$,ce,Re,ht,Mt,qt;const zt=null!==(E=d.displayName)&&void 0!==E?E:void 0,Yr=null!==(N=d.email)&&void 0!==N?N:void 0,ho=null!==($=d.phoneNumber)&&void 0!==$?$:void 0,tl=null!==(ce=d.photoURL)&&void 0!==ce?ce:void 0,Br=null!==(Re=d.tenantId)&&void 0!==Re?Re:void 0,Ra=null!==(ht=d._redirectEventId)&&void 0!==ht?ht:void 0,Rl=null!==(Mt=d.createdAt)&&void 0!==Mt?Mt:void 0,Hl=null!==(qt=d.lastLoginAt)&&void 0!==qt?qt:void 0,{uid:Wl,emailVerified:tc,isAnonymous:Lc,providerData:nc,stsTokenManager:zl}=d;Y(Wl&&zl,l,"internal-error");const Eu=Pt.fromJSON(this.name,zl);Y("string"==typeof Wl,l,"internal-error"),Nt(zt,l.name),Nt(Yr,l.name),Y("boolean"==typeof tc,l,"internal-error"),Y("boolean"==typeof Lc,l,"internal-error"),Nt(ho,l.name),Nt(tl,l.name),Nt(Br,l.name),Nt(Ra,l.name),Nt(Rl,l.name),Nt(Hl,l.name);const Iu=new ct({uid:Wl,auth:l,email:Yr,emailVerified:tc,displayName:zt,isAnonymous:Lc,photoURL:tl,phoneNumber:ho,tenantId:Br,stsTokenManager:Eu,createdAt:Rl,lastLoginAt:Hl});return nc&&Array.isArray(nc)&&(Iu.providerData=nc.map(cd=>Object.assign({},cd))),Ra&&(Iu._redirectEventId=Ra),Iu}static _fromIdTokenResponse(l,d,E=!1){return(0,I.Z)(function*(){const N=new Pt;N.updateFromServerResponse(d);const $=new ct({uid:d.localId,auth:l,stsTokenManager:N,isAnonymous:E});return yield En($),$})()}}const X=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(d,E){var N=this;return(0,I.Z)(function*(){N.storage[d]=E})()}_get(d){var E=this;return(0,I.Z)(function*(){const N=E.storage[d];return void 0===N?null:N})()}_remove(d){var E=this;return(0,I.Z)(function*(){delete E.storage[d]})()}_addListener(d,E){}_removeListener(d,E){}}return p.type="NONE",p})();function K(p,l,d){return`firebase:${p}:${l}:${d}`}class oe{constructor(l,d,E){this.persistence=l,this.auth=d,this.userKey=E;const{config:N,name:$}=this.auth;this.fullUserKey=K(this.userKey,N.apiKey,$),this.fullPersistenceKey=K("persistence",N.apiKey,$),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,I.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?ct._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,I.Z)(function*(){if(d.persistence===l)return;const E=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,E?d.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,E="authUser"){return(0,I.Z)(function*(){if(!d.length)return new oe(wt(X),l,E);const N=(yield Promise.all(d.map(function(){var Mt=(0,I.Z)(function*(qt){if(yield qt._isAvailable())return qt});return function(qt){return Mt.apply(this,arguments)}}()))).filter(Mt=>Mt);let $=N[0]||wt(X);const ce=K(E,l.config.apiKey,l.name);let Re=null;for(const Mt of d)try{const qt=yield Mt._get(ce);if(qt){const zt=ct._fromJSON(l,qt);Mt!==$&&(Re=zt),$=Mt;break}}catch{}const ht=N.filter(Mt=>Mt._shouldAllowMigration);return $._shouldAllowMigration&&ht.length?($=ht[0],Re&&(yield $._set(ce,Re.toJSON())),yield Promise.all(d.map(function(){var Mt=(0,I.Z)(function*(qt){if(qt!==$)try{yield qt._remove(ce)}catch{}});return function(qt){return Mt.apply(this,arguments)}}())),new oe($,l,E)):new oe($,l,E)})()}}function Se(p){const l=p.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(ne(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(me(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(pe(l))return"Blackberry";if(xe(l))return"Webos";if(ft(l))return"Safari";if((l.includes("chrome/")||ee(l))&&!l.includes("edge/"))return"Chrome";if(H(l))return"Android";{const E=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function me(p=(0,F.z$)()){return/firefox\//i.test(p)}function ft(p=(0,F.z$)()){const l=p.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function ee(p=(0,F.z$)()){return/crios\//i.test(p)}function ne(p=(0,F.z$)()){return/iemobile/i.test(p)}function H(p=(0,F.z$)()){return/android/i.test(p)}function pe(p=(0,F.z$)()){return/blackberry/i.test(p)}function xe(p=(0,F.z$)()){return/webos/i.test(p)}function ze(p=(0,F.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function as(p=(0,F.z$)()){return ze(p)||H(p)||xe(p)||pe(p)||/windows phone/i.test(p)||ne(p)}function zi(p,l=[]){let d;switch(p){case"Browser":d=Se((0,F.z$)());break;case"Worker":d=`${Se((0,F.z$)())}-${p}`;break;default:d=p}const E=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${re.SDK_VERSION}/${E}`}class Mi{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,d){const E=$=>new Promise((ce,Re)=>{try{ce(l($))}catch(ht){Re(ht)}});E.onAbort=d,this.queue.push(E);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(l){var d=this;return(0,I.Z)(function*(){if(d.auth.currentUser===l)return;const E=[];try{for(const N of d.queue)yield N(l),N.onAbort&&E.push(N.onAbort)}catch(N){E.reverse();for(const $ of E)try{$()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}class No{constructor(l,d,E){this.app=l,this.heartbeatServiceProvider=d,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ls(this),this.idTokenSubscription=new ls(this),this.beforeStateQueue=new Mi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(l,d){var E=this;return d&&(this._popupRedirectResolver=wt(d)),this._initializationPromise=this.queue((0,I.Z)(function*(){var N,$;if(!E._deleted&&(E.persistenceManager=yield oe.create(E,l),!E._deleted)){if(null!==(N=E._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(d),E.lastNotifiedUid=(null===($=E.currentUser)||void 0===$?void 0:$.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,I.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d,!0)}})()}initializeCurrentUser(l){var d=this;return(0,I.Z)(function*(){var E;const N=yield d.assertedPersistence.getCurrentUser();let $=N,ce=!1;if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Re=null===(E=d.redirectUser)||void 0===E?void 0:E._redirectEventId,ht=$?._redirectEventId,Mt=yield d.tryRedirectSignIn(l);(!Re||Re===ht)&&Mt?.user&&($=Mt.user,ce=!0)}if(!$)return d.directlySetCurrentUser(null);if(!$._redirectEventId){if(ce)try{yield d.beforeStateQueue.runMiddleware($)}catch(Re){$=N,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Re))}return $?d.reloadAndSetCurrentUserOrClear($):d.directlySetCurrentUser(null)}return Y(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===$._redirectEventId?d.directlySetCurrentUser($):d.reloadAndSetCurrentUserOrClear($)})()}tryRedirectSignIn(l){var d=this;return(0,I.Z)(function*(){let E=null;try{E=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch{yield d._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,I.Z)(function*(){try{yield En(l)}catch(E){if("auth/network-request-failed"!==E?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function ke(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var l=this;return(0,I.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,I.Z)(function*(){const E=l?(0,F.m9)(l):null;return E&&Y(E.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(E&&E._clone(d))})()}_updateCurrentUser(l,d=!1){var E=this;return(0,I.Z)(function*(){if(!E._deleted)return l&&Y(E.tenantId===l.tenantId,E,"tenant-id-mismatch"),d||(yield E.beforeStateQueue.runMiddleware(l)),E.queue((0,I.Z)(function*(){yield E.directlySetCurrentUser(l),E.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,I.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var d=this;return this.queue((0,I.Z)(function*(){yield d.assertedPersistence.setPersistence(wt(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new F.LL("auth","Firebase",l())}onAuthStateChanged(l,d,E){return this.registerStateListener(this.authStateSubscription,l,d,E)}beforeAuthStateChanged(l,d){return this.beforeStateQueue.pushCallback(l,d)}onIdTokenChanged(l,d,E){return this.registerStateListener(this.idTokenSubscription,l,d,E)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var E=this;return(0,I.Z)(function*(){const N=yield E.getOrInitRedirectPersistenceManager(d);return null===l?N.removeCurrentUser():N.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,I.Z)(function*(){if(!d.redirectPersistenceManager){const E=l&&wt(l)||d._popupRedirectResolver;Y(E,d,"argument-error"),d.redirectPersistenceManager=yield oe.create(d,[wt(E._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,I.Z)(function*(){var E,N;return d._isInitialized&&(yield d.queue((0,I.Z)(function*(){}))),(null===(E=d._currentUser)||void 0===E?void 0:E._redirectEventId)===l?d._currentUser:(null===(N=d.redirectUser)||void 0===N?void 0:N._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,I.Z)(function*(){if(l===d.currentUser)return d.queue((0,I.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,E,N){if(this._deleted)return()=>{};const $="function"==typeof d?d:d.next.bind(d),ce=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(ce,this,"internal-error"),ce.then(()=>$(this.currentUser)),"function"==typeof d?l.addObserver(d,E,N):l.addObserver(d)}directlySetCurrentUser(l){var d=this;return(0,I.Z)(function*(){d.currentUser&&d.currentUser!==l&&d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh(),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=zi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,I.Z)(function*(){var d;const E={"X-Client-Version":l.clientVersion};l.app.options.appId&&(E["X-Firebase-gmpid"]=l.app.options.appId);const N=yield null===(d=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();return N&&(E["X-Firebase-Client"]=N),E})()}}function Qn(p){return(0,F.m9)(p)}class ls{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,F.ne)(d=>this.observer=d)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gn(p){const l=p.indexOf(":");return l<0?"":p.substr(0,l+1)}function sr(p){if(!p)return null;const l=Number(p);return isNaN(l)?null:l}class jn{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return Ae("not implemented")}_getIdTokenResponse(l){return Ae("not implemented")}_linkToIdToken(l,d){return Ae("not implemented")}_getReauthenticationResolver(l){return Ae("not implemented")}}function Hn(p,l){return gt.apply(this,arguments)}function gt(){return(gt=(0,I.Z)(function*(p,l){return St(p,"POST","/v1/accounts:resetPassword",at(p,l))})).apply(this,arguments)}function Gt(p,l){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,I.Z)(function*(p,l){return St(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Sr(){return(Sr=(0,I.Z)(function*(p,l){return St(p,"POST","/v1/accounts:update",at(p,l))})).apply(this,arguments)}function fr(){return(fr=(0,I.Z)(function*(p,l){return bn(p,"POST","/v1/accounts:signInWithPassword",at(p,l))})).apply(this,arguments)}function xn(p,l){return ri.apply(this,arguments)}function ri(){return(ri=(0,I.Z)(function*(p,l){return St(p,"POST","/v1/accounts:sendOobCode",at(p,l))})).apply(this,arguments)}function $t(){return($t=(0,I.Z)(function*(p,l){return xn(p,l)})).apply(this,arguments)}function cs(){return(cs=(0,I.Z)(function*(p,l){return xn(p,l)})).apply(this,arguments)}function ii(){return(ii=(0,I.Z)(function*(p,l){return xn(p,l)})).apply(this,arguments)}function gr(){return(gr=(0,I.Z)(function*(p,l){return xn(p,l)})).apply(this,arguments)}function Nr(){return(Nr=(0,I.Z)(function*(p,l){return bn(p,"POST","/v1/accounts:signInWithEmailLink",at(p,l))})).apply(this,arguments)}function Ys(){return(Ys=(0,I.Z)(function*(p,l){return bn(p,"POST","/v1/accounts:signInWithEmailLink",at(p,l))})).apply(this,arguments)}class Tn extends jn{constructor(l,d,E,N=null){super("password",E),this._email=l,this._password=d,this._tenantId=N}static _fromEmailAndPassword(l,d){return new Tn(l,d,"password")}static _fromEmailAndCode(l,d,E=null){return new Tn(l,d,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,I.Z)(function*(){switch(d.signInMethod){case"password":return function wn(p,l){return fr.apply(this,arguments)}(l,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function Gi(p,l){return Nr.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:Pe(l,"internal-error")}})()}_linkToIdToken(l,d){var E=this;return(0,I.Z)(function*(){switch(E.signInMethod){case"password":return Gt(l,{idToken:d,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ki(p,l){return Ys.apply(this,arguments)}(l,{idToken:d,email:E._email,oobCode:E._password});default:Pe(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Hr(p,l){return le.apply(this,arguments)}function le(){return(le=(0,I.Z)(function*(p,l){return bn(p,"POST","/v1/accounts:signInWithIdp",at(p,l))})).apply(this,arguments)}class fe extends jn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new fe(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):Pe("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:E,signInMethod:N}=d,$=(0,de._T)(d,["providerId","signInMethod"]);if(!E||!N)return null;const ce=new fe(E,N);return ce.idToken=$.idToken||void 0,ce.accessToken=$.accessToken||void 0,ce.secret=$.secret,ce.nonce=$.nonce,ce.pendingToken=$.pendingToken||null,ce}_getIdTokenResponse(l){return Hr(l,this.buildRequest())}_linkToIdToken(l,d){const E=this.buildRequest();return E.idToken=d,Hr(l,E)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Hr(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,F.xO)(d)}return l}}function tt(){return(tt=(0,I.Z)(function*(p,l){return St(p,"POST","/v1/accounts:sendVerificationCode",at(p,l))})).apply(this,arguments)}function Kt(){return(Kt=(0,I.Z)(function*(p,l){return bn(p,"POST","/v1/accounts:signInWithPhoneNumber",at(p,l))})).apply(this,arguments)}function nn(){return(nn=(0,I.Z)(function*(p,l){const d=yield bn(p,"POST","/v1/accounts:signInWithPhoneNumber",at(p,l));if(d.temporaryProof)throw Bn(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const hn={USER_NOT_FOUND:"user-not-found"};function Ut(){return(Ut=(0,I.Z)(function*(p,l){return bn(p,"POST","/v1/accounts:signInWithPhoneNumber",at(p,Object.assign(Object.assign({},l),{operation:"REAUTH"})),hn)})).apply(this,arguments)}class Xn extends jn{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new Xn({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new Xn({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function yt(p,l){return Kt.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function In(p,l){return nn.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function ln(p,l){return Ut.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:E,verificationCode:N}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:E,code:N}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:E,phoneNumber:N,temporaryProof:$}=l;return E||d||N||$?new Xn({verificationId:d,verificationCode:E,phoneNumber:N,temporaryProof:$}):null}}class qs{constructor(l){var d,E,N,$,ce,Re;const ht=(0,F.zd)((0,F.pd)(l)),Mt=null!==(d=ht.apiKey)&&void 0!==d?d:null,qt=null!==(E=ht.oobCode)&&void 0!==E?E:null,zt=function Un(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ht.mode)&&void 0!==N?N:null);Y(Mt&&qt&&zt,"argument-error"),this.apiKey=Mt,this.operation=zt,this.code=qt,this.continueUrl=null!==($=ht.continueUrl)&&void 0!==$?$:null,this.languageCode=null!==(ce=ht.languageCode)&&void 0!==ce?ce:null,this.tenantId=null!==(Re=ht.tenantId)&&void 0!==Re?Re:null}static parseLink(l){const d=function po(p){const l=(0,F.zd)((0,F.pd)(p)).link,d=l?(0,F.zd)((0,F.pd)(l)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(p)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||d||l||p}(l);try{return new qs(d)}catch{return null}}}let go=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,E){return Tn._fromEmailAndPassword(d,E)}static credentialWithLink(d,E){const N=qs.parseLink(E);return Y(N,"argument-error"),Tn._fromEmailAndCode(d,N.code,N.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Sn{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Xt extends Sn{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class pr extends Xt{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return Y("providerId"in d&&"signInMethod"in d,"argument-error"),fe._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return Y(l.idToken||l.accessToken,"argument-error"),fe._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return pr.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return pr.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:E,oauthTokenSecret:N,pendingToken:$,nonce:ce,providerId:Re}=l;if(!E&&!N&&!d&&!$||!Re)return null;try{return new pr(Re)._credential({idToken:d,accessToken:E,nonce:ce,pendingToken:$})}catch{return null}}}let xo=(()=>{class p extends Xt{constructor(){super("facebook.com")}static credential(d){return fe._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),ko=(()=>{class p extends Xt{constructor(){super("google.com"),this.addScope("profile")}static credential(d,E){return fe._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:E})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:E,oauthAccessToken:N}=d;if(!E&&!N)return null;try{return p.credential(E,N)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Wr=(()=>{class p extends Xt{constructor(){super("github.com")}static credential(d){return fe._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Zi extends jn{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return Hr(l,this.buildRequest())}_linkToIdToken(l,d){const E=this.buildRequest();return E.idToken=d,Hr(l,E)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Hr(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:E,signInMethod:N,pendingToken:$}=d;return E&&N&&$&&E===N?new Zi(E,$):null}static _create(l,d){return new Zi(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Dr extends Sn{constructor(l){Y(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Dr.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Dr.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=Zi.fromJSON(l);return Y(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:E}=l;if(!d||!E)return null;try{return Zi._create(E,d)}catch{return null}}}let ds=(()=>{class p extends Xt{constructor(){super("twitter.com")}static credential(d,E){return fe._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:E})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:E,oauthTokenSecret:N}=d;if(!E||!N)return null;try{return p.credential(E,N)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Yi(p,l){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,I.Z)(function*(p,l){return bn(p,"POST","/v1/accounts:signUp",at(p,l))})).apply(this,arguments)}class mr{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,E,N=!1){return(0,I.Z)(function*(){const $=yield ct._fromIdTokenResponse(l,E,N),ce=Lo(E);return new mr({user:$,providerId:ce,_tokenResponse:E,operationType:d})})()}static _forOperation(l,d,E){return(0,I.Z)(function*(){yield l._updateTokensIfNecessary(E,!0);const N=Lo(E);return new mr({user:l,providerId:N,_tokenResponse:E,operationType:d})})()}}function Lo(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function si(){return(si=(0,I.Z)(function*(p){var l;const d=Qn(p);if(yield d._initializationPromise,null!==(l=d.currentUser)&&void 0!==l&&l.isAnonymous)return new mr({user:d.currentUser,providerId:null,operationType:"signIn"});const E=yield Yi(d,{returnSecureToken:!0}),N=yield mr._fromIdTokenResponse(d,"signIn",E,!0);return yield d._updateCurrentUser(N.user),N})).apply(this,arguments)}class Qs extends F.ZR{constructor(l,d,E,N){var $;super(d.code,d.message),this.operationType=E,this.user=N,Object.setPrototypeOf(this,Qs.prototype),this.customData={appName:l.name,tenantId:null!==($=l.tenantId)&&void 0!==$?$:void 0,_serverResponse:d.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(l,d,E,N){return new Qs(l,d,E,N)}}function xs(p,l,d,E){return("reauthenticate"===l?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch($=>{throw"auth/multi-factor-auth-required"===$.code?Qs._fromErrorAndOperation(p,$,l,E):$})}function Rr(p){return new Set(p.map(({providerId:l})=>l).filter(l=>!!l))}function gi(){return gi=(0,I.Z)(function*(p,l){const d=(0,F.m9)(p);yield Mr(!0,d,l);const{providerUserInfo:E}=yield function _n(p,l){return mt.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),N=Rr(E||[]);return d.providerData=d.providerData.filter($=>N.has($.providerId)),N.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),gi.apply(this,arguments)}function qi(p,l){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,I.Z)(function*(p,l,d=!1){const E=yield vn(p,l._linkToIdToken(p.auth,yield p.getIdToken()),d);return mr._forOperation(p,"link",E)})).apply(this,arguments)}function Mr(p,l,d){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,I.Z)(function*(p,l,d){yield En(l);const N=!1===p?"provider-already-linked":"no-such-provider";Y(Rr(l.providerData).has(d)===p,l.auth,N)})).apply(this,arguments)}function xr(p,l){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,I.Z)(function*(p,l,d=!1){const{auth:E}=p,N="reauthenticate";try{const $=yield vn(p,xs(E,N,l,p),d);Y($.idToken,E,"internal-error");const ce=Rt($.idToken);Y(ce,E,"internal-error");const{sub:Re}=ce;return Y(p.uid===Re,E,"user-mismatch"),mr._forOperation(p,N,$)}catch($){throw"auth/user-not-found"===$?.code&&Pe(E,"user-mismatch"),$}})).apply(this,arguments)}function lr(p,l){return mo.apply(this,arguments)}function mo(){return(mo=(0,I.Z)(function*(p,l,d=!1){const E="signIn",N=yield xs(p,E,l),$=yield mr._fromIdTokenResponse(p,E,N);return d||(yield p._updateCurrentUser($.user)),$})).apply(this,arguments)}function un(p,l){return Js.apply(this,arguments)}function Js(){return(Js=(0,I.Z)(function*(p,l){return lr(Qn(p),l)})).apply(this,arguments)}function oi(p,l){return or.apply(this,arguments)}function or(){return(or=(0,I.Z)(function*(p,l){const d=(0,F.m9)(p);return yield Mr(!1,d,l.providerId),qi(d,l)})).apply(this,arguments)}function hs(p,l){return xi.apply(this,arguments)}function xi(){return(xi=(0,I.Z)(function*(p,l){return xr((0,F.m9)(p),l)})).apply(this,arguments)}function hr(){return(hr=(0,I.Z)(function*(p,l){return bn(p,"POST","/v1/accounts:signInWithCustomToken",at(p,l))})).apply(this,arguments)}function fs(){return fs=(0,I.Z)(function*(p,l){const d=Qn(p),E=yield function zr(p,l){return hr.apply(this,arguments)}(d,{token:l,returnSecureToken:!0}),N=yield mr._fromIdTokenResponse(d,"signIn",E);return yield d._updateCurrentUser(N.user),N}),fs.apply(this,arguments)}class yo{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?ki._fromServerResponse(l,d):Pe(l,"internal-error")}}class ki extends yo{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new ki(d)}}function On(p,l,d){var E;Y((null===(E=d.url)||void 0===E?void 0:E.length)>0,p,"invalid-continue-uri"),Y(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(Y(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(Y(d.android.packageName.length>0,p,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function Zt(){return Zt=(0,I.Z)(function*(p,l,d){const E=(0,F.m9)(p),N={requestType:"PASSWORD_RESET",email:l};d&&On(E,N,d),yield function Pi(p,l){return cs.apply(this,arguments)}(E,N)}),Zt.apply(this,arguments)}function vo(){return(vo=(0,I.Z)(function*(p,l,d){yield Hn((0,F.m9)(p),{oobCode:l,newPassword:d})})).apply(this,arguments)}function ar(){return ar=(0,I.Z)(function*(p,l){yield function Tr(p,l){return Sr.apply(this,arguments)}((0,F.m9)(p),{oobCode:l})}),ar.apply(this,arguments)}function Li(p,l){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,I.Z)(function*(p,l){const d=(0,F.m9)(p),E=yield Hn(d,{oobCode:l}),N=E.requestType;switch(Y(N,d,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(E.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(E.mfaInfo,d,"internal-error");default:Y(E.email,d,"internal-error")}let $=null;return E.mfaInfo&&($=yo._fromServerResponse(Qn(d),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:$},operation:N}})).apply(this,arguments)}function gs(){return(gs=(0,I.Z)(function*(p,l){const{data:d}=yield Li((0,F.m9)(p),l);return d.email})).apply(this,arguments)}function Ot(){return(Ot=(0,I.Z)(function*(p,l,d){const E=Qn(p),N=yield Yi(E,{returnSecureToken:!0,email:l,password:d}),$=yield mr._fromIdTokenResponse(E,"signIn",N);return yield E._updateCurrentUser($.user),$})).apply(this,arguments)}function Wn(){return Wn=(0,I.Z)(function*(p,l,d){const E=(0,F.m9)(p),N={requestType:"EMAIL_SIGNIN",email:l};Y(d.handleCodeInApp,E,"argument-error"),d&&On(E,N,d),yield function Zs(p,l){return ii.apply(this,arguments)}(E,N)}),Wn.apply(this,arguments)}function yr(){return(yr=(0,I.Z)(function*(p,l,d){const E=(0,F.m9)(p),N=go.credentialWithLink(l,d||De());return Y(N._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),un(E,N)})).apply(this,arguments)}function yi(){return(yi=(0,I.Z)(function*(p,l){return St(p,"POST","/v1/accounts:createAuthUri",at(p,l))})).apply(this,arguments)}function Xs(){return Xs=(0,I.Z)(function*(p,l){const E={identifier:l,continueUri:Ee()?De():"http://localhost"},{signinMethods:N}=yield function _i(p,l){return yi.apply(this,arguments)}((0,F.m9)(p),E);return N||[]}),Xs.apply(this,arguments)}function ur(){return ur=(0,I.Z)(function*(p,l){const d=(0,F.m9)(p),N={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};l&&On(d.auth,N,l);const{email:$}=yield function jr(p,l){return $t.apply(this,arguments)}(d.auth,N);$!==p.email&&(yield p.reload())}),ur.apply(this,arguments)}function eo(){return eo=(0,I.Z)(function*(p,l,d){const E=(0,F.m9)(p),$={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:l};d&&On(E.auth,$,d);const{email:ce}=yield function dr(p,l){return gr.apply(this,arguments)}(E.auth,$);ce!==p.email&&(yield p.reload())}),eo.apply(this,arguments)}function vr(){return(vr=(0,I.Z)(function*(p,l){return St(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Qi(){return Qi=(0,I.Z)(function*(p,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const E=(0,F.m9)(p),$={idToken:yield E.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},ce=yield vn(E,function Ui(p,l){return vr.apply(this,arguments)}(E.auth,$));E.displayName=ce.displayName||null,E.photoURL=ce.photoUrl||null;const Re=E.providerData.find(({providerId:ht})=>"password"===ht);Re&&(Re.displayName=E.displayName,Re.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ce)}),Qi.apply(this,arguments)}function to(p,l,d){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,I.Z)(function*(p,l,d){const{auth:E}=p,$={idToken:yield p.getIdToken(),returnSecureToken:!0};l&&($.email=l),d&&($.password=d);const ce=yield vn(p,Gt(E,$));yield p._updateTokensIfNecessary(ce,!0)})).apply(this,arguments)}class Bi{constructor(l,d,E={}){this.isNewUser=l,this.providerId=d,this.profile=E}}class Do extends Bi{constructor(l,d,E,N){super(l,d,E),this.username=N}}class vs extends Bi{constructor(l,d){super(l,"facebook.com",d)}}class Fs extends Do{constructor(l,d){super(l,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Bo extends Bi{constructor(l,d){super(l,"google.com",d)}}class Co extends Do{constructor(l,d,E){super(l,"twitter.com",d,E)}}function va(p){const{user:l,_tokenResponse:d}=p;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function no(p){var l,d;if(!p)return null;const{providerId:E}=p,N=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},$=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!E&&p?.idToken){const ce=null===(d=null===(l=Rt(p.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(ce)return new Bi($,"anonymous"!==ce&&"custom"!==ce?ce:null)}if(!E)return null;switch(E){case"facebook.com":return new vs($,N);case"github.com":return new Fs($,N);case"google.com":return new Bo($,N);case"twitter.com":return new Co($,N,p.screenName||null);case"custom":case"anonymous":return new Bi($,null);default:return new Bi($,E,N)}}(d)}class li{constructor(l,d,E){this.type=l,this.credential=d,this.auth=E}static _fromIdtoken(l,d){return new li("enroll",l,d)}static _fromMfaPendingCredential(l){return new li("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,E;if(l?.multiFactorSession){if(null!==(d=l.multiFactorSession)&&void 0!==d&&d.pendingCredential)return li._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(E=l.multiFactorSession)&&void 0!==E&&E.idToken)return li._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Ei{constructor(l,d,E){this.session=l,this.hints=d,this.signInResolver=E}static _fromError(l,d){const E=Qn(l),N=d.customData._serverResponse,$=(N.mfaInfo||[]).map(Re=>yo._fromServerResponse(E,Re));Y(N.mfaPendingCredential,E,"internal-error");const ce=li._fromMfaPendingCredential(N.mfaPendingCredential);return new Ei(ce,$,function(){var Re=(0,I.Z)(function*(ht){const Mt=yield ht._process(E,ce);delete N.mfaInfo,delete N.mfaPendingCredential;const qt=Object.assign(Object.assign({},N),{idToken:Mt.idToken,refreshToken:Mt.refreshToken});switch(d.operationType){case"signIn":const zt=yield mr._fromIdTokenResponse(E,d.operationType,qt);return yield E._updateCurrentUser(zt.user),zt;case"reauthenticate":return Y(d.user,E,"internal-error"),mr._forOperation(d.user,d.operationType,qt);default:Pe(E,"internal-error")}});return function(ht){return Re.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,I.Z)(function*(){return d.signInResolver(l)})()}}class Ii{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(E=>yo._fromServerResponse(l.auth,E)))})}static _fromUser(l){return new Ii(l)}getSession(){var l=this;return(0,I.Z)(function*(){return li._fromIdtoken(yield l.user.getIdToken(),l.user.auth)})()}enroll(l,d){var E=this;return(0,I.Z)(function*(){const N=l,$=yield E.getSession(),ce=yield vn(E.user,N._process(E.user.auth,$,d));return yield E.user._updateTokensIfNecessary(ce),E.user.reload()})()}unenroll(l){var d=this;return(0,I.Z)(function*(){const E="string"==typeof l?l:l.uid,N=yield d.user.getIdToken();try{const $=yield vn(d.user,function Es(p,l){return St(p,"POST","/v2/accounts/mfaEnrollment:withdraw",at(p,l))}(d.user.auth,{idToken:N,mfaEnrollmentId:E}));d.enrolledFactors=d.enrolledFactors.filter(({uid:ce})=>ce!==E),yield d.user._updateTokensIfNecessary($),yield d.user.reload()}catch($){throw $}})()}}const Us=new WeakMap,w="__sak";class P{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(w,"1"),this.storage.removeItem(w),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const $e=(()=>{class p extends P{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,E)=>this.onStorageEvent(d,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function S(){const p=(0,F.z$)();return ft(p)||ze(p)}()&&function ni(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=as(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const E of Object.keys(this.listeners)){const N=this.storage.getItem(E),$=this.localCache[E];N!==$&&d(E,$,N)}}onStorageEvent(d,E=!1){if(!d.key)return void this.forAllChangedKeys((Re,ht,Mt)=>{this.notifyListeners(Re,Mt)});const N=d.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(N);if(d.newValue!==Re)null!==d.newValue?this.storage.setItem(N,d.newValue):this.storage.removeItem(N);else if(this.localCache[N]===d.newValue&&!E)return}const $=()=>{const Re=this.storage.getItem(N);!E&&this.localCache[N]===Re||this.notifyListeners(N,Re)},ce=this.storage.getItem(N);!function Ln(){return(0,F.w1)()&&10===document.documentMode}()||ce===d.newValue||d.newValue===d.oldValue?$():setTimeout($,10)}notifyListeners(d,E){this.localCache[d]=E;const N=this.listeners[d];if(N)for(const $ of Array.from(N))$(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,E,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:E,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(E)}_removeListener(d,E){this.listeners[d]&&(this.listeners[d].delete(E),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,E){var N=()=>super._set,$=this;return(0,I.Z)(function*(){yield N().call($,d,E),$.localCache[d]=JSON.stringify(E)})()}_get(d){var E=()=>super._get,N=this;return(0,I.Z)(function*(){const $=yield E().call(N,d);return N.localCache[d]=JSON.stringify($),$})()}_remove(d){var E=()=>super._remove,N=this;return(0,I.Z)(function*(){yield E().call(N,d),delete N.localCache[d]})()}}return p.type="LOCAL",p})(),Yt=(()=>{class p extends P{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,E){}_removeListener(d,E){}}return p.type="SESSION",p})();let Rn=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const E=this.receivers.find($=>$.isListeningto(d));if(E)return E;const N=new p(d);return this.receivers.push(N),N}isListeningto(d){return this.eventTarget===d}handleEvent(d){var E=this;return(0,I.Z)(function*(){const N=d,{eventId:$,eventType:ce,data:Re}=N.data,ht=E.handlersMap[ce];if(!ht?.size)return;N.ports[0].postMessage({status:"ack",eventId:$,eventType:ce});const Mt=Array.from(ht).map(function(){var zt=(0,I.Z)(function*(Yr){return Yr(N.origin,Re)});return function(Yr){return zt.apply(this,arguments)}}()),qt=yield function Dn(p){return Promise.all(p.map(function(){var l=(0,I.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(E){return{fulfilled:!1,reason:E}}});return function(d){return l.apply(this,arguments)}}()))}(Mt);N.ports[0].postMessage({status:"done",eventId:$,eventType:ce,response:qt})})()}_subscribe(d,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(E)}_unsubscribe(d,E){this.handlersMap[d]&&E&&this.handlersMap[d].delete(E),(!E||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function en(p="",l=10){let d="";for(let E=0;E<l;E++)d+=Math.floor(10*Math.random());return p+d}class ir{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,E=50){var N=this;return(0,I.Z)(function*(){const $=typeof MessageChannel<"u"?new MessageChannel:null;if(!$)throw new Error("connection_unavailable");let ce,Re;return new Promise((ht,Mt)=>{const qt=en("",20);$.port1.start();const zt=setTimeout(()=>{Mt(new Error("unsupported_event"))},E);Re={messageChannel:$,onMessage(Yr){const ho=Yr;if(ho.data.eventId===qt)switch(ho.data.status){case"ack":clearTimeout(zt),ce=setTimeout(()=>{Mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ce),ht(ho.data.response);break;default:clearTimeout(zt),clearTimeout(ce),Mt(new Error("invalid_response"))}}},N.handlers.add(Re),$.port1.addEventListener("message",Re.onMessage),N.target.postMessage({eventType:l,eventId:qt,data:d},[$.port2])}).finally(()=>{Re&&N.removeMessageHandler(Re)})})()}}function jt(){return window}function Er(){return typeof jt().WorkerGlobalScope<"u"&&"function"==typeof jt().importScripts}function _r(){return(_r=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xi="firebaseLocalStorageDb",ro=1,Vo="firebaseLocalStorage",Da="fbase_key";class Is{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function To(p,l){return p.transaction([Vo],l?"readwrite":"readonly").objectStore(Vo)}function $o(){const p=indexedDB.open(Xi,ro);return new Promise((l,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const E=p.result;try{E.createObjectStore(Vo,{keyPath:Da})}catch(N){d(N)}}),p.addEventListener("success",(0,I.Z)(function*(){const E=p.result;E.objectStoreNames.contains(Vo)?l(E):(E.close(),yield function Ci(){const p=indexedDB.deleteDatabase(Xi);return new Is(p).toPromise()}(),l(yield $o()))}))})}function ci(p,l,d){return io.apply(this,arguments)}function io(){return(io=(0,I.Z)(function*(p,l,d){const E=To(p,!0).put({[Da]:l,value:d});return new Is(E).toPromise()})).apply(this,arguments)}function Bs(){return(Bs=(0,I.Z)(function*(p,l){const d=To(p,!1).get(l),E=yield new Is(d).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Vs(p,l){const d=To(p,!0).delete(l);return new Is(d).toPromise()}const Ds=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,I.Z)(function*(){return d.db||(d.db=yield $o()),d.db})()}_withRetries(d){var E=this;return(0,I.Z)(function*(){let N=0;for(;;)try{const $=yield E._openDb();return yield d($)}catch($){if(N++>3)throw $;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,I.Z)(function*(){return Er()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,I.Z)(function*(){d.receiver=Rn._getInstance(function Di(){return Er()?self:null}()),d.receiver._subscribe("keyChanged",function(){var E=(0,I.Z)(function*(N,$){return{keyProcessed:(yield d._poll()).includes($.key)}});return function(N,$){return E.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var E=(0,I.Z)(function*(N,$){return["keyChanged"]});return function(N,$){return E.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,I.Z)(function*(){var E,N;if(d.activeServiceWorker=yield function wr(){return _r.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new ir(d.activeServiceWorker);const $=yield d.sender._send("ping",{},800);$&&null!==(E=$[0])&&void 0!==E&&E.fulfilled&&null!==(N=$[0])&&void 0!==N&&N.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var E=this;return(0,I.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Vi(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:d},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const d=yield $o();return yield ci(d,w,"1"),yield Vs(d,w),!0}catch{}return!1})()}_withPendingWrite(d){var E=this;return(0,I.Z)(function*(){E.pendingWrites++;try{yield d()}finally{E.pendingWrites--}})()}_set(d,E){var N=this;return(0,I.Z)(function*(){return N._withPendingWrite((0,I.Z)(function*(){return yield N._withRetries($=>ci($,d,E)),N.localCache[d]=E,N.notifyServiceWorker(d)}))})()}_get(d){var E=this;return(0,I.Z)(function*(){const N=yield E._withRetries($=>function na(p,l){return Bs.apply(this,arguments)}($,d));return E.localCache[d]=N,N})()}_remove(d){var E=this;return(0,I.Z)(function*(){return E._withPendingWrite((0,I.Z)(function*(){return yield E._withRetries(N=>Vs(N,d)),delete E.localCache[d],E.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,I.Z)(function*(){const E=yield d._withRetries(ce=>{const Re=To(ce,!1).getAll();return new Is(Re).toPromise()});if(!E)return[];if(0!==d.pendingWrites)return[];const N=[],$=new Set;for(const{fbase_key:ce,value:Re}of E)$.add(ce),JSON.stringify(d.localCache[ce])!==JSON.stringify(Re)&&(d.notifyListeners(ce,Re),N.push(ce));for(const ce of Object.keys(d.localCache))d.localCache[ce]&&!$.has(ce)&&(d.notifyListeners(ce,null),N.push(ce));return N})()}notifyListeners(d,E){this.localCache[d]=E;const N=this.listeners[d];if(N)for(const $ of Array.from(N))$(E)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(E)}_removeListener(d,E){this.listeners[d]&&(this.listeners[d].delete(E),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})();function bi(){return(bi=(0,I.Z)(function*(p){return(yield St(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function oo(p){return new Promise((l,d)=>{const E=document.createElement("script");E.setAttribute("src",p),E.onload=l,E.onerror=N=>{const $=Oe("internal-error");$.customData=N,d($)},E.type="text/javascript",E.charset="UTF-8",function So(){var p,l;return null!==(l=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==l?l:document}().appendChild(E)})}function ia(p){return`__${p}${Math.floor(1e6*Math.random())}`}const ws=1e12;class La{constructor(l){this.auth=l,this.counter=ws,this._widgets=new Map}render(l,d){const E=this.counter;return this._widgets.set(E,new ul(l,this.auth.name,d||{})),this.counter++,E}reset(l){var d;const E=l||ws;null===(d=this._widgets.get(E))||void 0===d||d.delete(),this._widgets.delete(E)}getResponse(l){var d;return(null===(d=this._widgets.get(l||ws))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,I.Z)(function*(){var E;return null===(E=d._widgets.get(l||ws))||void 0===E||E.execute(),""})()}}class ul{constructor(l,d,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof l?document.getElementById(l):l;Y(N,"argument-error",{appName:d}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gr(p){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<p;E++)l.push(d.charAt(Math.floor(Math.random()*d.length)));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sa=ia("rcb"),ts=new Je(3e4,6e4);class ns{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=jt().grecaptcha)||void 0===l||!l.render)}load(l,d=""){return Y(function wa(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),l,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(jt().grecaptcha):new Promise((E,N)=>{const $=jt().setTimeout(()=>{N(Oe(l,"network-request-failed"))},ts.get());jt()[sa]=()=>{jt().clearTimeout($),delete jt()[sa];const Re=jt().grecaptcha;if(!Re)return void N(Oe(l,"internal-error"));const ht=Re.render;Re.render=(Mt,qt)=>{const zt=ht(Mt,qt);return this.counter++,zt},this.hostLanguage=d,E(Re)},oo(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:sa,render:"explicit",hl:d})}`).catch(()=>{clearTimeout($),N(Oe(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var d;return!(null===(d=jt().grecaptcha)||void 0===d||!d.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cl{load(l){return(0,I.Z)(function*(){return new La(l)})()}clearedOneInstance(){}}const Ao="recaptcha",dl={theme:"light",type:"image"};class Fa{constructor(l,d=Object.assign({},dl),E){this.parameters=d,this.type=Ao,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qn(E),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof l?document.getElementById(l):l;Y(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cl:new ns,this.validateStartingState()}verify(){var l=this;return(0,I.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),E=l.getAssertedRecaptcha();return E.getResponse(d)||new Promise($=>{const ce=Re=>{Re&&(l.tokenChangeListeners.delete(ce),$(Re))};l.tokenChangeListeners.add(ce),l.isInvisible&&E.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(E=>E(d)),"function"==typeof l)l(d);else if("string"==typeof l){const E=jt()[l];"function"==typeof E&&E(d)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,I.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const E=document.createElement("div");d.appendChild(E),d=E}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,I.Z)(function*(){Y(Ee()&&!Er(),l.auth,"internal-error"),yield function Gn(){let p=null;return new Promise(l=>{"complete"!==document.readyState?(p=()=>l(),window.addEventListener("load",p)):l()}).catch(l=>{throw p&&window.removeEventListener("load",p),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function wi(p){return bi.apply(this,arguments)}(l.auth);Y(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class di{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=Xn._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function $s(){return($s=(0,I.Z)(function*(p,l,d){const E=Qn(p),N=yield Ts(E,l,(0,F.m9)(d));return new di(N,$=>un(E,$))})).apply(this,arguments)}function ba(){return(ba=(0,I.Z)(function*(p,l,d){const E=(0,F.m9)(p);yield Mr(!1,E,"phone");const N=yield Ts(E.auth,l,(0,F.m9)(d));return new di(N,$=>oi(E,$))})).apply(this,arguments)}function oa(){return(oa=(0,I.Z)(function*(p,l,d){const E=(0,F.m9)(p),N=yield Ts(E.auth,l,(0,F.m9)(d));return new di(N,$=>hs(E,$))})).apply(this,arguments)}function Ts(p,l,d){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,I.Z)(function*(p,l,d){var E;const N=yield d.verify();try{let $;if(Y("string"==typeof N,p,"argument-error"),Y(d.type===Ao,p,"argument-error"),$="string"==typeof l?{phoneNumber:l}:l,"session"in $){const ce=$.session;if("phoneNumber"in $)return Y("enroll"===ce.type,p,"internal-error"),(yield function ui(p,l){return St(p,"POST","/v2/accounts/mfaEnrollment:start",at(p,l))}(p,{idToken:ce.credential,phoneEnrollmentInfo:{phoneNumber:$.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{Y("signin"===ce.type,p,"internal-error");const Re=(null===(E=$.multiFactorHint)||void 0===E?void 0:E.uid)||$.multiFactorUid;return Y(Re,p,"missing-multi-factor-info"),(yield function Ho(p,l){return St(p,"POST","/v2/accounts/mfaSignIn:start",at(p,l))}(p,{mfaPendingCredential:ce.credential,mfaEnrollmentId:Re,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ce}=yield function Fe(p,l){return tt.apply(this,arguments)}(p,{phoneNumber:$.phoneNumber,recaptchaToken:N});return ce}}finally{d._reset()}}),Ua.apply(this,arguments)}function cr(){return(cr=(0,I.Z)(function*(p,l){yield qi((0,F.m9)(p),l)})).apply(this,arguments)}let $i=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=Qn(d)}verifyPhoneNumber(d,E){return Ts(this.auth,d,(0,F.m9)(E))}static credential(d,E){return Xn._fromVerification(d,E)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:E,temporaryProof:N}=d;return E&&N?Xn._fromTokenResponse(E,N):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Jr(p,l){return l?wt(l):(Y(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Ta extends jn{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Hr(l,this._buildIdpRequest())}_linkToIdToken(l,d){return Hr(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return Hr(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function Ti(p){return lr(p.auth,new Ta(p),p.bypassAuthState)}function Ss(p){const{auth:l,user:d}=p;return Y(d,l,"internal-error"),xr(d,new Ta(p),p.bypassAuthState)}function ao(p){return As.apply(this,arguments)}function As(){return(As=(0,I.Z)(function*(p){const{auth:l,user:d}=p;return Y(d,l,"internal-error"),qi(d,new Ta(p),p.bypassAuthState)})).apply(this,arguments)}class lo{constructor(l,d,E,N,$=!1){this.auth=l,this.resolver=E,this.user=N,this.bypassAuthState=$,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,I.Z)(function*(E,N){l.pendingPromise={resolve:E,reject:N};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch($){l.reject($)}});return function(E,N){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,I.Z)(function*(){const{urlResponse:E,sessionId:N,postBody:$,tenantId:ce,error:Re,type:ht}=l;if(Re)return void d.reject(Re);const Mt={auth:d.auth,requestUri:E,sessionId:N,tenantId:ce||void 0,postBody:$||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ht)(Mt))}catch(qt){d.reject(qt)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Ti;case"linkViaPopup":case"linkViaRedirect":return ao;case"reauthViaPopup":case"reauthViaRedirect":return Ss;default:Pe(this.auth,"internal-error")}}resolve(l){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ba=new Je(2e3,1e4);function kr(){return(kr=(0,I.Z)(function*(p,l,d){const E=Qn(p);et(p,l,Sn);const N=Jr(E,d);return new Wo(E,"signInViaPopup",l,N).executeNotNull()})).apply(this,arguments)}function Lr(){return(Lr=(0,I.Z)(function*(p,l,d){const E=(0,F.m9)(p);et(E.auth,l,Sn);const N=Jr(E.auth,d);return new Wo(E.auth,"reauthViaPopup",l,N,E).executeNotNull()})).apply(this,arguments)}function ji(){return(ji=(0,I.Z)(function*(p,l,d){const E=(0,F.m9)(p);et(E.auth,l,Sn);const N=Jr(E.auth,d);return new Wo(E.auth,"linkViaPopup",l,N,E).executeNotNull()})).apply(this,arguments)}let Wo=(()=>{class p extends lo{constructor(d,E,N,$,ce){super(d,E,$,ce),this.provider=N,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,I.Z)(function*(){const E=yield d.execute();return Y(E,d.auth,"internal-error"),E})()}onExecution(){var d=this;return(0,I.Z)(function*(){nt(1===d.filter.length,"Popup operations only handle one event");const E=en();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],E),d.authWindow.associatedEvent=E,d.resolver._originValidation(d.auth).catch(N=>{d.reject(N)}),d.resolver._isIframeWebStorageSupported(d.auth,N=>{N||d.reject(Oe(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var E,N;this.pollId=null!==(N=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,Ba.get())};d()}}return p.currentPopupAction=null,p})();const uo="pendingRedirect",Ro=new Map;class fl extends lo{constructor(l,d,E=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,E),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,I.Z)(function*(){let E=Ro.get(d.auth._key());if(!E){try{const $=(yield function $a(p,l){return Hi.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;E=()=>Promise.resolve($)}catch(N){E=()=>Promise.reject(N)}Ro.set(d.auth._key(),E)}return d.bypassAuthState||Ro.set(d.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,E=this;return(0,I.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(E,l);if("unknown"!==l.type){if(l.eventId){const N=yield E.auth._redirectUserForId(l.eventId);if(N)return E.user=N,d().call(E,l);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function Hi(){return(Hi=(0,I.Z)(function*(p,l){const d=f(l),E=v(p);if(!(yield E._isAvailable()))return!1;const N="true"===(yield E._get(d));return yield E._remove(d),N})).apply(this,arguments)}function aa(p,l){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,I.Z)(function*(p,l){return v(p)._set(f(l),"true")})).apply(this,arguments)}function m(p,l){Ro.set(p._key(),l)}function v(p){return wt(p._redirectPersistence)}function f(p){return K(uo,p.config.apiKey,p.name)}function C(p,l,d){return function R(p,l,d){return h.apply(this,arguments)}(p,l,d)}function h(){return(h=(0,I.Z)(function*(p,l,d){const E=Qn(p);et(p,l,Sn),yield E._initializationPromise;const N=Jr(E,d);return yield aa(N,E),N._openRedirect(E,l,"signInViaRedirect")})).apply(this,arguments)}function y(p,l,d){return function A(p,l,d){return L.apply(this,arguments)}(p,l,d)}function L(){return(L=(0,I.Z)(function*(p,l,d){const E=(0,F.m9)(p);et(E.auth,l,Sn),yield E.auth._initializationPromise;const N=Jr(E.auth,d);yield aa(N,E.auth);const $=yield kt(E);return N._openRedirect(E.auth,l,"reauthViaRedirect",$)})).apply(this,arguments)}function G(p,l,d){return function te(p,l,d){return we.apply(this,arguments)}(p,l,d)}function we(){return(we=(0,I.Z)(function*(p,l,d){const E=(0,F.m9)(p);et(E.auth,l,Sn),yield E.auth._initializationPromise;const N=Jr(E.auth,d);yield Mr(!1,E,l.providerId),yield aa(N,E.auth);const $=yield kt(E);return N._openRedirect(E.auth,l,"linkViaRedirect",$)})).apply(this,arguments)}function Et(){return(Et=(0,I.Z)(function*(p,l){return yield Qn(p)._initializationPromise,At(p,l,!1)})).apply(this,arguments)}function At(p,l){return tn.apply(this,arguments)}function tn(){return(tn=(0,I.Z)(function*(p,l,d=!1){const E=Qn(p),N=Jr(E,l),ce=yield new fl(E,N,d).execute();return ce&&!d&&(delete ce.user._redirectEventId,yield E._persistUserIfCurrent(ce.user),yield E._setRedirectUser(null,l)),ce})).apply(this,arguments)}function kt(p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,I.Z)(function*(p){const l=en(`${p.uid}:::`);return p._redirectEventId=l,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),l})).apply(this,arguments)}class Ms{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(l,E)&&(d=!0,this.sendToConsumer(l,E),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Si(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return la(p);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var E;if(l.error&&!la(l)){const N=(null===(E=l.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";d.onError(Oe(this.auth,N))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const E=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&E}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ja(l))}saveEventToCache(l){this.cachedEventUids.add(ja(l)),this.lastProcessedEventTime=Date.now()}}function ja(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(l=>l).join("-")}function la({type:p,error:l}){return"unknown"===p&&"auth/no-auth-event"===l?.code}function rs(p){return ua.apply(this,arguments)}function ua(){return(ua=(0,I.Z)(function*(p,l={}){return St(p,"GET","/v1/projects",l)})).apply(this,arguments)}const Pu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wc=/^https?/;function Nu(){return(Nu=(0,I.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:l}=yield rs(p);for(const d of l)try{if(xu(d))return}catch{}Pe(p,"unauthorized-domain")})).apply(this,arguments)}function xu(p){const l=De(),{protocol:d,hostname:E}=new URL(l);if(p.startsWith("chrome-extension://")){const ce=new URL(p);return""===ce.hostname&&""===E?"chrome-extension:"===d&&p.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&ce.hostname===E}if(!wc.test(d))return!1;if(Pu.test(p))return E===p;const N=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(E)}const Xl=new Je(3e4,6e4);function Ha(){const p=jt().___jsl;if(p?.H)for(const l of Object.keys(p.H))if(p.H[l].r=p.H[l].r||[],p.H[l].L=p.H[l].L||[],p.H[l].r=[...p.H[l].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let Wa=null;const Lu=new Je(5e3,15e3),bc="__/auth/iframe",ld="emulator/auth/iframe",eu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sc(p){const l=p.config;Y(l.authDomain,p,"auth-domain-config-required");const d=l.emulator?Xe(l,ld):`https://${p.config.authDomain}/${bc}`,E={apiKey:l.apiKey,appName:p.name,v:re.SDK_VERSION},N=Tc.get(p.config.apiHost);N&&(E.eid=N);const $=p._getFrameworks();return $.length&&(E.fw=$.join(",")),`${d}?${(0,F.xO)(E).slice(1)}`}function Sa(){return Sa=(0,I.Z)(function*(p){const l=yield function Go(p){return Wa=Wa||function ku(p){return new Promise((l,d)=>{var E,N,$;function ce(){Ha(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Ha(),d(Oe(p,"network-request-failed"))},timeout:Xl.get()})}if(null!==(N=null===(E=jt().gapi)||void 0===E?void 0:E.iframes)&&void 0!==N&&N.Iframe)l(gapi.iframes.getContext());else{if(null===($=jt().gapi)||void 0===$||!$.load){const Re=ia("iframefcb");return jt()[Re]=()=>{gapi.load?ce():d(Oe(p,"network-request-failed"))},oo(`https://apis.google.com/js/api.js?onload=${Re}`).catch(ht=>d(ht))}ce()}}).catch(l=>{throw Wa=null,l})}(p),Wa}(p),d=jt().gapi;return Y(d,p,"internal-error"),l.open({where:document.body,url:Sc(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eu,dontclear:!0},E=>new Promise(function(){var N=(0,I.Z)(function*($,ce){yield E.restyle({setHideOnLeave:!1});const Re=Oe(p,"network-request-failed"),ht=jt().setTimeout(()=>{ce(Re)},Lu.get());function Mt(){jt().clearTimeout(ht),$(E)}E.ping(Mt).then(Mt,()=>{ce(Re)})});return function($,ce){return N.apply(this,arguments)}}()))}),Sa.apply(this,arguments)}const Fu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uu=500,Bu=600,Hs="_blank",Nl="http://localhost";class tu{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ws="__/auth/handler",pl="emulator/auth/handler";function nu(p,l,d,E,N,$){Y(p.config.authDomain,p,"auth-domain-config-required"),Y(p.config.apiKey,p,"invalid-api-key");const ce={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:E,v:re.SDK_VERSION,eventId:N};if(l instanceof Sn){l.setDefaultLanguage(p.languageCode),ce.providerId=l.providerId||"",(0,F.xb)(l.getCustomParameters())||(ce.customParameters=JSON.stringify(l.getCustomParameters()));for(const[ht,Mt]of Object.entries($||{}))ce[ht]=Mt}if(l instanceof Xt){const ht=l.getScopes().filter(Mt=>""!==Mt);ht.length>0&&(ce.scopes=ht.join(","))}p.tenantId&&(ce.tid=p.tenantId);const Re=ce;for(const ht of Object.keys(Re))void 0===Re[ht]&&delete Re[ht];return`${function Vu({config:p}){return p.emulator?Xe(p,pl):`https://${p.authDomain}/${Ws}`}(p)}?${(0,F.xO)(Re).slice(1)}`}const Ka="webStorageSupport",Za=class gl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yt,this._completeRedirectFn=At,this._overrideRedirectResult=m}_openPopup(l,d,E,N){var $=this;return(0,I.Z)(function*(){var ce;nt(null===(ce=$.eventManagers[l._key()])||void 0===ce?void 0:ce.manager,"_initialize() not called before _openPopup()");const Re=nu(l,d,E,De(),N);return function Ac(p,l,d,E=Uu,N=Bu){const $=Math.max((window.screen.availHeight-N)/2,0).toString(),ce=Math.max((window.screen.availWidth-E)/2,0).toString();let Re="";const ht=Object.assign(Object.assign({},Fu),{width:E.toString(),height:N.toString(),top:$,left:ce}),Mt=(0,F.z$)().toLowerCase();d&&(Re=ee(Mt)?Hs:d),me(Mt)&&(l=l||Nl,ht.scrollbars="yes");const qt=Object.entries(ht).reduce((Yr,[ho,tl])=>`${Yr}${ho}=${tl},`,"");if(function pn(p=(0,F.z$)()){var l;return ze(p)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(Mt)&&"_self"!==Re)return function Ga(p,l){const d=document.createElement("a");d.href=p,d.target=l;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(E)}(l||"",Re),new tu(null);const zt=window.open(l||"",Re,qt);Y(zt,p,"popup-blocked");try{zt.focus()}catch{}return new tu(zt)}(l,Re,en())})()}_openRedirect(l,d,E,N){var $=this;return(0,I.Z)(function*(){return yield $._originValidation(l),function zn(p){jt().location.href=p}(nu(l,d,E,De(),N)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:N,promise:$}=this.eventManagers[d];return N?Promise.resolve(N):(nt($,"If manager is not set, promise should be"),$)}const E=this.initAndGetManager(l);return this.eventManagers[d]={promise:E},E.catch(()=>{delete this.eventManagers[d]}),E}initAndGetManager(l){var d=this;return(0,I.Z)(function*(){const E=yield function za(p){return Sa.apply(this,arguments)}(l),N=new Ms(l);return E.register("authEvent",$=>(Y($?.authEvent,l,"invalid-auth-event"),{status:N.onEvent($.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:N},d.iframes[l._key()]=E,N})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(Ka,{type:Ka},N=>{var $;const ce=null===($=N?.[0])||void 0===$?void 0:$[Ka];void 0!==ce&&d(!!ce),Pe(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Ou(p){return Nu.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return as()||ft()||ze()}};class is{constructor(l){this.factorId=l}_process(l,d,E){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,E);case"signin":return this._finalizeSignIn(l,d.credential);default:return Ae("unexpected MultiFactorSessionType")}}}class Ai extends is{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Ai(l)}_finalizeEnroll(l,d,E){return function bo(p,l){return St(p,"POST","/v2/accounts/mfaEnrollment:finalize",at(p,l))}(l,{idToken:d,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function ra(p,l){return St(p,"POST","/v2/accounts/mfaSignIn:finalize",at(p,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ru=(()=>{class p{constructor(){}static assertion(d){return Ai._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var xl="@firebase/auth";class Ya{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,I.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(E=>{l(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);d&&(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ko(){return window}(0,F.Pz)("authIdTokenMaxAge"),function iu(p){(0,re._registerComponent)(new ge.wA("auth",(l,{options:d})=>{const E=l.getProvider("app").getImmediate(),N=l.getProvider("heartbeat"),{apiKey:$,authDomain:ce}=E.options;return((Re,ht)=>{Y($&&!$.includes(":"),"invalid-api-key",{appName:Re.name}),Y(!ce?.includes(":"),"argument-error",{appName:Re.name});const Mt={apiKey:$,authDomain:ce,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zi(p)},qt=new No(Re,ht,Mt);return function x(p,l){const d=l?.persistence||[],E=(Array.isArray(d)?d:[d]).map(wt);l?.errorMap&&p._updateErrorMap(l.errorMap),p._initializeWithPersistence(E,l?.popupRedirectResolver)}(qt,d),qt})(E,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,E)=>{l.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new ge.wA("auth-internal",l=>{const d=Qn(l.getProvider("auth").getImmediate());return new Ya(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(xl,"0.21.4",function ss(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,re.registerVersion)(xl,"0.21.4","esm2017")}("Browser");const ml=2e3;function qa(){return qa=(0,I.Z)(function*(p,l,d){var E;const{BuildInfo:N}=Ko();nt(l.sessionId,"AuthEvent did not contain a session ID");const $=yield function lu(p){return kl.apply(this,arguments)}(l.sessionId),ce={};return ze()?ce.ibi=N.packageName:H()?ce.apn=N.packageName:Pe(p,"operation-not-supported-in-this-environment"),N.displayName&&(ce.appDisplayName=N.displayName),ce.sessionId=$,nu(p,d,l.type,void 0,null!==(E=l.eventId)&&void 0!==E?E:void 0,ce)}),qa.apply(this,arguments)}function _l(){return(_l=(0,I.Z)(function*(p){const{BuildInfo:l}=Ko(),d={};ze()?d.iosBundleId=l.packageName:H()?d.androidPackageName=l.packageName:Pe(p,"operation-not-supported-in-this-environment"),yield rs(p,d)})).apply(this,arguments)}function yl(){return(yl=(0,I.Z)(function*(p,l,d){const{cordova:E}=Ko();let N=()=>{};try{yield new Promise(($,ce)=>{let Re=null;function ht(){var zt;$();const Yr=null===(zt=E.plugins.browsertab)||void 0===zt?void 0:zt.close;"function"==typeof Yr&&Yr(),"function"==typeof d?.close&&d.close()}function Mt(){Re||(Re=window.setTimeout(()=>{ce(Oe(p,"redirect-cancelled-by-user"))},ml))}function qt(){"visible"===document?.visibilityState&&Mt()}l.addPassiveListener(ht),document.addEventListener("resume",Mt,!1),H()&&document.addEventListener("visibilitychange",qt,!1),N=()=>{l.removePassiveListener(ht),document.removeEventListener("resume",Mt,!1),document.removeEventListener("visibilitychange",qt,!1),Re&&window.clearTimeout(Re)}})}finally{N()}})).apply(this,arguments)}function kl(){return(kl=(0,I.Z)(function*(p){const l=function Aa(p){if(nt(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const l=new ArrayBuffer(p.length),d=new Uint8Array(l);for(let E=0;E<p.length;E++)d[E]=p.charCodeAt(E);return d}(p),d=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(d)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const uu=20;class Wu extends Ms{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(l)),super.onEvent(l)}initialized(){var l=this;return(0,I.Z)(function*(){yield l.initPromise})()}}function cu(p){return du.apply(this,arguments)}function du(){return(du=(0,I.Z)(function*(p){const l=yield hu()._get(El(p));return l&&(yield hu()._remove(El(p))),l})).apply(this,arguments)}function da(){const p=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<uu;d++){const E=Math.floor(Math.random()*l.length);p.push(l.charAt(E))}return p.join("")}function hu(){return wt($e)}function El(p){return K("authEvent",p.config.apiKey,p.name)}function Mo(p){if(!p?.includes("?"))return{};const[l,...d]=p.split("?");return(0,F.zd)(d.join("?"))}const Gu=class zu{constructor(){this._redirectPersistence=Yt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=At,this._overrideRedirectResult=m}_initialize(l){var d=this;return(0,I.Z)(function*(){const E=l._key();let N=d.eventManagers.get(E);return N||(N=new Wu(l),d.eventManagers.set(E,N),d.attachCallbackListeners(l,N)),N})()}_openPopup(l){Pe(l,"operation-not-supported-in-this-environment")}_openRedirect(l,d,E,N){var $=this;return(0,I.Z)(function*(){!function au(p){var l,d,E,N,$,ce,Re,ht,Mt,qt;const zt=Ko();Y("function"==typeof(null===(l=zt?.universalLinks)||void 0===l?void 0:l.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(typeof(null===(d=zt?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y("function"==typeof(null===($=null===(N=null===(E=zt?.cordova)||void 0===E?void 0:E.plugins)||void 0===N?void 0:N.browsertab)||void 0===$?void 0:$.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(ht=null===(Re=null===(ce=zt?.cordova)||void 0===ce?void 0:ce.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===ht?void 0:ht.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(qt=null===(Mt=zt?.cordova)||void 0===Mt?void 0:Mt.InAppBrowser)||void 0===qt?void 0:qt.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const ce=yield $._initialize(l);yield ce.initialized(),ce.resetRedirect(),function zo(){Ro.clear()}(),yield $._originValidation(l);const Re=function Pc(p,l,d=null){return{type:l,eventId:d,urlResponse:null,sessionId:da(),postBody:null,tenantId:p.tenantId,error:Oe(p,"no-auth-event")}}(l,E,N);yield function vl(p,l){return hu()._set(El(p),l)}(l,Re);const ht=yield function Hu(p,l,d){return qa.apply(this,arguments)}(l,Re,d),Mt=yield function ca(p){const{cordova:l}=Ko();return new Promise(d=>{l.plugins.browsertab.isAvailable(E=>{let N=null;E?l.plugins.browsertab.openUrl(p):N=l.InAppBrowser.open(p,function xt(p=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(N)})})}(ht);return function Mc(p,l,d){return yl.apply(this,arguments)}(l,ce,Mt)})()}_isIframeWebStorageSupported(l,d){throw new Error("Method not implemented.")}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function ou(p){return _l.apply(this,arguments)}(l)),this.originValidationPromises[d]}attachCallbackListeners(l,d){const{universalLinks:E,handleOpenURL:N,BuildInfo:$}=Ko(),ce=setTimeout((0,I.Z)(function*(){yield cu(l),d.onEvent(Ll())}),500),Re=function(){var qt=(0,I.Z)(function*(zt){clearTimeout(ce);const Yr=yield cu(l);let ho=null;Yr&&zt?.url&&(ho=function Qa(p,l){var d,E;const N=function fu(p){const l=Mo(p),d=l.link?decodeURIComponent(l.link):void 0,E=Mo(d).link,N=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Mo(N).link||N||E||d||p}(l);if(N.includes("/__/auth/callback")){const $=Mo(N),ce=$.firebaseError?function Il(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent($.firebaseError)):null,Re=null===(E=null===(d=ce?.code)||void 0===d?void 0:d.split("auth/"))||void 0===E?void 0:E[1],ht=Re?Oe(Re):null;return ht?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:ht,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:N,postBody:null}}return null}(Yr,zt.url)),d.onEvent(ho||Ll())});return function(Yr){return qt.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,Re);const ht=N,Mt=`${$.packageName.toLowerCase()}://`;Ko().handleOpenURL=function(){var qt=(0,I.Z)(function*(zt){if(zt.toLowerCase().startsWith(Mt)&&Re({url:zt}),"function"==typeof ht)try{ht(zt)}catch(Yr){console.error(Yr)}});return function(zt){return qt.apply(this,arguments)}}()}};function Ll(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Oe("no-auth-event")}}const Ku=1e3;function Cl(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function wl(p=(0,F.z$)()){return!("file:"!==Cl()&&"ionic:"!==Cl()&&"capacitor:"!==Cl()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ja(){try{const p=self.localStorage,l=en();if(p)return p.setItem(l,"1"),p.removeItem(l),!function mu(p=(0,F.z$)()){return function qu(){return(0,F.w1)()&&11===document?.documentMode}()||function gu(p=(0,F.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,F.hl)()}catch{return bl()&&(0,F.hl)()}return!1}function bl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zr(){return(function Zu(){return"http:"===Cl()||"https:"===Cl()}()||(0,F.ru)()||wl())&&!function Yu(){return(0,F.b$)()||(0,F.UG)()}()&&Ja()&&!bl()}function ha(){return wl()&&typeof document<"u"}function fa(){return(fa=(0,I.Z)(function*(){return!!ha()&&new Promise(p=>{const l=setTimeout(()=>{p(!1)},Ku);document.addEventListener("deviceready",()=>{clearTimeout(l),p(!0)})})})).apply(this,arguments)}const Pr={LOCAL:"local",NONE:"none",SESSION:"session"},Po=Y,_u="persistence";function Qu(p){return yu.apply(this,arguments)}function yu(){return(yu=(0,I.Z)(function*(p){yield p._initializationPromise;const l=Tl(),d=K(_u,p.config.apiKey,p.name);l&&l.setItem(d,p._getPersistence())})).apply(this,arguments)}function Tl(){var p;try{return(null===(p=function os(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const Ju=Y;class co{constructor(){this.browserResolver=wt(Za),this.cordovaResolver=wt(Gu),this.underlyingResolver=null,this._redirectPersistence=Yt,this._completeRedirectFn=At,this._overrideRedirectResult=m}_initialize(l){var d=this;return(0,I.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,d,E,N){var $=this;return(0,I.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openPopup(l,d,E,N)})()}_openRedirect(l,d,E,N){var $=this;return(0,I.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openRedirect(l,d,E,N)})()}_isIframeWebStorageSupported(l,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,d)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return ha()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ju(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,I.Z)(function*(){if(l.underlyingResolver)return;const d=yield function Yo(){return fa.apply(this,arguments)}();l.underlyingResolver=d?l.cordovaResolver:l.browserResolver})()}}function Ul(p){return p.unwrap()}function Sl(p){return Al(p)}function Al(p){const{_tokenResponse:l}=p instanceof F.ZR?p.customData:p;if(!l)return null;if(!(p instanceof F.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return $i.credentialFromResult(p);const d=l.providerId;if(!d||d===_e.PASSWORD)return null;let E;switch(d){case _e.GOOGLE:E=ko;break;case _e.FACEBOOK:E=xo;break;case _e.GITHUB:E=Wr;break;case _e.TWITTER:E=ds;break;default:const{oauthIdToken:N,oauthAccessToken:$,oauthTokenSecret:ce,pendingToken:Re,nonce:ht}=l;return $||ce||N||Re?Re?d.startsWith("saml.")?Zi._create(d,Re):fe._fromParams({providerId:d,signInMethod:d,pendingToken:Re,idToken:N,accessToken:$}):new pr(d).credential({idToken:N,accessToken:$,rawNonce:ht}):null}return p instanceof F.ZR?E.credentialFromError(p):E.credentialFromResult(p)}function Ri(p,l){return l.catch(d=>{throw d instanceof F.ZR&&function Bl(p,l){var d;const E=null===(d=l.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new vu(p,function rr(p,l){var d;const E=(0,F.m9)(p),N=l;return Y(l.customData.operationType,E,"argument-error"),Y(null===(d=N.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,E,"argument-error"),Ei._fromError(E,N)}(p,l));else if(E){const N=Al(l),$=l;N&&($.credential=N,$.tenantId=E.tenantId||void 0,$.email=E.email||void 0,$.phoneNumber=E.phoneNumber||void 0)}}(p,d),d}).then(d=>{const N=d.user;return{operationType:d.operationType,credential:Sl(d),additionalUserInfo:va(d),user:Ps.getOrCreate(N)}})}function el(p,l){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,I.Z)(function*(p,l){const d=yield l;return{verificationId:d.verificationId,confirm:E=>Ri(p,d.confirm(E))}})).apply(this,arguments)}class vu{constructor(l,d){this.resolver=d,this.auth=function Xa(p){return p.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Ri(Ul(this.auth),this.resolver.resolveSignIn(l))}}class Ps{constructor(l){this._delegate=l,this.multiFactor=function Ia(p){const l=(0,F.m9)(p);return Us.has(l)||Us.set(l,Ii._fromUser(l)),Us.get(l)}(l)}static getOrCreate(l){return Ps.USER_MAP.has(l)||Ps.USER_MAP.set(l,new Ps(l)),Ps.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var d=this;return(0,I.Z)(function*(){return Ri(d.auth,oi(d._delegate,l))})()}linkWithPhoneNumber(l,d){var E=this;return(0,I.Z)(function*(){return el(E.auth,function Ql(p,l,d){return ba.apply(this,arguments)}(E._delegate,l,d))})()}linkWithPopup(l){var d=this;return(0,I.Z)(function*(){return Ri(d.auth,function Rs(p,l,d){return ji.apply(this,arguments)}(d._delegate,l,co))})()}linkWithRedirect(l){var d=this;return(0,I.Z)(function*(){return yield Qu(Qn(d.auth)),G(d._delegate,l,co)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var d=this;return(0,I.Z)(function*(){return Ri(d.auth,hs(d._delegate,l))})()}reauthenticateWithPhoneNumber(l,d){return el(this.auth,function js(p,l,d){return oa.apply(this,arguments)}(this._delegate,l,d))}reauthenticateWithPopup(l){return Ri(this.auth,function Jl(p,l,d){return Lr.apply(this,arguments)}(this._delegate,l,co))}reauthenticateWithRedirect(l){var d=this;return(0,I.Z)(function*(){return yield Qu(Qn(d.auth)),y(d._delegate,l,co)})()}sendEmailVerification(l){return function Uo(p,l){return ur.apply(this,arguments)}(this._delegate,l)}unlink(l){var d=this;return(0,I.Z)(function*(){return yield function sn(p,l){return gi.apply(this,arguments)}(d._delegate,l),d})()}updateEmail(l){return function _s(p,l){return to((0,F.m9)(p),l,null)}(this._delegate,l)}updatePassword(l){return function ys(p,l){return to((0,F.m9)(p),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Mu(p,l){return cr.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function Io(p,l){return Qi.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,d){return function ai(p,l,d){return eo.apply(this,arguments)}(this._delegate,l,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ps.USER_MAP=new WeakMap;const ga=Y;let Os=(()=>{class p{constructor(d,E){if(this.app=d,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=d.options;ga(N,"invalid-api-key",{appName:d.name}),ga(N,"invalid-api-key",{appName:d.name});const $=typeof window<"u"?co:void 0;this._delegate=E.initialize({options:{persistence:Xu(N,d.name),popupRedirectResolver:$}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ps.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,E){!function us(p,l,d){const E=Qn(p);Y(E._canInitEmulator,E,"emulator-config-failed"),Y(/^https?:\/\//.test(l),E,"invalid-emulator-scheme");const N=!!d?.disableWarnings,$=gn(l),{host:ce,port:Re}=function Jn(p){const l=gn(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(l.length));if(!d)return{host:"",port:null};const E=d[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(E);if(N){const $=N[1];return{host:$,port:sr(E.substr($.length+1))}}{const[$,ce]=E.split(":");return{host:$,port:sr(ce)}}}(l);E.config.emulator={url:`${$}//${ce}${null===Re?"":`:${Re}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ce,port:Re,protocol:$.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function pi(){function p(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,E)}applyActionCode(d){return function mi(p,l){return ar.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Li(this._delegate,d)}confirmPasswordReset(d,E){return function ps(p,l,d){return vo.apply(this,arguments)}(this._delegate,d,E)}createUserWithEmailAndPassword(d,E){var N=this;return(0,I.Z)(function*(){return Ri(N._delegate,function Ze(p,l,d){return Ot.apply(this,arguments)}(N._delegate,d,E))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Eo(p,l){return Xs.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function ms(p,l){return"EMAIL_SIGNIN"===qs.parseLink(l)?.operation}(0,d)}getRedirectResult(){var d=this;return(0,I.Z)(function*(){ga(Zr(),d._delegate,"operation-not-supported-in-this-environment");const E=yield function ut(p,l){return Et.apply(this,arguments)}(d._delegate,co);return E?Ri(d._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Dl(p,l){Qn(p)._logFramework(l)}(this._delegate,d)}onAuthStateChanged(d,E,N){const{next:$,error:ce,complete:Re}=$l(d,E,N);return this._delegate.onAuthStateChanged($,ce,Re)}onIdTokenChanged(d,E,N){const{next:$,error:ce,complete:Re}=$l(d,E,N);return this._delegate.onIdTokenChanged($,ce,Re)}sendSignInLinkToEmail(d,E){return function ya(p,l,d){return Wn.apply(this,arguments)}(this._delegate,d,E)}sendPasswordResetEmail(d,E){return function ks(p,l,d){return Zt.apply(this,arguments)}(this._delegate,d,E||void 0)}setPersistence(d){var E=this;return(0,I.Z)(function*(){let N;switch(function pa(p,l){Po(Object.values(Pr).includes(l),p,"invalid-persistence-type"),(0,F.b$)()?Po(l!==Pr.SESSION,p,"unsupported-persistence-type"):(0,F.UG)()?Po(l===Pr.NONE,p,"unsupported-persistence-type"):bl()?Po(l===Pr.NONE||l===Pr.LOCAL&&(0,F.hl)(),p,"unsupported-persistence-type"):Po(l===Pr.NONE||Ja(),p,"unsupported-persistence-type")}(E._delegate,d),d){case Pr.SESSION:N=Yt;break;case Pr.LOCAL:N=(yield wt(Ds)._isAvailable())?Ds:$e;break;case Pr.NONE:N=X;break;default:return Pe("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Ri(this._delegate,function Jo(p){return si.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Ri(this._delegate,un(this._delegate,d))}signInWithCustomToken(d){return Ri(this._delegate,function _o(p,l){return fs.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,E){return Ri(this._delegate,function er(p,l,d){return un((0,F.m9)(p),go.credential(l,d))}(this._delegate,d,E))}signInWithEmailLink(d,E){return Ri(this._delegate,function Fi(p,l,d){return yr.apply(this,arguments)}(this._delegate,d,E))}signInWithPhoneNumber(d,E){return el(this._delegate,function hl(p,l,d){return $s.apply(this,arguments)}(this._delegate,d,E))}signInWithPopup(d){var E=this;return(0,I.Z)(function*(){return ga(Zr(),E._delegate,"operation-not-supported-in-this-environment"),Ri(E._delegate,function Va(p,l,d){return kr.apply(this,arguments)}(E._delegate,d,co))})()}signInWithRedirect(d){var E=this;return(0,I.Z)(function*(){return ga(Zr(),E._delegate,"operation-not-supported-in-this-environment"),yield Qu(E._delegate),C(E._delegate,d,co)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Fo(p,l){return gs.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=Pr,p})();function $l(p,l,d){let E=p;"function"!=typeof p&&({next:E,error:l,complete:d}=p);const N=E;return{next:ce=>N(ce&&Ps.getOrCreate(ce)),error:l,complete:d}}function Xu(p,l){const d=function Oc(p,l){const d=Tl();if(!d)return[];const E=K(_u,p,l);switch(d.getItem(E)){case Pr.NONE:return[X];case Pr.LOCAL:return[Ds,Yt];case Pr.SESSION:return[Yt];default:return[]}}(p,l);if(typeof self<"u"&&!d.includes(Ds)&&d.push(Ds),typeof window<"u")for(const E of[$e,Yt])d.includes(E)||d.push(E);return d.includes(X)||d.push(X),d}class jl{constructor(){this.providerId="phone",this._delegate=new $i(Ul(j.Z.auth()))}static credential(l,d){return $i.credential(l,d)}verifyPhoneNumber(l,d){return this._delegate.verifyPhoneNumber(l,d)}unwrap(){return this._delegate}}jl.PHONE_SIGN_IN_METHOD=$i.PHONE_SIGN_IN_METHOD,jl.PROVIDER_ID=$i.PROVIDER_ID;const Nc=Y;class ec{constructor(l,d,E=j.Z.app()){var N;Nc(null===(N=E.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Fa(l,d,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kc(p){p.INTERNAL.registerComponent(new ge.wA("auth-compat",l=>{const d=l.getProvider("app-compat").getImmediate(),E=l.getProvider("auth");return new Os(d,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:se_EMAIL_SIGNIN,PASSWORD_RESET:se_PASSWORD_RESET,RECOVER_EMAIL:se_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:se_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:se_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:se_VERIFY_EMAIL}},EmailAuthProvider:go,FacebookAuthProvider:xo,GithubAuthProvider:Wr,GoogleAuthProvider:ko,OAuthProvider:pr,SAMLAuthProvider:Dr,PhoneAuthProvider:jl,PhoneMultiFactorGenerator:ru,RecaptchaVerifier:ec,TwitterAuthProvider:ds,Auth:Os,AuthCredential:jn,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.3.4")}(j.Z)},8766:(It,Ie,k)=>{k.d(Ie,{Lj:()=>Pe,X3:()=>Qe});var I=k(5861);const j=(Y,Ae)=>Ae.some(nt=>Y instanceof nt);let F,re;const ge=new WeakMap,he=new WeakMap,_e=new WeakMap,q=new WeakMap,Q=new WeakMap;let Le={get(Y,Ae,nt){if(Y instanceof IDBTransaction){if("done"===Ae)return he.get(Y);if("objectStoreNames"===Ae)return Y.objectStoreNames||_e.get(Y);if("store"===Ae)return nt.objectStoreNames[1]?void 0:nt.objectStore(nt.objectStoreNames[0])}return Ve(Y[Ae])},set:(Y,Ae,nt)=>(Y[Ae]=nt,!0),has:(Y,Ae)=>Y instanceof IDBTransaction&&("done"===Ae||"store"===Ae)||Ae in Y};function be(Y){return"function"==typeof Y?function _t(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...Ae){return Y.apply(Be(this),Ae),Ve(ge.get(this))}:function(...Ae){return Ve(Y.apply(Be(this),Ae))}:function(Ae,...nt){const qe=Y.call(Be(this),Ae,...nt);return _e.set(qe,Ae.sort?Ae.sort():[Ae]),Ve(qe)}}(Y):(Y instanceof IDBTransaction&&function Ke(Y){if(he.has(Y))return;const Ae=new Promise((nt,qe)=>{const wt=()=>{Y.removeEventListener("complete",ot),Y.removeEventListener("error",x),Y.removeEventListener("abort",x)},ot=()=>{nt(),wt()},x=()=>{qe(Y.error||new DOMException("AbortError","AbortError")),wt()};Y.addEventListener("complete",ot),Y.addEventListener("error",x),Y.addEventListener("abort",x)});he.set(Y,Ae)}(Y),j(Y,function ae(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,Le):Y)}function Ve(Y){if(Y instanceof IDBRequest)return function se(Y){const Ae=new Promise((nt,qe)=>{const wt=()=>{Y.removeEventListener("success",ot),Y.removeEventListener("error",x)},ot=()=>{nt(Ve(Y.result)),wt()},x=()=>{qe(Y.error),wt()};Y.addEventListener("success",ot),Y.addEventListener("error",x)});return Ae.then(nt=>{nt instanceof IDBCursor&&ge.set(nt,Y)}).catch(()=>{}),Q.set(Ae,Y),Ae}(Y);if(q.has(Y))return q.get(Y);const Ae=be(Y);return Ae!==Y&&(q.set(Y,Ae),Q.set(Ae,Y)),Ae}const Be=Y=>Q.get(Y);function Qe(Y,Ae,{blocked:nt,upgrade:qe,blocking:wt,terminated:ot}={}){const x=indexedDB.open(Y,Ae),De=Ve(x);return qe&&x.addEventListener("upgradeneeded",Ee=>{qe(Ve(x.result),Ee.oldVersion,Ee.newVersion,Ve(x.transaction))}),nt&&x.addEventListener("blocked",()=>nt()),De.then(Ee=>{ot&&Ee.addEventListener("close",()=>ot()),wt&&Ee.addEventListener("versionchange",()=>wt())}).catch(()=>{}),De}function Pe(Y,{blocked:Ae}={}){const nt=indexedDB.deleteDatabase(Y);return Ae&&nt.addEventListener("blocked",()=>Ae()),Ve(nt).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],et=new Map;function Ye(Y,Ae){if(!(Y instanceof IDBDatabase)||Ae in Y||"string"!=typeof Ae)return;if(et.get(Ae))return et.get(Ae);const nt=Ae.replace(/FromIndex$/,""),qe=Ae!==nt,wt=We.includes(nt);if(!(nt in(qe?IDBIndex:IDBObjectStore).prototype)||!wt&&!Oe.includes(nt))return;const ot=function(){var x=(0,I.Z)(function*(De,...Ee){const Ce=this.transaction(De,wt?"readwrite":"readonly");let Ue=Ce.store;return qe&&(Ue=Ue.index(Ee.shift())),(yield Promise.all([Ue[nt](...Ee),wt&&Ce.done]))[0]});return function(Ee){return x.apply(this,arguments)}}();return et.set(Ae,ot),ot}!function Ne(Y){Le=Y(Le)}(Y=>({...Y,get:(Ae,nt,qe)=>Ye(Ae,nt)||Y.get(Ae,nt,qe),has:(Ae,nt)=>!!Ye(Ae,nt)||Y.has(Ae,nt)}))},5861:(It,Ie,k)=>{function I(F,re,ae,de,ge,he,_e){try{var q=F[he](_e),Q=q.value}catch(se){return void ae(se)}q.done?re(Q):Promise.resolve(Q).then(de,ge)}function j(F){return function(){var re=this,ae=arguments;return new Promise(function(de,ge){var he=F.apply(re,ae);function _e(Q){I(he,de,ge,_e,q,"next",Q)}function q(Q){I(he,de,ge,_e,q,"throw",Q)}_e(void 0)})}}k.d(Ie,{Z:()=>j})}},It=>{It(It.s=2092)}]);