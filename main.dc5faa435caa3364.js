"use strict";(self.webpackChunkdailyfood=self.webpackChunkdailyfood||[]).push([[179],{6217:(Dt,be,x)=>{x.d(be,{nm:()=>Wn});var v=x(2122);x(4650),x(259);var Fe=x(5861),Pe=x(9681),ze=x(4859),tt=x(2090),et=x(1877);const Y=new Map,Re={activated:!1,tokenObservers:[]},st={initialized:!1,enabled:!1};function Ye(fe){return Y.get(fe)||Object.assign({},Re)}function lt(){return st}const N="https://content-firebaseappcheck.googleapis.com/v1",Ce="exchangeDebugToken",xe={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Je{constructor(ae,me,je,ut,bt){if(this.operation=ae,this.retryPolicy=me,this.getWaitDuration=je,this.lowerBound=ut,this.upperBound=bt,this.pending=null,this.nextErrorWaitInterval=ut,ut>bt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ae){var me=this;return(0,Fe.Z)(function*(){me.stop();try{me.pending=new tt.BH,yield function nt(fe){return new Promise(ae=>{setTimeout(ae,fe)})}(me.getNextRun(ae)),me.pending.resolve(),yield me.pending.promise,me.pending=new tt.BH,yield me.operation(),me.pending.resolve(),yield me.pending.promise,me.process(!0).catch(()=>{})}catch(je){me.retryPolicy(je)?me.process(!1).catch(()=>{}):me.stop()}})()}getNextRun(ae){if(ae)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const me=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),me}}}const dt=new tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _n(fe,ae){return pn.apply(this,arguments)}function pn(){return(pn=(0,Fe.Z)(function*({url:fe,body:ae},me){const je={"Content-Type":"application/json"},ut=me.getImmediate({optional:!0});if(ut){const Ht=yield ut.getHeartbeatsHeader();Ht&&(je["X-Firebase-Client"]=Ht)}const bt={method:"POST",body:JSON.stringify(ae),headers:je};let en,Sn;try{en=yield fetch(fe,bt)}catch(Ht){throw dt.create("fetch-network-error",{originalErrorMessage:Ht?.message})}if(200!==en.status)throw dt.create("fetch-status-error",{httpStatus:en.status});try{Sn=yield en.json()}catch(Ht){throw dt.create("fetch-parse-error",{originalErrorMessage:Ht?.message})}const an=Sn.ttl.match(/^([\d.]+)(s)$/);if(!an||!an[2]||isNaN(Number(an[1])))throw dt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Sn.ttl}`});const mn=1e3*Number(an[1]),dn=Date.now();return{token:Sn.token,expireTimeMillis:dn+mn,issuedAtTimeMillis:dn}})).apply(this,arguments)}const Un="firebase-app-check-database",Qn=1,bn="firebase-app-check-store";let On=null;function Bn(fe,ae){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,Fe.Z)(function*(fe,ae){const je=(yield function pt(){return On||(On=new Promise((fe,ae)=>{try{const me=indexedDB.open(Un,Qn);me.onsuccess=je=>{fe(je.target.result)},me.onerror=je=>{var ut;ae(dt.create("storage-open",{originalErrorMessage:null===(ut=je.target.error)||void 0===ut?void 0:ut.message}))},me.onupgradeneeded=je=>{0===je.oldVersion&&je.target.result.createObjectStore(bn,{keyPath:"compositeKey"})}}catch(me){ae(dt.create("storage-open",{originalErrorMessage:me?.message}))}}),On)}()).transaction(bn,"readwrite"),bt=je.objectStore(bn).put({compositeKey:fe,value:ae});return new Promise((en,Sn)=>{bt.onsuccess=an=>{en()},je.onerror=an=>{var mn;Sn(dt.create("storage-set",{originalErrorMessage:null===(mn=an.target.error)||void 0===mn?void 0:mn.message}))}})})).apply(this,arguments)}const Tn=new et.Yd("@firebase/app-check");function gr(fe,ae){return(0,tt.hl)()?function cr(fe,ae){return Bn(function kn(fe){return`${fe.options.appId}-${fe.name}`}(fe),ae)}(fe,ae).catch(me=>{Tn.warn(`Failed to write token to IndexedDB. Error: ${me}`)}):Promise.resolve()}function nn(){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,Fe.Z)(function*(){const fe=lt();if(fe.enabled&&fe.token)return fe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ct={error:"UNKNOWN_ERROR"};function Ve(fe){return tt.US.encodeString(JSON.stringify(fe),!1)}function Ct(fe){return xt.apply(this,arguments)}function xt(){return(xt=(0,Fe.Z)(function*(fe,ae=!1){const me=fe.app;!function ft(fe){if(!Ye(fe).activated)throw dt.create("use-before-activation",{appName:fe.name})}(me);const je=Ye(me);let bt,ut=je.token;if(ut&&!ie(ut)&&(je.token=void 0,ut=void 0),!ut){const an=yield je.cachedTokenPromise;an&&(ie(an)?ut=an:yield gr(me,void 0))}if(!ae&&ut&&ie(ut))return{token:ut.token};let Sn,en=!1;if(function Dr(){return lt().enabled}()){je.exchangeTokenPromise||(je.exchangeTokenPromise=_n(function vt(fe,ae){const{projectId:me,appId:je,apiKey:ut}=fe.options;return{url:`${N}/projects/${me}/apps/${je}:${Ce}?key=${ut}`,body:{debug_token:ae}}}(me,yield nn()),fe.heartbeatServiceProvider).finally(()=>{je.exchangeTokenPromise=void 0}),en=!0);const an=yield je.exchangeTokenPromise;return yield gr(me,an),je.token=an,{token:an.token}}try{je.exchangeTokenPromise||(je.exchangeTokenPromise=je.provider.getToken().finally(()=>{je.exchangeTokenPromise=void 0}),en=!0),ut=yield Ye(me).exchangeTokenPromise}catch(an){"appCheck/throttled"===an.code?Tn.warn(an.message):Tn.error(an),bt=an}return ut?bt?Sn=ie(ut)?{token:ut.token,internalError:bt}:Me(bt):(Sn={token:ut.token},je.token=ut,yield gr(me,ut)):Sn=Me(bt),en&&function q(fe,ae){const me=Ye(fe).tokenObservers;for(const je of me)try{"EXTERNAL"===je.type&&null!=ae.error?je.error(ae.error):je.next(ae)}catch{}}(me,Sn),Sn})).apply(this,arguments)}function Jt(fe,ae){const me=Ye(fe),je=me.tokenObservers.filter(ut=>ut.next!==ae);0===je.length&&me.tokenRefresher&&me.tokenRefresher.isRunning()&&me.tokenRefresher.stop(),me.tokenObservers=je}function ar(fe){const{app:ae}=fe,me=Ye(ae);let je=me.tokenRefresher;je||(je=function X(fe){const{app:ae}=fe;return new Je((0,Fe.Z)(function*(){let je;if(je=Ye(ae).token?yield Ct(fe,!0):yield Ct(fe),je.error)throw je.error;if(je.internalError)throw je.internalError}),()=>!0,()=>{const me=Ye(ae);if(me.token){let je=me.token.issuedAtTimeMillis+.5*(me.token.expireTimeMillis-me.token.issuedAtTimeMillis)+3e5;return je=Math.min(je,me.token.expireTimeMillis-3e5),Math.max(0,je-Date.now())}return 0},xe.RETRIAL_MIN_WAIT,xe.RETRIAL_MAX_WAIT)}(fe),me.tokenRefresher=je),!je.isRunning()&&me.isTokenAutoRefreshEnabled&&je.start()}function ie(fe){return fe.expireTimeMillis-Date.now()>0}function Me(fe){return{token:Ve(ct),error:fe}}class ve{constructor(ae,me){this.app=ae,this.heartbeatServiceProvider=me}_delete(){const{tokenObservers:ae}=Ye(this.app);for(const me of ae)Jt(this.app,me.next);return Promise.resolve()}}const mr="app-check-internal";!function di(){(0,Pe._registerComponent)(new ze.wA("app-check",fe=>function _t(fe,ae){return new ve(fe,ae)}(fe.getProvider("app").getImmediate(),fe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((fe,ae,me)=>{fe.getProvider(mr).initialize()})),(0,Pe._registerComponent)(new ze.wA(mr,fe=>function ne(fe){return{getToken:ae=>Ct(fe,ae),addTokenListener:ae=>function jt(fe,ae,me,je){const{app:ut}=fe,bt=Ye(ut);if(bt.tokenObservers=[...bt.tokenObservers,{next:me,error:je,type:ae}],bt.token&&ie(bt.token)){const Sn=bt.token;Promise.resolve().then(()=>{me({token:Sn.token}),ar(fe)}).catch(()=>{})}bt.cachedTokenPromise.then(()=>ar(fe))}(fe,"INTERNAL",ae),removeTokenListener:ae=>Jt(fe.app,ae)}}(fe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pe.registerVersion)("@firebase/app-check","0.6.4")}();class Wn{constructor(){return(0,v.vb)("app-check")}}typeof window<"u"&&window},1205:(Dt,be,x)=>{x.d(be,{zQ:()=>N,rT:()=>st,f7:()=>it,L6:()=>Y,_Q:()=>Re,lh:()=>Ye,Qv:()=>et,nw:()=>lt});var v=x(4650),H=x(7579),F=x(9646),te=x(9751),oe=x(8996),ce=x(6451),ge=x(5363),pe=x(3900),_e=x(4004),Q=x(6063);class J extends H.x{constructor(Ce=1/0,xe=1/0,Ue=Q.l){super(),this._bufferSize=Ce,this._windowTime=xe,this._timestampProvider=Ue,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=xe===1/0,this._bufferSize=Math.max(1,Ce),this._windowTime=Math.max(1,xe)}next(Ce){const{isStopped:xe,_buffer:Ue,_infiniteTimeWindow:Je,_timestampProvider:nt,_windowTime:Bt}=this;xe||(Ue.push(Ce),!Je&&Ue.push(nt.now()+Bt)),this._trimBuffer(),super.next(Ce)}_subscribe(Ce){this._throwIfClosed(),this._trimBuffer();const xe=this._innerSubscribe(Ce),{_infiniteTimeWindow:Ue,_buffer:Je}=this,nt=Je.slice();for(let Bt=0;Bt<nt.length&&!Ce.closed;Bt+=Ue?1:2)Ce.next(nt[Bt]);return this._checkFinalizedStatuses(Ce),xe}_trimBuffer(){const{_bufferSize:Ce,_timestampProvider:xe,_buffer:Ue,_infiniteTimeWindow:Je}=this,nt=(Je?1:2)*Ce;if(Ce<1/0&&nt<Ue.length&&Ue.splice(0,Ue.length-nt),!Je){const Bt=xe.now();let dt=0;for(let Vt=1;Vt<Ue.length&&Ue[Vt]<=Bt;Vt+=2)dt=Vt;dt&&Ue.splice(0,dt+1)}}}var se=x(3099);function Ke(Ie,Ce,xe){let Ue,Je=!1;return Ie&&"object"==typeof Ie?({bufferSize:Ue=1/0,windowTime:Ce=1/0,refCount:Je=!1,scheduler:xe}=Ie):Ue=Ie??1/0,(0,se.B)({connector:()=>new J(Ue,Ce,xe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Je})}var Be=x(590),at=x(576);function wt(Ie,Ce){return(0,at.m)(Ce)?(0,pe.w)(()=>Ie,Ce):(0,pe.w)(()=>Ie)}var Se=x(9468),We=x(9300),$e=x(2122),rt=x(2011),Fe=x(6895),Pe=x(6217);x(9260);const et=new v.OlP("angularfire2.auth.use-emulator"),Y=new v.OlP("angularfire2.auth.settings"),Re=new v.OlP("angularfire2.auth.tenant-id"),st=new v.OlP("angularfire2.auth.langugage-code"),Ye=new v.OlP("angularfire2.auth.use-device-language"),it=new v.OlP("angularfire.auth.persistence"),lt=(Ie,Ce,xe,Ue,Je,nt,Bt,dt)=>(0,rt.cc)(`${Ie.name}.auth`,"AngularFireAuth",Ie.name,()=>{const Vt=Ce.runOutsideAngular(()=>Ie.auth());if(xe&&Vt.useEmulator(...xe),Ue&&(Vt.tenantId=Ue),Vt.languageCode=Je,nt&&Vt.useDeviceLanguage(),Bt)for(const[ft,Ut]of Object.entries(Bt))Vt.settings[ft]=Ut;return dt&&Vt.setPersistence(dt),Vt},[xe,Ue,Je,nt,Bt,dt]);let N=(()=>{class Ie{constructor(xe,Ue,Je,nt,Bt,dt,Vt,ft,Ut,Fn,_n,pn){const Mn=new H.x,er=(0,F.of)(void 0).pipe((0,ge.Q)(Bt.outsideAngular),(0,pe.w)(()=>nt.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,4217)))),(0,_e.U)(()=>(0,rt.on)(xe,nt,Ue)),(0,_e.U)(vt=>lt(vt,nt,dt,ft,Ut,Fn,Vt,_n)),Ke({bufferSize:1,refCount:!1}));if((0,Fe.PM)(Je))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,F.of)(null);else{er.pipe((0,Be.P)()).subscribe();const Un=er.pipe((0,pe.w)(Mt=>Mt.getRedirectResult().then(On=>On,()=>null)),$e.iC,Ke({bufferSize:1,refCount:!1})),Qn=er.pipe((0,pe.w)(Mt=>new te.y(On=>({unsubscribe:nt.runOutsideAngular(()=>Mt.onAuthStateChanged(pt=>On.next(pt),pt=>On.error(pt),()=>On.complete()))})))),bn=er.pipe((0,pe.w)(Mt=>new te.y(On=>({unsubscribe:nt.runOutsideAngular(()=>Mt.onIdTokenChanged(pt=>On.next(pt),pt=>On.error(pt),()=>On.complete()))}))));this.authState=Un.pipe(wt(Qn),(0,Se.R)(Bt.outsideAngular),(0,ge.Q)(Bt.insideAngular)),this.user=Un.pipe(wt(bn),(0,Se.R)(Bt.outsideAngular),(0,ge.Q)(Bt.insideAngular)),this.idToken=this.user.pipe((0,pe.w)(Mt=>Mt?(0,oe.D)(Mt.getIdToken()):(0,F.of)(null))),this.idTokenResult=this.user.pipe((0,pe.w)(Mt=>Mt?(0,oe.D)(Mt.getIdTokenResult()):(0,F.of)(null))),this.credential=(0,ce.T)(Un,Mn,this.authState.pipe((0,We.h)(Mt=>!Mt))).pipe((0,_e.U)(Mt=>Mt?.user?Mt:null),(0,Se.R)(Bt.outsideAngular),(0,ge.Q)(Bt.insideAngular))}return(0,rt.pX)(this,er,nt,{spy:{apply:(vt,Un,Qn)=>{(vt.startsWith("signIn")||vt.startsWith("createUser"))&&Qn.then(bn=>Mn.next(bn))}}})}}return Ie.\u0275fac=function(xe){return new(xe||Ie)(v.LFG(rt.Dh),v.LFG(rt.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG($e.HU),v.LFG(et,8),v.LFG(Y,8),v.LFG(Re,8),v.LFG(st,8),v.LFG(Ye,8),v.LFG(it,8),v.LFG(Pe.nm,8))},Ie.\u0275prov=v.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"any"}),Ie})()},2011:(Dt,be,x)=>{x.d(be,{Dh:()=>pe,GT:()=>ce,cc:()=>Be,hO:()=>Ke,on:()=>Q,pX:()=>oe,xv:()=>_e});var v=x(4650),H=x(9260),F=x(2122);Dt=x.hmd(Dt);const te=["ngOnDestroy"],oe=(We,$e,rt,Fe={})=>new Proxy(We,{get:(Pe,ze)=>rt.runOutsideAngular(()=>{var tt;if(We[ze])return!(null===(tt=Fe?.spy)||void 0===tt)&&tt.get&&Fe.spy.get(ze,We[ze]),We[ze];if(te.indexOf(ze)>-1)return()=>{};const et=$e.toPromise().then(Y=>{const Re=Y&&Y[ze];return"function"==typeof Re?Re.bind(Y):Re&&Re.then?Re.then(st=>rt.run(()=>st)):rt.run(()=>Re)});return new Proxy(()=>{},{get:(Y,Re)=>et[Re],apply:(Y,Re,st)=>et.then(Ye=>{var it;const lt=Ye&&Ye(...st);return!(null===(it=Fe?.spy)||void 0===it)&&it.apply&&Fe.spy.apply(ze,st,lt),lt})})})}),ce=(We,$e)=>{$e.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Fe=>{Object.defineProperty(We.prototype,Fe,Object.getOwnPropertyDescriptor(rt.prototype||rt,Fe))})})};class ge{constructor($e){return $e}}const pe=new v.OlP("angularfire2.app.options"),_e=new v.OlP("angularfire2.app.name");function Q(We,$e,rt){const Pe="object"==typeof rt&&rt||{};Pe.name=Pe.name||"string"==typeof rt&&rt||"[DEFAULT]";const tt=H.Z.apps.filter(et=>et&&et.name===Pe.name)[0]||$e.runOutsideAngular(()=>H.Z.initializeApp(We,Pe));try{JSON.stringify(We)!==JSON.stringify(tt.options)&&J("error",`${tt.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(tt)}const J=(We,...$e)=>{(0,v.X6Q)()&&typeof console<"u"&&console[We](...$e)},se={provide:ge,useFactory:Q,deps:[pe,v.R0b,[new v.FiY,_e]]};let Ke=(()=>{class We{constructor(rt){H.Z.registerVersion("angularfire",F.q4.full,"core"),H.Z.registerVersion("angularfire",F.q4.full,"app-compat"),H.Z.registerVersion("angular",v.q4F.full,rt.toString())}static initializeApp(rt,Fe){return{ngModule:We,providers:[{provide:pe,useValue:rt},{provide:_e,useValue:Fe}]}}}return We.\u0275fac=function(rt){return new(rt||We)(v.LFG(v.Lbi))},We.\u0275mod=v.oAB({type:We}),We.\u0275inj=v.cJS({providers:[se]}),We})();function Be(We,$e,rt,Fe,Pe){const[,ze,tt]=globalThis.\u0275AngularfireInstanceCache.find(et=>et[0]===We)||[];if(ze)return function at(We,$e){try{return We.toString()===$e.toString()}catch{return We===$e}}(Pe,tt)||(Se("error",`${$e} was already initialized on the ${rt} Firebase App with different settings.${wt?" You may need to reload as Firebase is not HMR aware.":""}`),Se("warn",{is:Pe,was:tt})),ze;{const et=Fe();return globalThis.\u0275AngularfireInstanceCache.push([We,et,Pe]),et}}const wt=!!Dt.hot,Se=(We,...$e)=>{(0,v.X6Q)()&&typeof console<"u"&&console[We](...$e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Dt,be,x)=>{x.d(be,{q4:()=>Wr,iC:()=>Le,HU:()=>h,vb:()=>Go,JM:()=>Oi});var v=x(4650),H=x(259),F=x(5861),te=x(9681),oe=x(2090),ce=x(4859),ge=x(1877),pe=x(8766);const _e="@firebase/installations",Q="0.6.4",J=1e4,se=`w:${Q}`,Ke="FIS_v2",Be="https://firebaseinstallations.googleapis.com/v1",at=36e5,$e=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(b){return b instanceof oe.ZR&&b.code.includes("request-failed")}function Fe({projectId:b}){return`${Be}/projects/${b}/installations`}function Pe(b){return{token:b.token,requestStatus:2,expiresIn:Ye(b.expiresIn),creationTime:Date.now()}}function ze(b,A){return tt.apply(this,arguments)}function tt(){return(tt=(0,F.Z)(function*(b,A){const K=(yield A.json()).error;return $e.create("request-failed",{requestName:b,serverCode:K.code,serverMessage:K.message,serverStatus:K.status})})).apply(this,arguments)}function et({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function Re(b){return st.apply(this,arguments)}function st(){return(st=(0,F.Z)(function*(b){const A=yield b();return A.status>=500&&A.status<600?b():A})).apply(this,arguments)}function Ye(b){return Number(b.replace("s","000"))}function N(){return(N=(0,F.Z)(function*({appConfig:b,heartbeatServiceProvider:A},{fid:L}){const K=Fe(b),le=et(b),we=A.getImmediate({optional:!0});if(we){const zt=yield we.getHeartbeatsHeader();zt&&le.append("x-firebase-client",zt)}const Tt={method:"POST",headers:le,body:JSON.stringify({fid:L,authVersion:Ke,appId:b.appId,sdkVersion:se})},Lt=yield Re(()=>fetch(K,Tt));if(Lt.ok){const zt=yield Lt.json();return{fid:zt.fid||L,registrationStatus:2,refreshToken:zt.refreshToken,authToken:Pe(zt.authToken)}}throw yield ze("Create Installation",Lt)})).apply(this,arguments)}function Te(b){return new Promise(A=>{setTimeout(A,b)})}const Ce=/^[cdef][\w-]{21}$/,xe="";function Ue(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const L=function Je(b){return function Ie(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Ce.test(L)?L:xe}catch{return xe}}function nt(b){return`${b.appName}!${b.appId}`}const Bt=new Map;function dt(b,A){const L=nt(b);Ut(L,A),function Fn(b,A){const L=function pn(){return!_n&&"BroadcastChannel"in self&&(_n=new BroadcastChannel("[Firebase] FID Change"),_n.onmessage=b=>{Ut(b.data.key,b.data.fid)}),_n}();L&&L.postMessage({key:b,fid:A}),function Mn(){0===Bt.size&&_n&&(_n.close(),_n=null)}()}(L,A)}function Ut(b,A){const L=Bt.get(b);if(L)for(const K of L)K(A)}let _n=null;const er="firebase-installations-database",vt=1,Un="firebase-installations-store";let Qn=null;function bn(){return Qn||(Qn=(0,pe.X3)(er,vt,{upgrade:(b,A)=>{0===A&&b.createObjectStore(Un)}})),Qn}function Mt(b,A){return On.apply(this,arguments)}function On(){return(On=(0,F.Z)(function*(b,A){const L=nt(b),le=(yield bn()).transaction(Un,"readwrite"),we=le.objectStore(Un),Xe=yield we.get(L);return yield we.put(A,L),yield le.done,(!Xe||Xe.fid!==A.fid)&&dt(b,A.fid),A})).apply(this,arguments)}function pt(b){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,F.Z)(function*(b){const A=nt(b),K=(yield bn()).transaction(Un,"readwrite");yield K.objectStore(Un).delete(A),yield K.done})).apply(this,arguments)}function cr(b,A){return En.apply(this,arguments)}function En(){return(En=(0,F.Z)(function*(b,A){const L=nt(b),le=(yield bn()).transaction(Un,"readwrite"),we=le.objectStore(Un),Xe=yield we.get(L),Tt=A(Xe);return void 0===Tt?yield we.delete(L):yield we.put(Tt,L),yield le.done,Tt&&(!Xe||Xe.fid!==Tt.fid)&&dt(b,Tt.fid),Tt})).apply(this,arguments)}function sr(b){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,F.Z)(function*(b){let A;const L=yield cr(b.appConfig,K=>{const le=function Ot(b){return gr(b||{fid:Ue(),registrationStatus:0})}(K),we=function Rt(b,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject($e.create("app-offline"))};const L={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},K=function Nt(b,A){return kn.apply(this,arguments)}(b,L);return{installationEntry:L,registrationPromise:K}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Tn(b)}:{installationEntry:A}}(b,le);return A=we.registrationPromise,we.installationEntry});return L.fid===xe?{installationEntry:yield A}:{installationEntry:L,registrationPromise:A}}),Bn.apply(this,arguments)}function kn(){return kn=(0,F.Z)(function*(b,A){try{const L=yield function lt(b,A){return N.apply(this,arguments)}(b,A);return Mt(b.appConfig,L)}catch(L){throw rt(L)&&409===L.customData.serverCode?yield pt(b.appConfig):yield Mt(b.appConfig,{fid:A.fid,registrationStatus:0}),L}}),kn.apply(this,arguments)}function Tn(b){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,F.Z)(function*(b){let A=yield or(b.appConfig);for(;1===A.registrationStatus;)yield Te(100),A=yield or(b.appConfig);if(0===A.registrationStatus){const{installationEntry:L,registrationPromise:K}=yield sr(b);return K||L}return A})).apply(this,arguments)}function or(b){return cr(b,A=>{if(!A)throw $e.create("installation-not-found");return gr(A)})}function gr(b){return function Ii(b){return 1===b.registrationStatus&&b.registrationTime+J<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Dr(){return(Dr=(0,F.Z)(function*({appConfig:b,heartbeatServiceProvider:A},L){const K=function nn(b,{fid:A}){return`${Fe(b)}/${A}/authTokens:generate`}(b,L),le=function Y(b,{refreshToken:A}){const L=et(b);return L.append("Authorization",function it(b){return`${Ke} ${b}`}(A)),L}(b,L),we=A.getImmediate({optional:!0});if(we){const zt=yield we.getHeartbeatsHeader();zt&&le.append("x-firebase-client",zt)}const Tt={method:"POST",headers:le,body:JSON.stringify({installation:{sdkVersion:se,appId:b.appId}})},Lt=yield Re(()=>fetch(K,Tt));if(Lt.ok)return Pe(yield Lt.json());throw yield ze("Generate Auth Token",Lt)})).apply(this,arguments)}function Ft(b){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,F.Z)(function*(b,A=!1){let L;const K=yield cr(b.appConfig,we=>{if(!Jt(we))throw $e.create("not-registered");const Xe=we.authToken;if(!A&&function ar(b){return 2===b.requestStatus&&!function X(b){const A=Date.now();return A<b.creationTime||b.creationTime+b.expiresIn<A+at}(b)}(Xe))return we;if(1===Xe.requestStatus)return L=function ct(b,A){return Ve.apply(this,arguments)}(b,A),we;{if(!navigator.onLine)throw $e.create("app-offline");const Tt=function q(b){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:A})}(we);return L=function xt(b,A){return jt.apply(this,arguments)}(b,Tt),Tt}});return L?yield L:K.authToken}),Rr.apply(this,arguments)}function Ve(){return(Ve=(0,F.Z)(function*(b,A){let L=yield Ct(b.appConfig);for(;1===L.authToken.requestStatus;)yield Te(100),L=yield Ct(b.appConfig);const K=L.authToken;return 0===K.requestStatus?Ft(b,A):K})).apply(this,arguments)}function Ct(b){return cr(b,A=>{if(!Jt(A))throw $e.create("not-registered");return function ie(b){return 1===b.requestStatus&&b.requestTime+J<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function jt(){return jt=(0,F.Z)(function*(b,A){try{const L=yield function In(b,A){return Dr.apply(this,arguments)}(b,A),K=Object.assign(Object.assign({},A),{authToken:L});return yield Mt(b.appConfig,K),L}catch(L){if(!rt(L)||401!==L.customData.serverCode&&404!==L.customData.serverCode){const K=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Mt(b.appConfig,K)}else yield pt(b.appConfig);throw L}}),jt.apply(this,arguments)}function Jt(b){return void 0!==b&&2===b.registrationStatus}function ve(){return(ve=(0,F.Z)(function*(b){const A=b,{installationEntry:L,registrationPromise:K}=yield sr(A);return K?K.catch(console.error):Ft(A).catch(console.error),L.fid})).apply(this,arguments)}function ne(){return ne=(0,F.Z)(function*(b,A=!1){const L=b;return yield function re(b){return W.apply(this,arguments)}(L),(yield Ft(L,A)).token}),ne.apply(this,arguments)}function W(){return(W=(0,F.Z)(function*(b){const{registrationPromise:A}=yield sr(b);A&&(yield A)})).apply(this,arguments)}function Di(b){return $e.create("missing-app-config-values",{valueName:b})}const Li="installations",Ln=b=>{const A=b.getProvider("app").getImmediate(),L=function ci(b){if(!b||!b.options)throw Di("App Configuration");if(!b.name)throw Di("App Name");const A=["projectId","apiKey","appId"];for(const L of A)if(!b.options[L])throw Di(L);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(A);return{app:A,appConfig:L,heartbeatServiceProvider:(0,te._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Fi=b=>{const A=b.getProvider("app").getImmediate(),L=(0,te._getProvider)(A,Li).getImmediate();return{getId:()=>function Me(b){return ve.apply(this,arguments)}(L),getToken:le=>function _t(b){return ne.apply(this,arguments)}(L,le)}};(function xs(){(0,te._registerComponent)(new ce.wA(Li,Ln,"PUBLIC")),(0,te._registerComponent)(new ce.wA("installations-internal",Fi,"PRIVATE"))})(),(0,te.registerVersion)(_e,Q),(0,te.registerVersion)(_e,Q,"esm2017");const gn="@firebase/remote-config",$n=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fi{constructor(A,L,K,le){this.client=A,this.storage=L,this.storageCache=K,this.logger=le}isCachedDataFresh(A,L){if(!L)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const K=Date.now()-L,le=K<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${K}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${le}.`),le}fetch(A){var L=this;return(0,F.Z)(function*(){const[K,le]=yield Promise.all([L.storage.getLastSuccessfulFetchTimestampMillis(),L.storage.getLastSuccessfulFetchResponse()]);if(le&&L.isCachedDataFresh(A.cacheMaxAgeMillis,K))return le;A.eTag=le&&le.eTag;const we=yield L.client.fetch(A),Xe=[L.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===we.status&&Xe.push(L.storage.setLastSuccessfulFetchResponse(we)),yield Promise.all(Xe),we})()}}function ds(b=navigator){return b.languages&&b.languages[0]||b.language}class Pn{constructor(A,L,K,le,we,Xe){this.firebaseInstallations=A,this.sdkVersion=L,this.namespace=K,this.projectId=le,this.apiKey=we,this.appId=Xe}fetch(A){var L=this;return(0,F.Z)(function*(){const[K,le]=yield Promise.all([L.firebaseInstallations.getId(),L.firebaseInstallations.getToken()]),Xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${L.projectId}/namespaces/${L.namespace}:fetch?key=${L.apiKey}`,Tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Lt={sdk_version:L.sdkVersion,app_instance_id:K,app_instance_id_token:le,app_id:L.appId,language_code:ds()},zt={method:"POST",headers:Tt,body:JSON.stringify(Lt)},Cn=fetch(Xe,zt),sn=new Promise((Ni,ss)=>{A.signal.addEventListener(()=>{const oa=new Error("The operation was aborted.");oa.name="AbortError",ss(oa)})});let si;try{yield Promise.race([Cn,sn]),si=yield Cn}catch(Ni){let ss="fetch-client-network";throw"AbortError"===Ni?.name&&(ss="fetch-timeout"),$n.create(ss,{originalErrorMessage:Ni?.message})}let oi=si.status;const po=si.headers.get("ETag")||void 0;let ja,sa;if(200===si.status){let Ni;try{Ni=yield si.json()}catch(ss){throw $n.create("fetch-client-parse",{originalErrorMessage:ss?.message})}ja=Ni.entries,sa=Ni.state}if("INSTANCE_STATE_UNSPECIFIED"===sa?oi=500:"NO_CHANGE"===sa?oi=304:("NO_TEMPLATE"===sa||"EMPTY_CONFIG"===sa)&&(ja={}),304!==oi&&200!==oi)throw $n.create("fetch-status",{httpStatus:oi});return{status:oi,eTag:po,config:ja}})()}}class ae{constructor(A,L){this.client=A,this.storage=L}fetch(A){var L=this;return(0,F.Z)(function*(){const K=(yield L.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return L.attemptFetch(A,K)})()}attemptFetch(A,{throttleEndTimeMillis:L,backoffCount:K}){var le=this;return(0,F.Z)(function*(){yield function Ui(b,A){return new Promise((L,K)=>{const le=Math.max(A-Date.now(),0),we=setTimeout(L,le);b.addEventListener(()=>{clearTimeout(we),K($n.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,L);try{const we=yield le.client.fetch(A);return yield le.storage.deleteThrottleMetadata(),we}catch(we){if(!function fe(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const A=Number(b.customData.httpStatus);return 429===A||500===A||503===A||504===A}(we))throw we;const Xe={throttleEndTimeMillis:Date.now()+(0,oe.$s)(K),backoffCount:K+1};return yield le.storage.setThrottleMetadata(Xe),le.attemptFetch(A,Xe)}})()}}class ut{constructor(A,L,K,le,we){this.app=A,this._client=L,this._storageCache=K,this._storage=le,this._logger=we,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bt(b,A){const L=b.target.error||void 0;return $n.create(A,{originalErrorMessage:L&&L?.message})}const en="app_namespace_store";class dn{constructor(A,L,K,le=function mn(){return new Promise((b,A)=>{try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=K=>{A(bt(K,"storage-open"))},L.onsuccess=K=>{b(K.target.result)},L.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(en,{keyPath:"compositeKey"})}}catch(L){A($n.create("storage-open",{originalErrorMessage:L?.message}))}})}()){this.appId=A,this.appName=L,this.namespace=K,this.openDbPromise=le}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var L=this;return(0,F.Z)(function*(){const K=yield L.openDbPromise;return new Promise((le,we)=>{const Tt=K.transaction([en],"readonly").objectStore(en),Lt=L.createCompositeKey(A);try{const zt=Tt.get(Lt);zt.onerror=Cn=>{we(bt(Cn,"storage-get"))},zt.onsuccess=Cn=>{const sn=Cn.target.result;le(sn?sn.value:void 0)}}catch(zt){we($n.create("storage-get",{originalErrorMessage:zt?.message}))}})})()}set(A,L){var K=this;return(0,F.Z)(function*(){const le=yield K.openDbPromise;return new Promise((we,Xe)=>{const Lt=le.transaction([en],"readwrite").objectStore(en),zt=K.createCompositeKey(A);try{const Cn=Lt.put({compositeKey:zt,value:L});Cn.onerror=sn=>{Xe(bt(sn,"storage-set"))},Cn.onsuccess=()=>{we()}}catch(Cn){Xe($n.create("storage-set",{originalErrorMessage:Cn?.message}))}})})()}delete(A){var L=this;return(0,F.Z)(function*(){const K=yield L.openDbPromise;return new Promise((le,we)=>{const Tt=K.transaction([en],"readwrite").objectStore(en),Lt=L.createCompositeKey(A);try{const zt=Tt.delete(Lt);zt.onerror=Cn=>{we(bt(Cn,"storage-delete"))},zt.onsuccess=()=>{le()}}catch(zt){we($n.create("storage-delete",{originalErrorMessage:zt?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Ht{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,F.Z)(function*(){const L=A.storage.getLastFetchStatus(),K=A.storage.getLastSuccessfulFetchTimestampMillis(),le=A.storage.getActiveConfig(),we=yield L;we&&(A.lastFetchStatus=we);const Xe=yield K;Xe&&(A.lastSuccessfulFetchTimestampMillis=Xe);const Tt=yield le;Tt&&(A.activeConfig=Tt)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Qs(){return hs.apply(this,arguments)}function hs(){return(hs=(0,F.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function tr(){(0,te._registerComponent)(new ce.wA("remote-config",function b(A,{instanceIdentifier:L}){const K=A.getProvider("app").getImmediate(),le=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $n.create("registration-window");if(!(0,oe.hl)())throw $n.create("indexed-db-unavailable");const{projectId:we,apiKey:Xe,appId:Tt}=K.options;if(!we)throw $n.create("registration-project-id");if(!Xe)throw $n.create("registration-api-key");if(!Tt)throw $n.create("registration-app-id");const Lt=new dn(Tt,K.name,L=L||"firebase"),zt=new Ht(Lt),Cn=new ge.Yd(gn);Cn.logLevel=ge.in.ERROR;const sn=new Pn(le,te.SDK_VERSION,L,we,Xe,Tt),si=new ae(sn,Lt),oi=new fi(si,Lt,zt,Cn),po=new ut(K,oi,zt,Lt,Cn);return function Mr(b){const A=(0,oe.m9)(b);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(po),po},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(gn,"0.4.4"),(0,te.registerVersion)(gn,"0.4.4","esm2017")}();const Js="/firebase-messaging-sw.js",Rn="/firebase-cloud-messaging-push-scope",Gt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nr="https://fcmregistrations.googleapis.com/v1",vo="google.c.a.c_id",Eo="google.c.a.c_l",ri="google.c.a.ts",ks="google.c.a.e";var ps=(()=>{return(b=ps||(ps={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",ps;var b})();function jr(b){const A=new Uint8Array(b);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gs(b){const L=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),K=atob(L),le=new Uint8Array(K.length);for(let we=0;we<K.length;++we)le[we]=K.charCodeAt(we);return le}const Bi="fcm_token_details_db",wi=5,Hr="fcm_token_object_Store";function Jo(){return Jo=(0,F.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(we=>we.name).includes(Bi))return null;let A=null;return(yield(0,pe.X3)(Bi,wi,{upgrade:(K=(0,F.Z)(function*(le,we,Xe,Tt){var Lt;if(we<2||!le.objectStoreNames.contains(Hr))return;const zt=Tt.objectStore(Hr),Cn=yield zt.index("fcmSenderId").get(b);if(yield zt.clear(),Cn)if(2===we){const sn=Cn;if(!sn.auth||!sn.p256dh||!sn.endpoint)return;A={token:sn.fcmToken,createTime:null!==(Lt=sn.createTime)&&void 0!==Lt?Lt:Date.now(),subscriptionOptions:{auth:sn.auth,p256dh:sn.p256dh,endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:"string"==typeof sn.vapidKey?sn.vapidKey:jr(sn.vapidKey)}}}else if(3===we){const sn=Cn;A={token:sn.fcmToken,createTime:sn.createTime,subscriptionOptions:{auth:jr(sn.auth),p256dh:jr(sn.p256dh),endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:jr(sn.vapidKey)}}}else if(4===we){const sn=Cn;A={token:sn.fcmToken,createTime:sn.createTime,subscriptionOptions:{auth:jr(sn.auth),p256dh:jr(sn.p256dh),endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:jr(sn.vapidKey)}}}}),function(we,Xe,Tt,Lt){return K.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Bi),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),function ii(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:A}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var K}),Jo.apply(this,arguments)}const Do="firebase-messaging-database",Co=1,xr="firebase-messaging-store";let hn=null;function Vi(){return hn||(hn=(0,pe.X3)(Do,Co,{upgrade:(b,A)=>{0===A&&b.createObjectStore(xr)}})),hn}function $i(b){return ji.apply(this,arguments)}function ji(){return ji=(0,F.Z)(function*(b){const A=_r(b),K=yield(yield Vi()).transaction(xr).objectStore(xr).get(A);if(K)return K;{const le=yield function Io(b){return Jo.apply(this,arguments)}(b.appConfig.senderId);if(le)return yield Lr(b,le),le}}),ji.apply(this,arguments)}function Lr(b,A){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,F.Z)(function*(b,A){const L=_r(b),le=(yield Vi()).transaction(xr,"readwrite");return yield le.objectStore(xr).put(A,L),yield le.done,A})).apply(this,arguments)}function Pr(){return(Pr=(0,F.Z)(function*(b){const A=_r(b),K=(yield Vi()).transaction(xr,"readwrite");yield K.objectStore(xr).delete(A),yield K.done})).apply(this,arguments)}function _r({appConfig:b}){return b.appId}const fn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ls(b,A){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,F.Z)(function*(b,A){const L=yield Lo(b),K=ms(A),le={method:"POST",headers:L,body:JSON.stringify(K)};let we;try{we=yield(yield fetch(br(b.appConfig),le)).json()}catch(Xe){throw fn.create("token-subscribe-failed",{errorInfo:Xe?.toString()})}if(we.error)throw fn.create("token-subscribe-failed",{errorInfo:we.error.message});if(!we.token)throw fn.create("token-subscribe-no-token");return we.token})).apply(this,arguments)}function wo(){return(wo=(0,F.Z)(function*(b,A){const L=yield Lo(b),K=ms(A.subscriptionOptions),le={method:"PATCH",headers:L,body:JSON.stringify(K)};let we;try{we=yield(yield fetch(`${br(b.appConfig)}/${A.token}`,le)).json()}catch(Xe){throw fn.create("token-update-failed",{errorInfo:Xe?.toString()})}if(we.error)throw fn.create("token-update-failed",{errorInfo:we.error.message});if(!we.token)throw fn.create("token-update-no-token");return we.token})).apply(this,arguments)}function Qi(b,A){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,F.Z)(function*(b,A){const K={method:"DELETE",headers:yield Lo(b)};try{const we=yield(yield fetch(`${br(b.appConfig)}/${A}`,K)).json();if(we.error)throw fn.create("token-unsubscribe-failed",{errorInfo:we.error.message})}catch(le){throw fn.create("token-unsubscribe-failed",{errorInfo:le?.toString()})}})).apply(this,arguments)}function br({projectId:b}){return`${nr}/projects/${b}/registrations`}function Lo(b){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,F.Z)(function*({appConfig:b,installations:A}){const L=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${L}`})})).apply(this,arguments)}function ms({p256dh:b,auth:A,endpoint:L,vapidKey:K}){const le={web:{endpoint:L,auth:A,p256dh:b}};return K!==Gt&&(le.web.applicationPubKey=K),le}const fr=6048e5;function Xi(){return Xi=(0,F.Z)(function*(b){const A=yield function Kt(b,A){return ys.apply(this,arguments)}(b.swRegistration,b.vapidKey),L={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:A.endpoint,auth:jr(A.getKey("auth")),p256dh:jr(A.getKey("p256dh"))},K=yield $i(b.firebaseDependencies);if(K){if(function vs(b,A){return A.vapidKey===b.vapidKey&&A.endpoint===b.endpoint&&A.auth===b.auth&&A.p256dh===b.p256dh}(K.subscriptionOptions,L))return Date.now()>=K.createTime+fr?function Xs(b,A){return pi.apply(this,arguments)}(b,{token:K.token,createTime:Date.now(),subscriptionOptions:L}):K.token;try{yield Qi(b.firebaseDependencies,K.token)}catch(le){console.warn(le)}return gi(b.firebaseDependencies,L)}return gi(b.firebaseDependencies,L)}),Xi.apply(this,arguments)}function _s(){return _s=(0,F.Z)(function*(b){const A=yield $i(b.firebaseDependencies);A&&(yield Qi(b.firebaseDependencies,A.token),yield function Fr(b){return Pr.apply(this,arguments)}(b.firebaseDependencies));const L=yield b.swRegistration.pushManager.getSubscription();return!L||L.unsubscribe()}),_s.apply(this,arguments)}function pi(){return pi=(0,F.Z)(function*(b,A){try{const L=yield function wr(b,A){return wo.apply(this,arguments)}(b.firebaseDependencies,A),K=Object.assign(Object.assign({},A),{token:L,createTime:Date.now()});return yield Lr(b.firebaseDependencies,K),L}catch(L){throw yield function tn(b){return _s.apply(this,arguments)}(b),L}}),pi.apply(this,arguments)}function gi(b,A){return es.apply(this,arguments)}function es(){return(es=(0,F.Z)(function*(b,A){const K={token:yield Ls(b,A),createTime:Date.now(),subscriptionOptions:A};return yield Lr(b,K),K.token})).apply(this,arguments)}function ys(){return(ys=(0,F.Z)(function*(b,A){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gs(A)})})).apply(this,arguments)}function Qe(b){const A={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function kt(b,A){if(!A.notification)return;b.notification={};const L=A.notification.title;L&&(b.notification.title=L);const K=A.notification.body;K&&(b.notification.body=K);const le=A.notification.image;le&&(b.notification.image=le);const we=A.notification.icon;we&&(b.notification.icon=we)}(A,b),function Hn(b,A){A.data&&(b.data=A.data)}(A,b),function ga(b,A){var L,K,le,we,Xe;if(!(A.fcmOptions||null!==(L=A.notification)&&void 0!==L&&L.click_action))return;b.fcmOptions={};const Tt=null!==(le=null===(K=A.fcmOptions)||void 0===K?void 0:K.link)&&void 0!==le?le:null===(we=A.notification)||void 0===we?void 0:we.click_action;Tt&&(b.fcmOptions.link=Tt);const Lt=null===(Xe=A.fcmOptions)||void 0===Xe?void 0:Xe.analytics_label;Lt&&(b.fcmOptions.analyticsLabel=Lt)}(A,b),A}function Fo(b,A){const L=[];for(let K=0;K<b.length;K++)L.push(b.charAt(K)),K<A.length&&L.push(A.charAt(K));return L.join("")}function Or(b){return fn.create("missing-app-config-values",{valueName:b})}Fo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Us{constructor(A,L,K){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const le=function Hi(b){if(!b||!b.options)throw Or("App Configuration Object");if(!b.name)throw Or("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:L}=b;for(const K of A)if(!L[K])throw Or(K);return{appName:b.name,projectId:L.projectId,apiKey:L.apiKey,appId:L.appId,senderId:L.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:le,installations:L,analyticsProvider:K}}_delete(){return Promise.resolve()}}function eo(b){return bo.apply(this,arguments)}function bo(){return(bo=(0,F.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Js,{scope:Rn}),b.swRegistration.update().catch(()=>{})}catch(A){throw fn.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function Bs(){return(Bs=(0,F.Z)(function*(b,A){if(!A&&!b.swRegistration&&(yield eo(b)),A||!b.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw fn.create("invalid-sw-registration");b.swRegistration=A}})).apply(this,arguments)}function mi(){return(mi=(0,F.Z)(function*(b,A){A?b.vapidKey=A:b.vapidKey||(b.vapidKey=Gt)})).apply(this,arguments)}function bi(){return bi=(0,F.Z)(function*(b,A){if(!navigator)throw fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fn.create("permission-blocked");return yield function Yn(b,A){return mi.apply(this,arguments)}(b,A?.vapidKey),yield function Es(b,A){return Bs.apply(this,arguments)}(b,A?.serviceWorkerRegistration),function Nn(b){return Xi.apply(this,arguments)}(b)}),bi.apply(this,arguments)}function Xo(){return(Xo=(0,F.Z)(function*(b,A,L){const K=function no(b){switch(b){case ps.NOTIFICATION_CLICKED:return"notification_open";case ps.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(K,{message_id:L[vo],message_name:L[Eo],message_time:L[ri],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Is(){return Is=(0,F.Z)(function*(b,A){const L=A.data;if(!L.isFirebaseMessaging)return;b.onMessageHandler&&L.messageType===ps.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Qe(L)):b.onMessageHandler.next(Qe(L)));const K=L.data;(function yr(b){return"object"==typeof b&&!!b&&vo in b})(K)&&"1"===K[ks]&&(yield function Nr(b,A,L){return Xo.apply(this,arguments)}(b,L.messageType,K))}),Is.apply(this,arguments)}const ro="@firebase/messaging",io=b=>{const A=new Us(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",L=>function ea(b,A){return Is.apply(this,arguments)}(A,L)),A},_i=b=>{const A=b.getProvider("messaging").getImmediate();return{getToken:K=>function to(b,A){return bi.apply(this,arguments)}(A,K)}};function Wi(){return zi.apply(this,arguments)}function zi(){return(zi=(0,F.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function so(){(0,te._registerComponent)(new ce.wA("messaging",io,"PUBLIC")),(0,te._registerComponent)(new ce.wA("messaging-internal",_i,"PRIVATE")),(0,te.registerVersion)(ro,"0.12.4"),(0,te.registerVersion)(ro,"0.12.4","esm2017")}();const qr="analytics",Jn="firebase_id",Vs="origin",$s=6e4,Ti="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gi="https://www.googletagmanager.com/gtag/js",pr=new ge.Yd("@firebase/analytics");function ts(b){return Promise.all(b.map(A=>A.catch(L=>L)))}function js(){return(js=(0,F.Z)(function*(b,A,L,K,le,we){const Xe=K[le];try{if(Xe)yield A[Xe];else{const Lt=(yield ts(L)).find(zt=>zt.measurementId===le);Lt&&(yield A[Lt.appId])}}catch(Tt){pr.error(Tt)}b("config",le,we)})).apply(this,arguments)}function D(){return(D=(0,F.Z)(function*(b,A,L,K,le){try{let we=[];if(le&&le.send_to){let Xe=le.send_to;Array.isArray(Xe)||(Xe=[Xe]);const Tt=yield ts(L);for(const Lt of Xe){const zt=Tt.find(sn=>sn.measurementId===Lt),Cn=zt&&A[zt.appId];if(!Cn){we=[];break}we.push(Cn)}}0===we.length&&(we=Object.values(A)),yield Promise.all(we),b("event",K,le||{})}catch(we){pr.error(we)}})).apply(this,arguments)}const Ee=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),He=30,Dn=new class rn{constructor(A={},L=1e3){this.throttleMetadata=A,this.intervalMillis=L}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,L){this.throttleMetadata[A]=L}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function xn(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function rr(){return(rr=(0,F.Z)(function*(b){var A;const{appId:L,apiKey:K}=b,le={method:"GET",headers:xn(K)},we=Ti.replace("{app-id}",L),Xe=yield fetch(we,le);if(200!==Xe.status&&304!==Xe.status){let Tt="";try{const Lt=yield Xe.json();null!==(A=Lt.error)&&void 0!==A&&A.message&&(Tt=Lt.error.message)}catch{}throw Ee.create("config-fetch-failed",{httpStatus:Xe.status,responseMessage:Tt})}return Xe.json()})).apply(this,arguments)}function ir(){return(ir=(0,F.Z)(function*(b,A=Dn,L){const{appId:K,apiKey:le,measurementId:we}=b.options;if(!K)throw Ee.create("no-app-id");if(!le){if(we)return{measurementId:we,appId:K};throw Ee.create("no-api-key")}const Xe=A.getThrottleMetadata(K)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Tt=new Si;return setTimeout((0,F.Z)(function*(){Tt.abort()}),void 0!==L?L:$s),Tr({appId:K,apiKey:le,measurementId:we},Xe,Tt,A)})).apply(this,arguments)}function Tr(b,A,L){return Br.apply(this,arguments)}function Br(){return Br=(0,F.Z)(function*(b,{throttleEndTimeMillis:A,backoffCount:L},K,le=Dn){var we;const{appId:Xe,measurementId:Tt}=b;try{yield function Sr(b,A){return new Promise((L,K)=>{const le=Math.max(A-Date.now(),0),we=setTimeout(L,le);b.addEventListener(()=>{clearTimeout(we),K(Ee.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(K,A)}catch(Lt){if(Tt)return pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${Lt?.message}]`),{appId:Xe,measurementId:Tt};throw Lt}try{const Lt=yield function ln(b){return rr.apply(this,arguments)}(b);return le.deleteThrottleMetadata(Xe),Lt}catch(Lt){const zt=Lt;if(!function yi(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const A=Number(b.customData.httpStatus);return 429===A||500===A||503===A||504===A}(zt)){if(le.deleteThrottleMetadata(Xe),Tt)return pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${zt?.message}]`),{appId:Xe,measurementId:Tt};throw Lt}const Cn=503===Number(null===(we=zt?.customData)||void 0===we?void 0:we.httpStatus)?(0,oe.$s)(L,le.intervalMillis,He):(0,oe.$s)(L,le.intervalMillis),sn={throttleEndTimeMillis:Date.now()+Cn,backoffCount:L+1};return le.setThrottleMetadata(Xe,sn),pr.debug(`Calling attemptFetch again in ${Cn} millis`),Tr(b,sn,K,le)}}),Br.apply(this,arguments)}class Si{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Zi,lo;function oo(){return(oo=(0,F.Z)(function*(b,A,L,K,le){if(le&&le.global)b("event",L,K);else{const we=yield A;b("event",L,Object.assign(Object.assign({},K),{send_to:we}))}})).apply(this,arguments)}function Ao(){return(Ao=(0,F.Z)(function*(){if(!(0,oe.hl)())return pr.warn(Ee.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(b){return pr.warn(Ee.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function uo(){return uo=(0,F.Z)(function*(b,A,L,K,le,we,Xe){var Tt;const Lt=function Zt(b){return ir.apply(this,arguments)}(b);Lt.then(oi=>{L[oi.measurementId]=oi.appId,b.options.measurementId&&oi.measurementId!==b.options.measurementId&&pr.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${oi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(oi=>pr.error(oi)),A.push(Lt);const zt=function zo(){return Ao.apply(this,arguments)}().then(oi=>{if(oi)return K.getId()}),[Cn,sn]=yield Promise.all([Lt,zt]);(function U(b){const A=window.document.getElementsByTagName("script");for(const L of Object.values(A))if(L.src&&L.src.includes(Gi)&&L.src.includes(b))return L;return null})(we)||function $o(b,A){const L=document.createElement("script");L.src=`${Gi}?l=${b}&id=${A}`,L.async=!0,document.head.appendChild(L)}(we,Cn.measurementId),lo&&(le("consent","default",lo),function Wo(b){lo=b}(void 0)),le("js",new Date);const si=null!==(Tt=Xe?.config)&&void 0!==Tt?Tt:{};return si[Vs]="firebase",si.update=!0,null!=sn&&(si[Jn]=sn),le("config",Cn.measurementId,si),Zi&&(le("set",Zi),function La(b){Zi=b}(void 0)),Cn.measurementId}),uo.apply(this,arguments)}class na{constructor(A){this.app=A}_delete(){return delete Ri[this.app.options.appId],Promise.resolve()}}let Ri={},Mi=[];const va={};let ns,rs,Ar="dataLayer",ra="gtag",Ts=!1;function cl(b,A,L){!function Ol(){const b=[];if((0,oe.ru)()&&b.push("This is a browser extension environment."),(0,oe.zI)()||b.push("Cookies are not available."),b.length>0){const A=b.map((K,le)=>`(${le+1}) ${K}`).join(" "),L=Ee.create("invalid-analytics-context",{errorInfo:A});pr.warn(L.message)}}();const K=b.options.appId;if(!K)throw Ee.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Ee.create("no-api-key");pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ri[K])throw Ee.create("already-exists",{id:K});if(!Ts){!function So(b){let A=[];Array.isArray(window[b])?A=window[b]:window[b]=A}(Ar);const{wrappedGtag:we,gtagCore:Xe}=function T(b,A,L,K,le){let we=function(...Xe){window[K].push(arguments)};return window[le]&&"function"==typeof window[le]&&(we=window[le]),window[le]=function M(b,A,L,K){function we(){return we=(0,F.Z)(function*(Xe,Tt,Lt){try{"event"===Xe?yield function _a(b,A,L,K,le){return D.apply(this,arguments)}(b,A,L,Tt,Lt):"config"===Xe?yield function Ki(b,A,L,K,le,we){return js.apply(this,arguments)}(b,A,L,K,Tt,Lt):"consent"===Xe?b("consent","update",Lt):b("set",Tt)}catch(zt){pr.error(zt)}}),we.apply(this,arguments)}return function le(Xe,Tt,Lt){return we.apply(this,arguments)}}(we,b,A,L),{gtagCore:we,wrappedGtag:window[le]}}(Ri,Mi,va,Ar,ra);rs=we,ns=Xe,Ts=!0}return Ri[K]=function bs(b,A,L,K,le,we,Xe){return uo.apply(this,arguments)}(b,Mi,va,A,ns,Ar,L),new na(b)}function is(){return vr.apply(this,arguments)}function vr(){return(vr=(0,F.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Nl="@firebase/analytics";!function hl(){(0,te._registerComponent)(new ce.wA(qr,(A,{options:L})=>cl(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),L),"PUBLIC")),(0,te._registerComponent)(new ce.wA("analytics-internal",function b(A){try{const L=A.getProvider(qr).getImmediate();return{logEvent:(K,le,we)=>function qn(b,A,L,K){b=(0,oe.m9)(b),function Ai(b,A,L,K,le){return oo.apply(this,arguments)}(rs,Ri[b.app.options.appId],A,L,K).catch(le=>pr.error(le))}(L,K,le,we)}}catch(L){throw Ee.create("interop-component-reg-failed",{reason:L})}},"PRIVATE")),(0,te.registerVersion)(Nl,"0.9.4"),(0,te.registerVersion)(Nl,"0.9.4","esm2017")}();var Ia=x(4408),Va=x(7565);const Ca=new class As extends Va.v{}(class Da extends Ia.o{constructor(A,L){super(A,L),this.scheduler=A,this.work=L}schedule(A,L=0){return L>0?super.schedule(A,L):(this.delay=L,this.state=A,this.scheduler.flush(this),this)}execute(A,L){return L>0||this.closed?super.execute(A,L):this._execute(A,L)}requestAsyncId(A,L,K=0){return null!=K&&K>0||null==K&&this.delay>0?super.requestAsyncId(A,L,K):(A.flush(this),0)}});var Er=x(4986),Rs=x(8505),Yi=x(9468),$a=x(5363);const Wr=new v.GfV("7.5.0"),Hs="__angularfire_symbol__analyticsIsSupportedValue",fo="__angularfire_symbol__analyticsIsSupported",Ms="__angularfire_symbol__remoteConfigIsSupportedValue",Ws="__angularfire_symbol__remoteConfigIsSupported",wa="__angularfire_symbol__messagingIsSupportedValue",ba="__angularfire_symbol__messagingIsSupported";function Oi(b,A,L){if(A){if(1===A.length)return A[0];const we=A.filter(Xe=>Xe.app===L);if(1===we.length)return we[0]}return L.container.getProvider(b).getImmediate({optional:!0})}globalThis[fo]||(globalThis[fo]=is().then(b=>globalThis[Hs]=b).catch(()=>globalThis[Hs]=!1)),globalThis[ba]||(globalThis[ba]=Wi().then(b=>globalThis[wa]=b).catch(()=>globalThis[wa]=!1)),globalThis[Ws]||(globalThis[Ws]=Qs().then(b=>globalThis[Ms]=b).catch(()=>globalThis[Ms]=!1));const Go=(b,A)=>{const L=A?[A]:(0,H.C6)(),K=[];return L.forEach(le=>{le.container.getProvider(b).instances.forEach(Xe=>{K.includes(Xe)||K.push(Xe)})}),K};function Mo(){}class g{constructor(A,L=Ca){this.zone=A,this.delegate=L}now(){return this.delegate.now()}schedule(A,L,K){const le=this.zone;return this.delegate.schedule(function(Xe){le.runGuarded(()=>{A.apply(this,[Xe])})},L,K)}}class _{constructor(A){this.zone=A,this.task=null}call(A,L){const K=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mo,{},Mo,Mo)),L.pipe((0,Rs.b)({next:K,complete:K,error:K})).subscribe(A).add(K)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let h=(()=>{class b{constructor(L){this.ngZone=L,this.outsideAngular=L.runOutsideAngular(()=>new g(Zone.current)),this.insideAngular=L.run(()=>new g(Zone.current,Er.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(L){return new(L||b)(v.LFG(v.R0b))},b.\u0275prov=v.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function I(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Le(b){return I(),function yt(b){return function(L){return(L=L.lift(new _(b.ngZone))).pipe((0,Yi.R)(b.outsideAngular),(0,$a.Q)(b.insideAngular))}}(I())(b)}},2090:(Dt,be,x)=>{x.d(be,{$s:()=>xt,BH:()=>ze,DV:()=>Qn,Dv:()=>Gn,G6:()=>Ce,GJ:()=>vt,L:()=>_e,LL:()=>dt,Pz:()=>Pe,Sg:()=>tt,UG:()=>Re,UI:()=>Mt,US:()=>ce,Wj:()=>Ii,Wl:()=>Fn,Yr:()=>Ie,ZB:()=>se,ZR:()=>Bt,aH:()=>Fe,b$:()=>it,cI:()=>Ut,dS:()=>Dr,eu:()=>Ue,g5:()=>F,gK:()=>or,gQ:()=>Bn,h$:()=>pe,hl:()=>xe,hu:()=>H,jU:()=>st,lb:()=>In,m9:()=>ar,ne:()=>Ot,p$:()=>J,pd:()=>sr,r3:()=>Un,ru:()=>Ye,tV:()=>Q,uI:()=>Y,ug:()=>nn,vZ:()=>On,w1:()=>N,w9:()=>er,xO:()=>cr,xb:()=>bn,z$:()=>et,zI:()=>Je,zd:()=>En});const v={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},H=function(X,q){if(!X)throw F(q)},F=function(X){return new Error("Firebase Database ("+v.SDK_VERSION+") INTERNAL ASSERT FAILED: "+X)},te=function(X){const q=[];let ie=0;for(let Me=0;Me<X.length;Me++){let ve=X.charCodeAt(Me);ve<128?q[ie++]=ve:ve<2048?(q[ie++]=ve>>6|192,q[ie++]=63&ve|128):55296==(64512&ve)&&Me+1<X.length&&56320==(64512&X.charCodeAt(Me+1))?(ve=65536+((1023&ve)<<10)+(1023&X.charCodeAt(++Me)),q[ie++]=ve>>18|240,q[ie++]=ve>>12&63|128,q[ie++]=ve>>6&63|128,q[ie++]=63&ve|128):(q[ie++]=ve>>12|224,q[ie++]=ve>>6&63|128,q[ie++]=63&ve|128)}return q},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,q){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let ve=0;ve<X.length;ve+=3){const _t=X[ve],ne=ve+1<X.length,re=ne?X[ve+1]:0,W=ve+2<X.length,ye=W?X[ve+2]:0;let $t=(15&re)<<2|ye>>6,yn=63&ye;W||(yn=64,ne||($t=64)),Me.push(ie[_t>>2],ie[(3&_t)<<4|re>>4],ie[$t],ie[yn])}return Me.join("")},encodeString(X,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(X):this.encodeByteArray(te(X),q)},decodeString(X,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(X):function(X){const q=[];let ie=0,Me=0;for(;ie<X.length;){const ve=X[ie++];if(ve<128)q[Me++]=String.fromCharCode(ve);else if(ve>191&&ve<224){const _t=X[ie++];q[Me++]=String.fromCharCode((31&ve)<<6|63&_t)}else if(ve>239&&ve<365){const W=((7&ve)<<18|(63&X[ie++])<<12|(63&X[ie++])<<6|63&X[ie++])-65536;q[Me++]=String.fromCharCode(55296+(W>>10)),q[Me++]=String.fromCharCode(56320+(1023&W))}else{const _t=X[ie++],ne=X[ie++];q[Me++]=String.fromCharCode((15&ve)<<12|(63&_t)<<6|63&ne)}}return q.join("")}(this.decodeStringToByteArray(X,q))},decodeStringToByteArray(X,q){this.init_();const ie=q?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let ve=0;ve<X.length;){const _t=ie[X.charAt(ve++)],re=ve<X.length?ie[X.charAt(ve)]:0;++ve;const ye=ve<X.length?ie[X.charAt(ve)]:64;++ve;const Ze=ve<X.length?ie[X.charAt(ve)]:64;if(++ve,null==_t||null==re||null==ye||null==Ze)throw new ge;Me.push(_t<<2|re>>4),64!==ye&&(Me.push(re<<4&240|ye>>2),64!==Ze&&Me.push(ye<<6&192|Ze))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(X){const q=te(X);return ce.encodeByteArray(q,!0)},_e=function(X){return pe(X).replace(/\./g,"")},Q=function(X){try{return ce.decodeString(X,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function J(X){return se(void 0,X)}function se(X,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return q}for(const ie in q)!q.hasOwnProperty(ie)||!Ke(ie)||(X[ie]=se(X[ie],q[ie]));return X}function Ke(X){return"__proto__"!==X}const We=()=>{try{return function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const X=process.env.__FIREBASE_DEFAULTS__;return X?JSON.parse(X):void 0})()||(()=>{if(typeof document>"u")return;let X;try{X=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=X&&Q(X[1]);return q&&JSON.parse(q)})()}catch(X){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${X}`)}},Fe=()=>{var X;return null===(X=We())||void 0===X?void 0:X.config},Pe=X=>{var q;return null===(q=We())||void 0===q?void 0:q[`_${X}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,ie)=>{this.resolve=q,this.reject=ie})}wrapCallback(q){return(ie,Me)=>{ie?this.reject(ie):this.resolve(Me),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(ie):q(ie,Me))}}}function tt(X,q){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=q||"demo-project",ve=X.iat||0,_t=X.sub||X.user_id;if(!_t)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ne=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:ve,exp:ve+3600,auth_time:ve,sub:_t,user_id:_t,firebase:{sign_in_provider:"custom",identities:{}}},X);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(ne)),""].join(".")}function et(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function Re(){var X;const q=null===(X=We())||void 0===X?void 0:X.forceEnvironment;if("node"===q)return!0;if("browser"===q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function st(){return"object"==typeof self&&self.self===self}function Ye(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function N(){const X=et();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function Ie(){return!0===v.NODE_CLIENT||!0===v.NODE_ADMIN}function Ce(){return!Re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ue(){return new Promise((X,q)=>{try{let ie=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",ve=self.indexedDB.open(Me);ve.onsuccess=()=>{ve.result.close(),ie||self.indexedDB.deleteDatabase(Me),X(!0)},ve.onupgradeneeded=()=>{ie=!1},ve.onerror=()=>{var _t;q((null===(_t=ve.error)||void 0===_t?void 0:_t.message)||"")}}catch(ie){q(ie)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Bt extends Error{constructor(q,ie,Me){super(ie),this.code=q,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dt.prototype.create)}}class dt{constructor(q,ie,Me){this.service=q,this.serviceName=ie,this.errors=Me}create(q,...ie){const Me=ie[0]||{},ve=`${this.service}/${q}`,_t=this.errors[q],ne=_t?function Vt(X,q){return X.replace(ft,(ie,Me)=>{const ve=q[Me];return null!=ve?String(ve):`<${Me}?>`})}(_t,Me):"Error";return new Bt(ve,`${this.serviceName}: ${ne} (${ve}).`,Me)}}const ft=/\{\$([^}]+)}/g;function Ut(X){return JSON.parse(X)}function Fn(X){return JSON.stringify(X)}const _n=function(X){let q={},ie={},Me={},ve="";try{const _t=X.split(".");q=Ut(Q(_t[0])||""),ie=Ut(Q(_t[1])||""),ve=_t[2],Me=ie.d||{},delete ie.d}catch{}return{header:q,claims:ie,data:Me,signature:ve}},er=function(X){const ie=_n(X).claims;return!!ie&&"object"==typeof ie&&ie.hasOwnProperty("iat")},vt=function(X){const q=_n(X).claims;return"object"==typeof q&&!0===q.admin};function Un(X,q){return Object.prototype.hasOwnProperty.call(X,q)}function Qn(X,q){if(Object.prototype.hasOwnProperty.call(X,q))return X[q]}function bn(X){for(const q in X)if(Object.prototype.hasOwnProperty.call(X,q))return!1;return!0}function Mt(X,q,ie){const Me={};for(const ve in X)Object.prototype.hasOwnProperty.call(X,ve)&&(Me[ve]=q.call(ie,X[ve],ve,X));return Me}function On(X,q){if(X===q)return!0;const ie=Object.keys(X),Me=Object.keys(q);for(const ve of ie){if(!Me.includes(ve))return!1;const _t=X[ve],ne=q[ve];if(pt(_t)&&pt(ne)){if(!On(_t,ne))return!1}else if(_t!==ne)return!1}for(const ve of Me)if(!ie.includes(ve))return!1;return!0}function pt(X){return null!==X&&"object"==typeof X}function cr(X){const q=[];for(const[ie,Me]of Object.entries(X))Array.isArray(Me)?Me.forEach(ve=>{q.push(encodeURIComponent(ie)+"="+encodeURIComponent(ve))}):q.push(encodeURIComponent(ie)+"="+encodeURIComponent(Me));return q.length?"&"+q.join("&"):""}function En(X){const q={};return X.replace(/^\?/,"").split("&").forEach(Me=>{if(Me){const[ve,_t]=Me.split("=");q[decodeURIComponent(ve)]=decodeURIComponent(_t)}}),q}function sr(X){const q=X.indexOf("?");if(!q)return"";const ie=X.indexOf("#",q);return X.substring(q,ie>0?ie:void 0)}class Bn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let q=1;q<this.blockSize;++q)this.pad_[q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(q,ie){ie||(ie=0);const Me=this.W_;if("string"==typeof q)for(let Ze=0;Ze<16;Ze++)Me[Ze]=q.charCodeAt(ie)<<24|q.charCodeAt(ie+1)<<16|q.charCodeAt(ie+2)<<8|q.charCodeAt(ie+3),ie+=4;else for(let Ze=0;Ze<16;Ze++)Me[Ze]=q[ie]<<24|q[ie+1]<<16|q[ie+2]<<8|q[ie+3],ie+=4;for(let Ze=16;Ze<80;Ze++){const $t=Me[Ze-3]^Me[Ze-8]^Me[Ze-14]^Me[Ze-16];Me[Ze]=4294967295&($t<<1|$t>>>31)}let ye,ke,ve=this.chain_[0],_t=this.chain_[1],ne=this.chain_[2],re=this.chain_[3],W=this.chain_[4];for(let Ze=0;Ze<80;Ze++){Ze<40?Ze<20?(ye=re^_t&(ne^re),ke=1518500249):(ye=_t^ne^re,ke=1859775393):Ze<60?(ye=_t&ne|re&(_t|ne),ke=2400959708):(ye=_t^ne^re,ke=3395469782);const $t=(ve<<5|ve>>>27)+ye+W+ke+Me[Ze]&4294967295;W=re,re=ne,ne=4294967295&(_t<<30|_t>>>2),_t=ve,ve=$t}this.chain_[0]=this.chain_[0]+ve&4294967295,this.chain_[1]=this.chain_[1]+_t&4294967295,this.chain_[2]=this.chain_[2]+ne&4294967295,this.chain_[3]=this.chain_[3]+re&4294967295,this.chain_[4]=this.chain_[4]+W&4294967295}update(q,ie){if(null==q)return;void 0===ie&&(ie=q.length);const Me=ie-this.blockSize;let ve=0;const _t=this.buf_;let ne=this.inbuf_;for(;ve<ie;){if(0===ne)for(;ve<=Me;)this.compress_(q,ve),ve+=this.blockSize;if("string"==typeof q){for(;ve<ie;)if(_t[ne]=q.charCodeAt(ve),++ne,++ve,ne===this.blockSize){this.compress_(_t),ne=0;break}}else for(;ve<ie;)if(_t[ne]=q[ve],++ne,++ve,ne===this.blockSize){this.compress_(_t),ne=0;break}}this.inbuf_=ne,this.total_+=ie}digest(){const q=[];let ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ve=this.blockSize-1;ve>=56;ve--)this.buf_[ve]=255&ie,ie/=256;this.compress_(this.buf_);let Me=0;for(let ve=0;ve<5;ve++)for(let _t=24;_t>=0;_t-=8)q[Me]=this.chain_[ve]>>_t&255,++Me;return q}}function Ot(X,q){const ie=new Rt(X,q);return ie.subscribe.bind(ie)}class Rt{constructor(q,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{q(this)}).catch(Me=>{this.error(Me)})}next(q){this.forEachObserver(ie=>{ie.next(q)})}error(q){this.forEachObserver(ie=>{ie.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,ie,Me){let ve;if(void 0===q&&void 0===ie&&void 0===Me)throw new Error("Missing Observer.");ve=function kn(X,q){if("object"!=typeof X||null===X)return!1;for(const ie of q)if(ie in X&&"function"==typeof X[ie])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:ie,complete:Me},void 0===ve.next&&(ve.next=Tn),void 0===ve.error&&(ve.error=Tn),void 0===ve.complete&&(ve.complete=Tn);const _t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ve.error(this.finalError):ve.complete()}catch{}}),this.observers.push(ve),_t}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,q)}sendOne(q,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{ie(this.observers[q])}catch(Me){typeof console<"u"&&console.error&&console.error(Me)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tn(){}const Gn=function(X,q,ie,Me){let ve;if(Me<q?ve="at least "+q:Me>ie&&(ve=0===ie?"none":"no more than "+ie),ve)throw new Error(X+" failed: Was called with "+Me+(1===Me?" argument.":" arguments.")+" Expects "+ve+".")};function or(X,q){return`${X} failed: ${q} argument `}function Ii(X,q,ie,Me){if((!Me||ie)&&"function"!=typeof ie)throw new Error(or(X,q)+"must be a valid function.")}function In(X,q,ie,Me){if((!Me||ie)&&("object"!=typeof ie||null===ie))throw new Error(or(X,q)+"must be a valid context object.")}const Dr=function(X){const q=[];let ie=0;for(let Me=0;Me<X.length;Me++){let ve=X.charCodeAt(Me);if(ve>=55296&&ve<=56319){const _t=ve-55296;Me++,H(Me<X.length,"Surrogate pair missing trail surrogate."),ve=65536+(_t<<10)+(X.charCodeAt(Me)-56320)}ve<128?q[ie++]=ve:ve<2048?(q[ie++]=ve>>6|192,q[ie++]=63&ve|128):ve<65536?(q[ie++]=ve>>12|224,q[ie++]=ve>>6&63|128,q[ie++]=63&ve|128):(q[ie++]=ve>>18|240,q[ie++]=ve>>12&63|128,q[ie++]=ve>>6&63|128,q[ie++]=63&ve|128)}return q},nn=function(X){let q=0;for(let ie=0;ie<X.length;ie++){const Me=X.charCodeAt(ie);Me<128?q++:Me<2048?q+=2:Me>=55296&&Me<=56319?(q+=4,ie++):q+=3}return q},Rr=1e3,ct=2,Ve=144e5,Ct=.5;function xt(X,q=Rr,ie=ct){const Me=q*Math.pow(ie,X),ve=Math.round(Ct*Me*(Math.random()-.5)*2);return Math.min(Ve,Me+ve)}function ar(X){return X&&X._delegate?X._delegate:X}},2092:(Dt,be,x)=>{var v=x(1481);const H_firebaseConfig={apiKey:"AIzaSyCr6nQ_UZlnjAaLkZVPaslSibv3IjYsRh0",authDomain:"dailyfood-72a83.firebaseapp.com",projectId:"dailyfood-72a83",storageBucket:"dailyfood-72a83.appspot.com",messagingSenderId:"177852740529",appId:"1:177852740529:web:0228a95d66e61a4a270390"};var F=x(9051),te=x(4650);const oe=[{path:"",loadChildren:()=>x.e(183).then(x.bind(x,8183)).then(o=>o.PanelModule)}];let ce=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=te.oAB({type:o}),o.\u0275inj=te.cJS({imports:[F.Bz.forRoot(oe),F.Bz]}),o})(),ge=(()=>{class o{constructor(){this.title="dailyfood"}}return o.\u0275fac=function(s){return new(s||o)},o.\u0275cmp=te.Xpm({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(s,u){1&s&&te._UZ(0,"router-outlet")},dependencies:[F.lC]}),o})();var pe=x(2011),_e=x(4986),Q=x(9751),J=x(9646),se=x(6451),Ke=x(4004),Be=x(3099),at=x(3900),wt=x(5026),Se=x(1884),We=x(4482),$e=x(5403),rt=x(8421),Fe=x(4671),Pe=x(5032),ze=x(7669),Y=x(2122),st=(x(4217),x(3942)),Ye=x(4859),it=x(5861),lt=x(9681),N=x(2090),Te=x(1877);const Ie="@firebase/database";let xe="";function Ue(o){xe=o}class Je{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,s){null==s?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,N.Wl)(s))}get(i){const s=this.domStorage_.getItem(this.prefixedName_(i));return null==s?null:(0,N.cI)(s)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class nt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,s){null==s?delete this.cache_[i]:this.cache_[i]=s}get(i){return(0,N.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const Bt=function(o){try{if(typeof window<"u"&&typeof window[o]<"u"){const i=window[o];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new Je(i)}}catch{}return new nt},dt=Bt("localStorage"),Vt=Bt("sessionStorage"),ft=new Te.Yd("@firebase/database"),Ut=function(){let o=1;return function(){return o++}}(),Fn=function(o){const i=(0,N.dS)(o),s=new N.gQ;s.update(i);const u=s.digest();return N.US.encodeByteArray(u)},_n=function(...o){let i="";for(let s=0;s<o.length;s++){const u=o[s];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?i+=_n.apply(null,u):i+="object"==typeof u?(0,N.Wl)(u):u,i+=" "}return i};let pn=null,Mn=!0;const er=function(o,i){(0,N.hu)(!i||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?(ft.logLevel=Te.in.VERBOSE,pn=ft.log.bind(ft),i&&Vt.set("logging_enabled",!0)):"function"==typeof o?pn=o:(pn=null,Vt.remove("logging_enabled"))},vt=function(...o){if(!0===Mn&&(Mn=!1,null===pn&&!0===Vt.get("logging_enabled")&&er(!0)),pn){const i=_n.apply(null,o);pn(i)}},Un=function(o){return function(...i){vt(o,...i)}},Qn=function(...o){const i="FIREBASE INTERNAL ERROR: "+_n(...o);ft.error(i)},bn=function(...o){const i=`FIREBASE FATAL ERROR: ${_n(...o)}`;throw ft.error(i),new Error(i)},Mt=function(...o){const i="FIREBASE WARNING: "+_n(...o);ft.warn(i)},pt=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},cr="[MIN_NAME]",En="[MAX_NAME]",sr=function(o,i){if(o===i)return 0;if(o===cr||i===En)return-1;if(i===cr||o===En)return 1;{const s=nn(o),u=nn(i);return null!==s?null!==u?s-u==0?o.length-i.length:s-u:-1:null!==u?1:o<i?-1:1}},Bn=function(o,i){return o===i?0:o<i?-1:1},Ot=function(o,i){if(i&&o in i)return i[o];throw new Error("Missing required key ("+o+") in object: "+(0,N.Wl)(i))},Rt=function(o){if("object"!=typeof o||null===o)return(0,N.Wl)(o);const i=[];for(const u in o)i.push(u);i.sort();let s="{";for(let u=0;u<i.length;u++)0!==u&&(s+=","),s+=(0,N.Wl)(i[u]),s+=":",s+=Rt(o[i[u]]);return s+="}",s},Nt=function(o,i){const s=o.length;if(s<=i)return[o];const u=[];for(let m=0;m<s;m+=i)u.push(o.substring(m,m+i>s?s:m+i));return u};function kn(o,i){for(const s in o)o.hasOwnProperty(s)&&i(s,o[s])}const Tn=function(o){(0,N.hu)(!pt(o),"Invalid JSON number");const u=1023;let m,C,R,B,z;0===o?(C=0,R=0,m=1/o==-1/0?1:0):(m=o<0,(o=Math.abs(o))>=Math.pow(2,1-u)?(B=Math.min(Math.floor(Math.log(o)/Math.LN2),u),C=B+u,R=Math.round(o*Math.pow(2,52-B)-Math.pow(2,52))):(C=0,R=Math.round(o/Math.pow(2,-1074))));const ee=[];for(z=52;z;z-=1)ee.push(R%2?1:0),R=Math.floor(R/2);for(z=11;z;z-=1)ee.push(C%2?1:0),C=Math.floor(C/2);ee.push(m?1:0),ee.reverse();const Ae=ee.join("");let Ne="";for(z=0;z<64;z+=8){let qe=parseInt(Ae.substr(z,8),2).toString(16);1===qe.length&&(qe="0"+qe),Ne+=qe}return Ne.toLowerCase()},Ii=new RegExp("^-?(0*)\\d{1,10}$"),nn=function(o){if(Ii.test(o)){const i=Number(o);if(i>=-2147483648&&i<=2147483647)return i}return null},Ft=function(o){try{o()}catch(i){setTimeout(()=>{throw Mt("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},Rr=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ct=function(o,i){const s=setTimeout(o,i);return"number"==typeof s&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):"object"==typeof s&&s.unref&&s.unref(),s};class Ve{constructor(i,s){this.appName_=i,this.appCheckProvider=s,this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(u=>this.appCheck=u)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((s,u)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(s,u):s(null)},0)})}addTokenChangeListener(i){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(u=>u.addTokenListener(i))}notifyForInvalidToken(){Mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ct{constructor(i,s,u){this.appName_=i,this.firebaseOptions_=s,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(m=>this.auth_=m)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(s=>s&&"auth/token-not-initialized"===s.code?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,u)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(s,u):s(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(s=>s.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(s=>s.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mt(i)}}let xt=(()=>{class o{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return o.OWNER="owner",o})();const ie=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ne="websocket",re="long_polling";class W{constructor(i,s,u,m,C=!1,R="",B=!1,z=!1){this.secure=s,this.namespace=u,this.webSocketOnly=m,this.nodeAdmin=C,this.persistenceKey=R,this.includeNamespaceInQueryParams=B,this.isUsingEmulator=z,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dt.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&dt.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ke(o,i,s){let u;if((0,N.hu)("string"==typeof i,"typeof type must == string"),(0,N.hu)("object"==typeof s,"typeof params must == object"),i===ne)u=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(i!==re)throw new Error("Unknown connection type: "+i);u=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function ye(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(s.ns=o.namespace);const m=[];return kn(s,(C,R)=>{m.push(C+"="+R)}),u+m.join("&")}class Ze{constructor(){this.counters_={}}incrementCounter(i,s=1){(0,N.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=s}get(){return(0,N.p$)(this.counters_)}}const $t={},yn={};function Kn(o){const i=o.toString();return $t[i]||($t[i]=new Ze),$t[i]}class ci{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,s){this.closeAfterResponse=i,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,s){for(this.pendingResponses[i]=s;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let m=0;m<u.length;++m)u[m]&&Ft(()=>{this.onMessage_(u[m])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Vn{constructor(i,s,u,m,C,R,B){this.connId=i,this.repoInfo=s,this.applicationId=u,this.appCheckToken=m,this.authToken=C,this.transportSessionId=R,this.lastSessionId=B,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Un(i),this.stats_=Kn(s),this.urlFn=z=>(this.appCheckToken&&(z.ac=this.appCheckToken),ke(s,re,z))}open(i,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new ci(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,N.Yr)()||"complete"===document.readyState)o();else{let i=!1;const s=function(){document.body?i||(i=!0,o()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kr((...C)=>{const[R,B,z,ee,Ae]=C;if(this.incrementIncomingBytes_(C),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===R)this.id=B,this.password=z;else{if("close"!==R)throw new Error("Unrecognized command received: "+R);B?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(B,()=>{this.onClosed_()})):this.onClosed_()}},(...C)=>{const[R,B]=C;this.incrementIncomingBytes_(C),this.myPacketOrderer.handleResponse(R,B)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ie.test(location.hostname)&&(u.r="f");const m=this.urlFn(u);this.log_("Connecting via long-poll to "+m),this.scriptTagHolder.addTag(m,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vn.forceAllow_=!0}static forceDisallow(){Vn.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!Vn.forceAllow_&&(Vn.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const s=(0,N.Wl)(i);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const u=(0,N.h$)(s),m=Nt(u,1840);for(let C=0;C<m.length;C++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,m.length,m[C]),this.curSegmentNum++}addDisconnectPingFrame(i,s){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=i,u.pw=s,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const s=(0,N.Wl)(i).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class kr{constructor(i,s,u,m){if(this.onDisconnect=u,this.urlFn=m,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=i,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=Ut(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=kr.createIFrame_();let C="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(C='<script>document.domain="'+document.domain+'";<\/script>');const R="<html><body>"+C+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(R),this.myIFrame.doc.close()}catch(B){vt("frame writing exception"),B.stack&&vt(B.stack),vt(B)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||vt("No IE domain setting required")}catch{const u=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,s){for(this.myID=i,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let s=this.urlFn(i),u="",m=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const R=this.pendingSegs.shift();u=u+"&seg"+m+"="+R.seg+"&ts"+m+"="+R.ts+"&d"+m+"="+R.d,m++}return s+=u,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(i,s,u){this.pendingSegs.push({seg:i,ts:s,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(i,s){this.outstandingRequests.add(s);const u=()=>{this.outstandingRequests.delete(s),this.newRequest_()},m=setTimeout(u,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(m),u()})}addTag(i,s){(0,N.Yr)()?this.doNodeLongPoll(i,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=i,u.onload=u.onreadystatechange=function(){const m=u.readyState;(!m||"loaded"===m||"complete"===m)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),s())},u.onerror=()=>{vt("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let Mr=null;typeof MozWebSocket<"u"?Mr=MozWebSocket:typeof WebSocket<"u"&&(Mr=WebSocket);let Qt=(()=>{class o{constructor(s,u,m,C,R,B,z){this.connId=s,this.applicationId=m,this.appCheckToken=C,this.authToken=R,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Un(this.connId),this.stats_=Kn(u),this.connURL=o.connectionURL_(u,B,z,C,m),this.nodeAdmin=u.nodeAdmin}static connectionURL_(s,u,m,C,R){const B={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&ie.test(location.hostname)&&(B.r="f"),u&&(B.s=u),m&&(B.ls=m),C&&(B.ac=C),R&&(B.p=R),ke(s,ne,B)}open(s,u){this.onDisconnect=u,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dt.set("previous_websocket_failure",!0);try{let m;if((0,N.Yr)()){m={headers:{"User-Agent":`Firebase/5/${xe}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(m.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(m.headers["X-Firebase-AppCheck"]=this.appCheckToken);const R=process.env,B=0===this.connURL.indexOf("wss://")?R.HTTPS_PROXY||R.https_proxy:R.HTTP_PROXY||R.http_proxy;B&&(m.proxy={origin:B})}this.mySock=new Mr(this.connURL,[],m)}catch(m){this.log_("Error instantiating WebSocket.");const C=m.message||m.data;return C&&this.log_(C),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=m=>{this.handleIncomingFrame(m)},this.mySock.onerror=m=>{this.log_("WebSocket error.  Closing connection.");const C=m.message||m.data;C&&this.log_(C),this.onClosed_()}}start(){}static forceDisallow(){o.forceDisallow_=!0}static isAvailable(){let s=!1;if(typeof navigator<"u"&&navigator.userAgent){const m=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);m&&m.length>1&&parseFloat(m[1])<4.4&&(s=!0)}return!s&&null!==Mr&&!o.forceDisallow_}static previouslyFailed(){return dt.isInMemoryStorage||!0===dt.get("previous_websocket_failure")}markConnectionHealthy(){dt.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const m=(0,N.cI)(u);this.onMessage(m)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const u=Number(s);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const u=s.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const m=this.extractFrameCount_(u);null!==m&&this.appendFrame_(m)}}send(s){this.resetKeepAlive();const u=(0,N.Wl)(s);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const m=Nt(u,16384);m.length>1&&this.sendString_(String(m.length));for(let C=0;C<m.length;C++)this.sendString_(m[C])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o})(),hi=(()=>{class o{constructor(s){this.initTransports_(s)}static get ALL_TRANSPORTS(){return[Vn,Qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(s){const u=Qt&&Qt.isAvailable();let m=u&&!Qt.previouslyFailed();if(s.webSocketOnly&&(u||Mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),m=!0),m)this.transports_=[Qt];else{const C=this.transports_=[];for(const R of o.ALL_TRANSPORTS)R&&R.isAvailable()&&C.push(R);o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return o.globalTransportInitialized_=!1,o})();class je{constructor(i,s,u,m,C,R,B,z,ee,Ae){this.id=i,this.repoInfo_=s,this.applicationId_=u,this.appCheckToken_=m,this.authToken_=C,this.onMessage_=R,this.onReady_=B,this.onDisconnect_=z,this.onKill_=ee,this.lastSessionId=Ae,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Un("c:"+this.id+":"),this.transportManager_=new hi(s),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,u)},Math.floor(0));const m=i.healthyTimeout||0;m>0&&(this.healthyTimeout_=ct(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(m)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return s=>{i===this.conn_?this.onConnectionLost_(s):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return s=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(s):i===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const s=i.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const s=Ot("t",i),u=Ot("d",i);if("c"===s)this.onSecondaryControl_(u);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const s=Ot("t",i),u=Ot("d",i);"c"===s?this.onControl_(u):"d"===s&&this.onDataMessage_(u)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const s=Ot("t",i);if("d"in i){const u=i.d;if("h"===s){const m=Object.assign({},u);this.repoInfo_.isUsingEmulator&&(m.h=this.repoInfo_.host),this.onHandshake_(m)}else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let m=0;m<this.pendingDataMessages.length;++m)this.onDataMessage_(this.pendingDataMessages[m]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(u):"r"===s?this.onReset_(u):"e"===s?Qn("Server Error: "+u):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qn("Unknown control packet command: "+s)}}onHandshake_(i){const s=i.ts,u=i.v,m=i.h;this.sessionId=i.s,this.repoInfo_.host=m,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==u&&Mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,u),ct(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,s){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ct(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ut{put(i,s,u,m){}merge(i,s,u,m){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,s,u){}onDisconnectMerge(i,s,u){}onDisconnectCancel(i,s){}reportStats(i){}}class bt{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,N.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...s){if(Array.isArray(this.listeners_[i])){const u=[...this.listeners_[i]];for(let m=0;m<u.length;m++)u[m].callback.apply(u[m].context,s)}}on(i,s,u){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:s,context:u});const m=this.getInitialEvent(i);m&&s.apply(u,m)}off(i,s,u){this.validateEventType_(i);const m=this.listeners_[i]||[];for(let C=0;C<m.length;C++)if(m[C].callback===s&&(!u||u===m[C].context))return void m.splice(C,1)}validateEventType_(i){(0,N.hu)(this.allowedEvents_.find(s=>s===i),"Unknown event: "+i)}}class en extends bt{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new en}getInitialEvent(i){return(0,N.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}const Sn=32,an=768;class mn{constructor(i,s){if(void 0===s){this.pieces_=i.split("/");let u=0;for(let m=0;m<this.pieces_.length;m++)this.pieces_[m].length>0&&(this.pieces_[u]=this.pieces_[m],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=s}toString(){let i="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(i+="/"+this.pieces_[s]);return i||"/"}}function dn(){return new mn("")}function Ht(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function tr(o){return o.pieces_.length-o.pieceNum_}function Zn(o){let i=o.pieceNum_;return i<o.pieces_.length&&i++,new mn(o.pieces_,i)}function yo(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function hs(o,i=0){return o.pieces_.slice(o.pieceNum_+i)}function Js(o){if(o.pieceNum_>=o.pieces_.length)return null;const i=[];for(let s=o.pieceNum_;s<o.pieces_.length-1;s++)i.push(o.pieces_[s]);return new mn(i,0)}function Rn(o,i){const s=[];for(let u=o.pieceNum_;u<o.pieces_.length;u++)s.push(o.pieces_[u]);if(i instanceof mn)for(let u=i.pieceNum_;u<i.pieces_.length;u++)s.push(i.pieces_[u]);else{const u=i.split("/");for(let m=0;m<u.length;m++)u[m].length>0&&s.push(u[m])}return new mn(s,0)}function Gt(o){return o.pieceNum_>=o.pieces_.length}function nr(o,i){const s=Ht(o),u=Ht(i);if(null===s)return i;if(s===u)return nr(Zn(o),Zn(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+o+")")}function vo(o,i){const s=hs(o,0),u=hs(i,0);for(let m=0;m<s.length&&m<u.length;m++){const C=sr(s[m],u[m]);if(0!==C)return C}return s.length===u.length?0:s.length<u.length?-1:1}function Eo(o,i){if(tr(o)!==tr(i))return!1;for(let s=o.pieceNum_,u=i.pieceNum_;s<=o.pieces_.length;s++,u++)if(o.pieces_[s]!==i.pieces_[u])return!1;return!0}function ri(o,i){let s=o.pieceNum_,u=i.pieceNum_;if(tr(o)>tr(i))return!1;for(;s<o.pieces_.length;){if(o.pieces_[s]!==i.pieces_[u])return!1;++s,++u}return!0}class ks{constructor(i,s){this.errorPrefix_=s,this.parts_=hs(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,N.ug)(this.parts_[u]);jr(this)}}function jr(o){if(o.byteLength_>an)throw new Error(o.errorPrefix_+"has a key path longer than "+an+" bytes ("+o.byteLength_+").");if(o.parts_.length>Sn)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Sn+") or object contains a cycle "+gs(o))}function gs(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}class Bi extends bt{constructor(){let i,s;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const u=!document[i];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new Bi}getInitialEvent(i){return(0,N.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const wi=1e3;let $i,xr=(()=>{class o extends ut{constructor(s,u,m,C,R,B,z,ee){if(super(),this.repoInfo_=s,this.applicationId_=u,this.onDataUpdate_=m,this.onConnectStatus_=C,this.onServerInfoUpdate_=R,this.authTokenProvider_=B,this.appCheckTokenProvider_=z,this.authOverride_=ee,this.id=o.nextPersistentConnectionId_++,this.log_=Un("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ee&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bi.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&en.getInstance().on("online",this.onOnline_,this)}sendRequest(s,u,m){const C=++this.requestNumber_,R={r:C,a:s,b:u};this.log_((0,N.Wl)(R)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(R),m&&(this.requestCBHash_[C]=m)}get(s){this.initConnection_();const u=new N.BH,C={action:"g",request:{p:s._path.toString(),q:s._queryObject},onComplete:B=>{const z=B.d;"ok"===B.s?u.resolve(z):u.reject(z)}};return this.outstandingGets_.push(C),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(s,u,m,C){this.initConnection_();const R=s._queryIdentifier,B=s._path.toString();this.log_("Listen called for "+B+" "+R),this.listens.has(B)||this.listens.set(B,new Map),(0,N.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(B).has(R),"listen() called twice for same path/queryId.");const z={onComplete:C,hashFn:u,query:s,tag:m};this.listens.get(B).set(R,z),this.connected_&&this.sendListen_(z)}sendGet_(s){const u=this.outstandingGets_[s];this.sendRequest("g",u.request,m=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(m)})}sendListen_(s){const u=s.query,m=u._path.toString(),C=u._queryIdentifier;this.log_("Listen on "+m+" for "+C);const R={p:m};s.tag&&(R.q=u._queryObject,R.t=s.tag),R.h=s.hashFn(),this.sendRequest("q",R,z=>{const ee=z.d,Ae=z.s;o.warnOnListenWarnings_(ee,u),(this.listens.get(m)&&this.listens.get(m).get(C))===s&&(this.log_("listen response",z),"ok"!==Ae&&this.removeListen_(m,C),s.onComplete&&s.onComplete(Ae,ee))})}static warnOnListenWarnings_(s,u){if(s&&"object"==typeof s&&(0,N.r3)(s,"w")){const m=(0,N.DV)(s,"w");if(Array.isArray(m)&&~m.indexOf("no_index")){const C='".indexOn": "'+u._queryParams.getIndex().toString()+'"',R=u._path.toString();Mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${C} at ${R} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,N.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,u=(0,N.w9)(s)?"auth":"gauth",m={cred:s};null===this.authOverride_?m.noauth=!0:"object"==typeof this.authOverride_&&(m.authvar=this.authOverride_),this.sendRequest(u,m,C=>{const R=C.s,B=C.d||"error";this.authToken_===s&&("ok"===R?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(R,B))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const u=s.s,m=s.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,m)})}unlisten(s,u){const m=s._path.toString(),C=s._queryIdentifier;this.log_("Unlisten called for "+m+" "+C),(0,N.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(m,C)&&this.connected_&&this.sendUnlisten_(m,C,s._queryObject,u)}sendUnlisten_(s,u,m,C){this.log_("Unlisten on "+s+" for "+u);const R={p:s};C&&(R.q=m,R.t=C),this.sendRequest("n",R)}onDisconnectPut(s,u,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,u,m):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:u,onComplete:m})}onDisconnectMerge(s,u,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,u,m):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:u,onComplete:m})}onDisconnectCancel(s,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,u):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(s,u,m,C){const R={p:u,d:m};this.log_("onDisconnect "+s,R),this.sendRequest(s,R,B=>{C&&setTimeout(()=>{C(B.s,B.d)},Math.floor(0))})}put(s,u,m,C){this.putInternal("p",s,u,m,C)}merge(s,u,m,C){this.putInternal("m",s,u,m,C)}putInternal(s,u,m,C,R){this.initConnection_();const B={p:u,d:m};void 0!==R&&(B.h=R),this.outstandingPuts_.push({action:s,request:B,onComplete:C}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(s){const u=this.outstandingPuts_[s].action,m=this.outstandingPuts_[s].request,C=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(u,m,R=>{this.log_(u+" response",R),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),C&&C(R.s,R.d)})}reportStats(s){if(this.connected_){const u={c:s};this.log_("reportStats",u),this.sendRequest("s",u,m=>{"ok"!==m.s&&this.log_("reportStats","Error sending stats: "+m.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,N.Wl)(s));const u=s.r,m=this.requestCBHash_[u];m&&(delete this.requestCBHash_[u],m(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,u){this.log_("handleServerMessage",s,u),"d"===s?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===s?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===s?this.onListenRevoked_(u.p,u.q):"ac"===s?this.onAuthRevoked_(u.s,u.d):"apc"===s?this.onAppCheckRevoked_(u.s,u.d):"sd"===s?this.onSecurityDebugPacket_(u):Qn("Unrecognized action received from server: "+(0,N.Wl)(s)+"\nAre you using the latest client?")}onReady_(s,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wi,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=wi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=wi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-s);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,it.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const u=s.onDataMessage_.bind(s),m=s.onReady_.bind(s),C=s.onRealtimeDisconnect_.bind(s),R=s.id+":"+o.nextConnectionId_++,B=s.lastSessionId;let z=!1,ee=null;const Ae=function(){ee?ee.close():(z=!0,C())};s.realtime_={close:Ae,sendRequest:function(At){(0,N.hu)(ee,"sendRequest call when we're not connected not allowed."),ee.sendRequest(At)}};const qe=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[At,Yt]=yield Promise.all([s.authTokenProvider_.getToken(qe),s.appCheckTokenProvider_.getToken(qe)]);z?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),s.authToken_=At&&At.accessToken,s.appCheckToken_=Yt&&Yt.token,ee=new je(R,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,u,m,C,Xn=>{Mt(Xn+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},B))}catch(At){s.log_("Failed to get token: "+At),z||(s.repoInfo_.nodeAdmin&&Mt(At),Ae())}}})()}interrupt(s){vt("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){vt("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=wi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const u=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const u=this.outstandingPuts_[s];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,u){let m;m=u?u.map(R=>Rt(R)).join("$"):"default";const C=this.removeListen_(s,m);C&&C.onComplete&&C.onComplete("permission_denied")}removeListen_(s,u){const m=new mn(s).toString();let C;if(this.listens.has(m)){const R=this.listens.get(m);C=R.get(u),R.delete(u),0===R.size&&this.listens.delete(m)}else C=void 0;return C}onAuthRevoked_(s,u){vt("Auth token revoked: "+s+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,u){vt("App check token revoked: "+s+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const u of s.values())this.sendListen_(u);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let u="js";(0,N.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+u+"."+xe.replace(/\./g,"-")]=1,(0,N.uI)()?s["framework.cordova"]=1:(0,N.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=en.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&s}}return o.nextPersistentConnectionId_=0,o.nextConnectionId_=0,o})();class hn{constructor(i,s){this.name=i,this.node=s}static Wrap(i,s){return new hn(i,s)}}class Vi{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,s){const u=new hn(cr,i),m=new hn(cr,s);return 0!==this.compare(u,m)}minPost(){return hn.MIN}}class ji extends Vi{static get __EMPTY_NODE(){return $i}static set __EMPTY_NODE(i){$i=i}compare(i,s){return sr(i.name,s.name)}isDefinedOn(i){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,s){return!1}minPost(){return hn.MIN}maxPost(){return new hn(En,$i)}makePost(i,s){return(0,N.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new hn(i,$i)}toString(){return".key"}}const Lr=new ji;class Yr{constructor(i,s,u,m,C=null){this.isReverse_=m,this.resultGenerator_=C,this.nodeStack_=[];let R=1;for(;!i.isEmpty();)if(R=s?u(i.key,s):1,m&&(R*=-1),R<0)i=this.isReverse_?i.left:i.right;else{if(0===R){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,i=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let Ls,Fr=(()=>{class o{constructor(s,u,m,C,R){this.key=s,this.value=u,this.color=m??o.RED,this.left=C??_r.EMPTY_NODE,this.right=R??_r.EMPTY_NODE}copy(s,u,m,C,R){return new o(s??this.key,u??this.value,m??this.color,C??this.left,R??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,u,m){let C=this;const R=m(s,C.key);return C=R<0?C.copy(null,null,null,C.left.insert(s,u,m),null):0===R?C.copy(null,u,null,null,null):C.copy(null,null,null,null,C.right.insert(s,u,m)),C.fixUp_()}removeMin_(){if(this.left.isEmpty())return _r.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,u){let m,C;if(m=this,u(s,m.key)<0)!m.left.isEmpty()&&!m.left.isRed_()&&!m.left.left.isRed_()&&(m=m.moveRedLeft_()),m=m.copy(null,null,null,m.left.remove(s,u),null);else{if(m.left.isRed_()&&(m=m.rotateRight_()),!m.right.isEmpty()&&!m.right.isRed_()&&!m.right.left.isRed_()&&(m=m.moveRedRight_()),0===u(s,m.key)){if(m.right.isEmpty())return _r.EMPTY_NODE;C=m.right.min_(),m=m.copy(C.key,C.value,null,null,m.right.removeMin_())}m=m.copy(null,null,null,null,m.right.remove(s,u))}return m.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,u)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return o.RED=!0,o.BLACK=!1,o})();class _r{constructor(i,s=_r.EMPTY_NODE){this.comparator_=i,this.root_=s}insert(i,s){return new _r(this.comparator_,this.root_.insert(i,s,this.comparator_).copy(null,null,Fr.BLACK,null,null))}remove(i){return new _r(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Fr.BLACK,null,null))}get(i){let s,u=this.root_;for(;!u.isEmpty();){if(s=this.comparator_(i,u.key),0===s)return u.value;s<0?u=u.left:s>0&&(u=u.right)}return null}getPredecessorKey(i){let s,u=this.root_,m=null;for(;!u.isEmpty();){if(s=this.comparator_(i,u.key),0===s){if(u.left.isEmpty())return m?m.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}s<0?u=u.left:s>0&&(m=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new Yr(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,s){return new Yr(this.root_,i,this.comparator_,!1,s)}getReverseIteratorFrom(i,s){return new Yr(this.root_,i,this.comparator_,!0,s)}getReverseIterator(i){return new Yr(this.root_,null,this.comparator_,!0,i)}}function ko(o,i){return sr(o.name,i.name)}function fn(o,i){return sr(o,i)}_r.EMPTY_NODE=new class Pr{copy(i,s,u,m,C){return this}insert(i,s,u){return new Fr(i,s,null)}remove(i,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const wr=function(o){return"number"==typeof o?"number:"+Tn(o):"string:"+o},wo=function(o){if(o.isLeafNode()){const i=o.val();(0,N.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,N.r3)(i,".sv"),"Priority must be a string or number.")}else(0,N.hu)(o===Ls||o.isEmpty(),"priority of unexpected type.");(0,N.hu)(o===Ls||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Qi,br,Lo,Ur=(()=>{class o{constructor(s,u=o.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=u,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),wo(this.priorityNode_)}static set __childrenNodeConstructor(s){Qi=s}static get __childrenNodeConstructor(){return Qi}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new o(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return Gt(s)?this:".priority"===Ht(s)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,u){return null}updateImmediateChild(s,u){return".priority"===s?this.updatePriority(u):u.isEmpty()&&".priority"!==s?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,u).updatePriority(this.priorityNode_)}updateChild(s,u){const m=Ht(s);return null===m?u:u.isEmpty()&&".priority"!==m?this:((0,N.hu)(".priority"!==m||1===tr(s),".priority must be the last token in a path"),this.updateImmediateChild(m,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(Zn(s),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,u){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+wr(this.priorityNode_.val())+":");const u=typeof this.value_;s+=u+":",s+="number"===u?Tn(this.value_):this.value_,this.lazyHash_=Fn(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===o.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof o.__childrenNodeConstructor?-1:((0,N.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const u=typeof s.value_,m=typeof this.value_,C=o.VALUE_TYPE_ORDER.indexOf(u),R=o.VALUE_TYPE_ORDER.indexOf(m);return(0,N.hu)(C>=0,"Unknown leaf type: "+u),(0,N.hu)(R>=0,"Unknown leaf type: "+m),C===R?"object"===m?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:R-C}withIndex(){return this}isIndexed(){return!0}equals(s){return s===this||!!s.isLeafNode()&&(this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_))}}return o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o})();const Nn=new class fr extends Vi{compare(i,s){const u=i.node.getPriority(),m=s.node.getPriority(),C=u.compareTo(m);return 0===C?sr(i.name,s.name):C}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,s){return!i.getPriority().equals(s.getPriority())}minPost(){return hn.MIN}maxPost(){return new hn(En,new Ur("[PRIORITY-POST]",Lo))}makePost(i,s){const u=br(i);return new hn(s,new Ur("[PRIORITY-POST]",u))}toString(){return".priority"}},Xi=Math.log(2);class tn{constructor(i){this.count=parseInt(Math.log(i+1)/Xi,10),this.current_=this.count-1;const m=(C=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&m}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const _s=function(o,i,s,u){o.sort(i);const m=function(z,ee){const Ae=ee-z;let Ne,qe;if(0===Ae)return null;if(1===Ae)return Ne=o[z],qe=s?s(Ne):Ne,new Fr(qe,Ne.node,Fr.BLACK,null,null);{const At=parseInt(Ae/2,10)+z,Yt=m(z,At),Xn=m(At+1,ee);return Ne=o[At],qe=s?s(Ne):Ne,new Fr(qe,Ne.node,Fr.BLACK,Yt,Xn)}},B=function(z){let ee=null,Ae=null,Ne=o.length;const qe=function(Yt,Xn){const li=Ne-Yt,Zs=Ne;Ne-=Yt;const Ma=m(li+1,Zs),Ql=o[li],mh=s?s(Ql):Ql;At(new Fr(mh,Ql.node,Xn,null,Ma))},At=function(Yt){ee?(ee.left=Yt,ee=Yt):(Ae=Yt,ee=Yt)};for(let Yt=0;Yt<z.count;++Yt){const Xn=z.nextBitIsOne(),li=Math.pow(2,z.count-(Yt+1));Xn?qe(li,Fr.BLACK):(qe(li,Fr.BLACK),qe(li,Fr.RED))}return Ae}(new tn(o.length));return new _r(u||i,B)};let Xs;const pi={};class gi{constructor(i,s){this.indexes_=i,this.indexSet_=s}static get Default(){return(0,N.hu)(pi&&Nn,"ChildrenNode.ts has not been loaded"),Xs=Xs||new gi({".priority":pi},{".priority":Nn}),Xs}get(i){const s=(0,N.DV)(this.indexes_,i);if(!s)throw new Error("No index defined for "+i);return s instanceof _r?s:null}hasIndex(i){return(0,N.r3)(this.indexSet_,i.toString())}addIndex(i,s){(0,N.hu)(i!==Lr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let m=!1;const C=s.getIterator(hn.Wrap);let B,R=C.getNext();for(;R;)m=m||i.isDefinedOn(R.node),u.push(R),R=C.getNext();B=m?_s(u,i.getCompare()):pi;const z=i.toString(),ee=Object.assign({},this.indexSet_);ee[z]=i;const Ae=Object.assign({},this.indexes_);return Ae[z]=B,new gi(Ae,ee)}addToIndexes(i,s){const u=(0,N.UI)(this.indexes_,(m,C)=>{const R=(0,N.DV)(this.indexSet_,C);if((0,N.hu)(R,"Missing index implementation for "+C),m===pi){if(R.isDefinedOn(i.node)){const B=[],z=s.getIterator(hn.Wrap);let ee=z.getNext();for(;ee;)ee.name!==i.name&&B.push(ee),ee=z.getNext();return B.push(i),_s(B,R.getCompare())}return pi}{const B=s.get(i.name);let z=m;return B&&(z=z.remove(new hn(i.name,B))),z.insert(i,i.node)}});return new gi(u,this.indexSet_)}removeFromIndexes(i,s){const u=(0,N.UI)(this.indexes_,m=>{if(m===pi)return m;{const C=s.get(i.name);return C?m.remove(new hn(i.name,C)):m}});return new gi(u,this.indexSet_)}}let es,Kt=(()=>{class o{constructor(s,u,m){this.children_=s,this.priorityNode_=u,this.indexMap_=m,this.lazyHash_=null,this.priorityNode_&&wo(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return es||(es=new o(new _r(fn),null,gi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||es}updatePriority(s){return this.children_.isEmpty()?this:new o(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const u=this.children_.get(s);return null===u?es:u}}getChild(s){const u=Ht(s);return null===u?this:this.getImmediateChild(u).getChild(Zn(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,u){if((0,N.hu)(u,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(u);{const m=new hn(s,u);let C,R;u.isEmpty()?(C=this.children_.remove(s),R=this.indexMap_.removeFromIndexes(m,this.children_)):(C=this.children_.insert(s,u),R=this.indexMap_.addToIndexes(m,this.children_));const B=C.isEmpty()?es:this.priorityNode_;return new o(C,B,R)}}updateChild(s,u){const m=Ht(s);if(null===m)return u;{(0,N.hu)(".priority"!==Ht(s)||1===tr(s),".priority must be the last token in a path");const C=this.getImmediateChild(m).updateChild(Zn(s),u);return this.updateImmediateChild(m,C)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const u={};let m=0,C=0,R=!0;if(this.forEachChild(Nn,(B,z)=>{u[B]=z.val(s),m++,R&&o.INTEGER_REGEXP_.test(B)?C=Math.max(C,Number(B)):R=!1}),!s&&R&&C<2*m){const B=[];for(const z in u)B[z]=u[z];return B}return s&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+wr(this.getPriority().val())+":"),this.forEachChild(Nn,(u,m)=>{const C=m.hash();""!==C&&(s+=":"+u+":"+C)}),this.lazyHash_=""===s?"":Fn(s)}return this.lazyHash_}getPredecessorChildName(s,u,m){const C=this.resolveIndex_(m);if(C){const R=C.getPredecessorKey(new hn(s,u));return R?R.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const u=this.resolveIndex_(s);if(u){const m=u.minKey();return m&&m.name}return this.children_.minKey()}getFirstChild(s){const u=this.getFirstChildName(s);return u?new hn(u,this.children_.get(u)):null}getLastChildName(s){const u=this.resolveIndex_(s);if(u){const m=u.maxKey();return m&&m.name}return this.children_.maxKey()}getLastChild(s){const u=this.getLastChildName(s);return u?new hn(u,this.children_.get(u)):null}forEachChild(s,u){const m=this.resolveIndex_(s);return m?m.inorderTraversal(C=>u(C.name,C.node)):this.children_.inorderTraversal(u)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,u){const m=this.resolveIndex_(u);if(m)return m.getIteratorFrom(s,C=>C);{const C=this.children_.getIteratorFrom(s.name,hn.Wrap);let R=C.peek();for(;null!=R&&u.compare(R,s)<0;)C.getNext(),R=C.peek();return C}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,u){const m=this.resolveIndex_(u);if(m)return m.getReverseIteratorFrom(s,C=>C);{const C=this.children_.getReverseIteratorFrom(s.name,hn.Wrap);let R=C.peek();for(;null!=R&&u.compare(R,s)>0;)C.getNext(),R=C.peek();return C}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===vs?-1:0}withIndex(s){if(s===Lr||this.indexMap_.hasIndex(s))return this;{const u=this.indexMap_.addIndex(s,this.children_);return new o(this.children_,this.priorityNode_,u)}}isIndexed(s){return s===Lr||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const u=s;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const m=this.getIterator(Nn),C=u.getIterator(Nn);let R=m.getNext(),B=C.getNext();for(;R&&B;){if(R.name!==B.name||!R.node.equals(B.node))return!1;R=m.getNext(),B=C.getNext()}return null===R&&null===B}return!1}return!1}}resolveIndex_(s){return s===Lr?null:this.indexMap_.get(s.toString())}}return o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o})();const vs=new class ys extends Kt{constructor(){super(new _r(fn),Kt.EMPTY_NODE,gi.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Kt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(hn,{MIN:{value:new hn(cr,Kt.EMPTY_NODE)},MAX:{value:new hn(En,vs)}}),ji.__EMPTY_NODE=Kt.EMPTY_NODE,Ur.__childrenNodeConstructor=Kt,function Fs(o){Ls=o}(vs),function ms(o){Lo=o}(vs);const Qe=!0;function kt(o,i=null){if(null===o)return Kt.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(i=o[".priority"]),(0,N.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new Ur(o,kt(i));if(o instanceof Array||!Qe){let s=Kt.EMPTY_NODE;return kn(o,(u,m)=>{if((0,N.r3)(o,u)&&"."!==u.substring(0,1)){const C=kt(m);(C.isLeafNode()||!C.isEmpty())&&(s=s.updateImmediateChild(u,C))}}),s.updatePriority(kt(i))}{const s=[];let u=!1;if(kn(o,(R,B)=>{if("."!==R.substring(0,1)){const z=kt(B);z.isEmpty()||(u=u||!z.getPriority().isEmpty(),s.push(new hn(R,z)))}}),0===s.length)return Kt.EMPTY_NODE;const C=_s(s,ko,R=>R.name,fn);if(u){const R=_s(s,Nn.getCompare());return new Kt(C,kt(i),new gi({".priority":R},{".priority":Nn}))}return new Kt(C,kt(i),gi.Default)}}!function Ji(o){br=o}(kt);class Hn extends Vi{constructor(i){super(),this.indexPath_=i,(0,N.hu)(!Gt(i)&&".priority"!==Ht(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,s){const u=this.extractChild(i.node),m=this.extractChild(s.node),C=u.compareTo(m);return 0===C?sr(i.name,s.name):C}makePost(i,s){const u=kt(i),m=Kt.EMPTY_NODE.updateChild(this.indexPath_,u);return new hn(s,m)}maxPost(){const i=Kt.EMPTY_NODE.updateChild(this.indexPath_,vs);return new hn(En,i)}toString(){return hs(this.indexPath_,0).join("/")}}const yr=new class ga extends Vi{compare(i,s){const u=i.node.compareTo(s.node);return 0===u?sr(i.name,s.name):u}isDefinedOn(i){return!0}indexedValueChanged(i,s){return!i.equals(s)}minPost(){return hn.MIN}maxPost(){return hn.MAX}makePost(i,s){const u=kt(i);return new hn(s,u)}toString(){return".value"}};function Fo(o){return{type:"value",snapshotNode:o}}function Hi(o,i){return{type:"child_added",snapshotNode:i,childName:o}}function Or(o,i){return{type:"child_removed",snapshotNode:i,childName:o}}function Us(o,i,s){return{type:"child_changed",snapshotNode:i,childName:o,oldSnap:s}}class bo{constructor(i){this.index_=i}updateChild(i,s,u,m,C,R){(0,N.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const B=i.getImmediateChild(s);return B.getChild(m).equals(u.getChild(m))&&B.isEmpty()===u.isEmpty()||(null!=R&&(u.isEmpty()?i.hasChild(s)?R.trackChildChange(Or(s,B)):(0,N.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):B.isEmpty()?R.trackChildChange(Hi(s,u)):R.trackChildChange(Us(s,u,B))),i.isLeafNode()&&u.isEmpty())?i:i.updateImmediateChild(s,u).withIndex(this.index_)}updateFullNode(i,s,u){return null!=u&&(i.isLeafNode()||i.forEachChild(Nn,(m,C)=>{s.hasChild(m)||u.trackChildChange(Or(m,C))}),s.isLeafNode()||s.forEachChild(Nn,(m,C)=>{if(i.hasChild(m)){const R=i.getImmediateChild(m);R.equals(C)||u.trackChildChange(Us(m,C,R))}else u.trackChildChange(Hi(m,C))})),s.withIndex(this.index_)}updatePriority(i,s){return i.isEmpty()?Kt.EMPTY_NODE:i.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Es{constructor(i){this.indexedFilter_=new bo(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Es.getStartPost_(i),this.endPost_=Es.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,u=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return s&&u}updateChild(i,s,u,m,C,R){return this.matches(new hn(s,u))||(u=Kt.EMPTY_NODE),this.indexedFilter_.updateChild(i,s,u,m,C,R)}updateFullNode(i,s,u){s.isLeafNode()&&(s=Kt.EMPTY_NODE);let m=s.withIndex(this.index_);m=m.updatePriority(Kt.EMPTY_NODE);const C=this;return s.forEachChild(Nn,(R,B)=>{C.matches(new hn(R,B))||(m=m.updateImmediateChild(R,Kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,m,u)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const s=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),s)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const s=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),s)}return i.getIndex().maxPost()}}class Bs{constructor(i){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=s=>{const u=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new Es(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,s,u,m,C,R){return this.rangedFilter_.matches(new hn(s,u))||(u=Kt.EMPTY_NODE),i.getImmediateChild(s).equals(u)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,s,u,m,C,R):this.fullLimitUpdateChild_(i,s,u,C,R)}updateFullNode(i,s,u){let m;if(s.isLeafNode()||s.isEmpty())m=Kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let C;m=Kt.EMPTY_NODE.withIndex(this.index_),C=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let R=0;for(;C.hasNext()&&R<this.limit_;){const B=C.getNext();if(this.withinDirectionalStart(B)){if(!this.withinDirectionalEnd(B))break;m=m.updateImmediateChild(B.name,B.node),R++}}}else{let C;m=s.withIndex(this.index_),m=m.updatePriority(Kt.EMPTY_NODE),C=this.reverse_?m.getReverseIterator(this.index_):m.getIterator(this.index_);let R=0;for(;C.hasNext();){const B=C.getNext();R<this.limit_&&this.withinDirectionalStart(B)&&this.withinDirectionalEnd(B)?R++:m=m.updateImmediateChild(B.name,Kt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,m,u)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,s,u,m,C){let R;if(this.reverse_){const Ne=this.index_.getCompare();R=(qe,At)=>Ne(At,qe)}else R=this.index_.getCompare();const B=i;(0,N.hu)(B.numChildren()===this.limit_,"");const z=new hn(s,u),ee=this.reverse_?B.getFirstChild(this.index_):B.getLastChild(this.index_),Ae=this.rangedFilter_.matches(z);if(B.hasChild(s)){const Ne=B.getImmediateChild(s);let qe=m.getChildAfterChild(this.index_,ee,this.reverse_);for(;null!=qe&&(qe.name===s||B.hasChild(qe.name));)qe=m.getChildAfterChild(this.index_,qe,this.reverse_);const At=null==qe?1:R(qe,z);if(Ae&&!u.isEmpty()&&At>=0)return C?.trackChildChange(Us(s,u,Ne)),B.updateImmediateChild(s,u);{C?.trackChildChange(Or(s,Ne));const Xn=B.updateImmediateChild(s,Kt.EMPTY_NODE);return null!=qe&&this.rangedFilter_.matches(qe)?(C?.trackChildChange(Hi(qe.name,qe.node)),Xn.updateImmediateChild(qe.name,qe.node)):Xn}}return u.isEmpty()?i:Ae&&R(ee,z)>=0?(null!=C&&(C.trackChildChange(Or(ee.name,ee.node)),C.trackChildChange(Hi(s,u))),B.updateImmediateChild(s,u).updateImmediateChild(ee.name,Kt.EMPTY_NODE)):i}}class Yn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:En}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nn}copy(){const i=new Yn;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Nr(o,i,s){const u=o.copy();return u.startSet_=!0,void 0===i&&(i=null),u.indexStartValue_=i,null!=s?(u.startNameSet_=!0,u.indexStartName_=s):(u.startNameSet_=!1,u.indexStartName_=""),u}function no(o,i,s){const u=o.copy();return u.endSet_=!0,void 0===i&&(i=null),u.indexEndValue_=i,void 0!==s?(u.endNameSet_=!0,u.indexEndName_=s):(u.endNameSet_=!1,u.indexEndName_=""),u}function Is(o,i){const s=o.copy();return s.index_=i,s}function ro(o){const i={};if(o.isDefault())return i;let s;if(o.index_===Nn?s="$priority":o.index_===yr?s="$value":o.index_===Lr?s="$key":((0,N.hu)(o.index_ instanceof Hn,"Unrecognized index type!"),s=o.index_.toString()),i.orderBy=(0,N.Wl)(s),o.startSet_){const u=o.startAfterSet_?"startAfter":"startAt";i[u]=(0,N.Wl)(o.indexStartValue_),o.startNameSet_&&(i[u]+=","+(0,N.Wl)(o.indexStartName_))}if(o.endSet_){const u=o.endBeforeSet_?"endBefore":"endAt";i[u]=(0,N.Wl)(o.indexEndValue_),o.endNameSet_&&(i[u]+=","+(0,N.Wl)(o.indexEndName_))}return o.limitSet_&&(o.isViewFromLeft()?i.limitToFirst=o.limit_:i.limitToLast=o.limit_),i}function Ds(o){const i={};if(o.startSet_&&(i.sp=o.indexStartValue_,o.startNameSet_&&(i.sn=o.indexStartName_),i.sin=!o.startAfterSet_),o.endSet_&&(i.ep=o.indexEndValue_,o.endNameSet_&&(i.en=o.indexEndName_),i.ein=!o.endBeforeSet_),o.limitSet_){i.l=o.limit_;let s=o.viewFrom_;""===s&&(s=o.isViewFromLeft()?"l":"r"),i.vf=s}return o.index_!==Nn&&(i.i=o.index_.toString()),i}class io extends ut{constructor(i,s,u,m){super(),this.repoInfo_=i,this.onDataUpdate_=s,this.authTokenProvider_=u,this.appCheckTokenProvider_=m,this.log_=Un("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,s){return void 0!==s?"tag$"+s:((0,N.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,s,u,m){const C=i._path.toString();this.log_("Listen called for "+C+" "+i._queryIdentifier);const R=io.getListenId_(i,u),B={};this.listens_[R]=B;const z=ro(i._queryParams);this.restRequest_(C+".json",z,(ee,Ae)=>{let Ne=Ae;if(404===ee&&(Ne=null,ee=null),null===ee&&this.onDataUpdate_(C,Ne,!1,u),(0,N.DV)(this.listens_,R)===B){let qe;qe=ee?401===ee?"permission_denied":"rest_error:"+ee:"ok",m(qe,null)}})}unlisten(i,s){const u=io.getListenId_(i,s);delete this.listens_[u]}get(i){const s=ro(i._queryParams),u=i._path.toString(),m=new N.BH;return this.restRequest_(u+".json",s,(C,R)=>{let B=R;404===C&&(B=null,C=null),null===C?(this.onDataUpdate_(u,B,!1,null),m.resolve(B)):m.reject(new Error(B))}),m.promise}refreshAuthToken(i){}restRequest_(i,s={},u){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([m,C])=>{m&&m.accessToken&&(s.auth=m.accessToken),C&&C.token&&(s.ac=C.token);const R=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,N.xO)(s);this.log_("Sending REST request for "+R);const B=new XMLHttpRequest;B.onreadystatechange=()=>{if(u&&4===B.readyState){this.log_("REST Response for "+R+" received. status:",B.status,"response:",B.responseText);let z=null;if(B.status>=200&&B.status<300){try{z=(0,N.cI)(B.responseText)}catch{Mt("Failed to parse JSON response for "+R+": "+B.responseText)}u(null,z)}else 401!==B.status&&404!==B.status&&Mt("Got unsuccessful REST response for "+R+" Status: "+B.status),u(B.status);u=null}},B.open("GET",R,!0),B.send()})}}class _i{constructor(){this.rootNode_=Kt.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,s){this.rootNode_=this.rootNode_.updateChild(i,s)}}function so(){return{value:null,children:new Map}}function Wi(o,i,s){if(Gt(i))o.value=s,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(i,s);else{const u=Ht(i);o.children.has(u)||o.children.set(u,so()),Wi(o.children.get(u),i=Zn(i),s)}}function zi(o,i){if(Gt(i))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;{const s=o.value;return o.value=null,s.forEachChild(Nn,(u,m)=>{Wi(o,new mn(u),m)}),zi(o,i)}}if(o.children.size>0){const s=Ht(i);return i=Zn(i),o.children.has(s)&&zi(o.children.get(s),i)&&o.children.delete(s),0===o.children.size}return!0}function Uo(o,i,s){null!==o.value?s(i,o.value):function Bo(o,i){o.children.forEach((s,u)=>{i(u,s)})}(o,(u,m)=>{Uo(m,new mn(i.toString()+"/"+u),s)})}class ma{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),s=Object.assign({},i);return this.last_&&kn(this.last_,(u,m)=>{s[u]=s[u]-m}),this.last_=i,s}}class ul{constructor(i,s){this.server_=s,this.statsToReport_={},this.statsListener_=new ma(i);const u=1e4+2e4*Math.random();ct(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const i=this.statsListener_.get(),s={};let u=!1;kn(i,(m,C)=>{C>0&&(0,N.r3)(this.statsToReport_,m)&&(s[m]=C,u=!0)}),u&&this.server_.reportStats(s),ct(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var zn=(()=>{return(o=zn||(zn={}))[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",zn;var o})();function Vs(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}class $s{constructor(i,s,u){this.path=i,this.affectedTree=s,this.revert=u,this.type=zn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(Gt(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new mn(i));return new $s(dn(),s,this.revert)}}return(0,N.hu)(Ht(this.path)===i,"operationForChild called for unrelated child."),new $s(Zn(this.path),this.affectedTree,this.revert)}}class Ti{constructor(i,s){this.source=i,this.path=s,this.type=zn.LISTEN_COMPLETE}operationForChild(i){return Gt(this.path)?new Ti(this.source,dn()):new Ti(this.source,Zn(this.path))}}class Gi{constructor(i,s,u){this.source=i,this.path=s,this.snap=u,this.type=zn.OVERWRITE}operationForChild(i){return Gt(this.path)?new Gi(this.source,dn(),this.snap.getImmediateChild(i)):new Gi(this.source,Zn(this.path),this.snap)}}class pr{constructor(i,s,u){this.source=i,this.path=s,this.children=u,this.type=zn.MERGE}operationForChild(i){if(Gt(this.path)){const s=this.children.subtree(new mn(i));return s.isEmpty()?null:s.value?new Gi(this.source,dn(),s.value):new pr(this.source,dn(),s)}return(0,N.hu)(Ht(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new pr(this.source,Zn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ts{constructor(i,s,u){this.node_=i,this.fullyInitialized_=s,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Gt(i))return this.isFullyInitialized()&&!this.filtered_;const s=Ht(i);return this.isCompleteForChild(s)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class $o{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function Ki(o,i,s,u,m,C){const R=u.filter(B=>B.type===s);R.sort((B,z)=>function _a(o,i,s){if(null==i.childName||null==s.childName)throw(0,N.g5)("Should only compare child_ events.");const u=new hn(i.childName,i.snapshotNode),m=new hn(s.childName,s.snapshotNode);return o.index_.compare(u,m)}(o,B,z)),R.forEach(B=>{const z=function js(o,i,s){return"value"===i.type||"child_removed"===i.type||(i.prevName=s.getPredecessorChildName(i.childName,i.snapshotNode,o.index_)),i}(o,B,C);m.forEach(ee=>{ee.respondsTo(B.type)&&i.push(ee.createEvent(z,o.query_))})})}function D(o,i){return{eventCache:o,serverCache:i}}function M(o,i,s,u){return D(new ts(i,s,u),o.serverCache)}function T(o,i,s,u){return D(o.eventCache,new ts(i,s,u))}function U(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function Z(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}let Ee;class ht{constructor(i,s=(()=>(Ee||(Ee=new _r(Bn)),Ee))()){this.value=i,this.children=s}static fromObject(i){let s=new ht(null);return kn(i,(u,m)=>{s=s.set(new mn(u),m)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,s){if(null!=this.value&&s(this.value))return{path:dn(),value:this.value};if(Gt(i))return null;{const u=Ht(i),m=this.children.get(u);if(null!==m){const C=m.findRootMostMatchingPathAndValue(Zn(i),s);return null!=C?{path:Rn(new mn(u),C.path),value:C.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Gt(i))return this;{const s=Ht(i),u=this.children.get(s);return null!==u?u.subtree(Zn(i)):new ht(null)}}set(i,s){if(Gt(i))return new ht(s,this.children);{const u=Ht(i),C=(this.children.get(u)||new ht(null)).set(Zn(i),s),R=this.children.insert(u,C);return new ht(this.value,R)}}remove(i){if(Gt(i))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const s=Ht(i),u=this.children.get(s);if(u){const m=u.remove(Zn(i));let C;return C=m.isEmpty()?this.children.remove(s):this.children.insert(s,m),null===this.value&&C.isEmpty()?new ht(null):new ht(this.value,C)}return this}}get(i){if(Gt(i))return this.value;{const s=Ht(i),u=this.children.get(s);return u?u.get(Zn(i)):null}}setTree(i,s){if(Gt(i))return s;{const u=Ht(i),C=(this.children.get(u)||new ht(null)).setTree(Zn(i),s);let R;return R=C.isEmpty()?this.children.remove(u):this.children.insert(u,C),new ht(this.value,R)}}fold(i){return this.fold_(dn(),i)}fold_(i,s){const u={};return this.children.inorderTraversal((m,C)=>{u[m]=C.fold_(Rn(i,m),s)}),s(i,this.value,u)}findOnPath(i,s){return this.findOnPath_(i,dn(),s)}findOnPath_(i,s,u){const m=!!this.value&&u(s,this.value);if(m)return m;if(Gt(i))return null;{const C=Ht(i),R=this.children.get(C);return R?R.findOnPath_(Zn(i),Rn(s,C),u):null}}foreachOnPath(i,s){return this.foreachOnPath_(i,dn(),s)}foreachOnPath_(i,s,u){if(Gt(i))return this;{this.value&&u(s,this.value);const m=Ht(i),C=this.children.get(m);return C?C.foreachOnPath_(Zn(i),Rn(s,m),u):new ht(null)}}foreach(i){this.foreach_(dn(),i)}foreach_(i,s){this.children.inorderTraversal((u,m)=>{m.foreach_(Rn(i,u),s)}),this.value&&s(i,this.value)}foreachChild(i){this.children.inorderTraversal((s,u)=>{u.value&&i(s,u.value)})}}class rn{constructor(i){this.writeTree_=i}static empty(){return new rn(new ht(null))}}function Dn(o,i,s){if(Gt(i))return new rn(new ht(s));{const u=o.writeTree_.findRootMostValueAndPath(i);if(null!=u){const m=u.path;let C=u.value;const R=nr(m,i);return C=C.updateChild(R,s),new rn(o.writeTree_.set(m,C))}{const m=new ht(s),C=o.writeTree_.setTree(i,m);return new rn(C)}}}function xn(o,i,s){let u=o;return kn(s,(m,C)=>{u=Dn(u,Rn(i,m),C)}),u}function ln(o,i){if(Gt(i))return rn.empty();{const s=o.writeTree_.setTree(i,new ht(null));return new rn(s)}}function rr(o,i){return null!=Zt(o,i)}function Zt(o,i){const s=o.writeTree_.findRootMostValueAndPath(i);return null!=s?o.writeTree_.get(s.path).getChild(nr(s.path,i)):null}function ir(o){const i=[],s=o.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(Nn,(u,m)=>{i.push(new hn(u,m))}):o.writeTree_.children.inorderTraversal((u,m)=>{null!=m.value&&i.push(new hn(u,m.value))}),i}function Tr(o,i){if(Gt(i))return o;{const s=Zt(o,i);return new rn(null!=s?new ht(s):o.writeTree_.subtree(i))}}function Br(o){return o.writeTree_.isEmpty()}function Sr(o,i){return yi(dn(),o.writeTree_,i)}function yi(o,i,s){if(null!=i.value)return s.updateChild(o,i.value);{let u=null;return i.children.inorderTraversal((m,C)=>{".priority"===m?((0,N.hu)(null!==C.value,"Priority writes must always be leaf nodes"),u=C.value):s=yi(Rn(o,m),C,s)}),!s.getChild(o).isEmpty()&&null!==u&&(s=s.updateChild(Rn(o,".priority"),u)),s}}function Si(o,i){return Ar(i,o)}function Cs(o,i){if(o.snap)return ri(o.path,i);for(const s in o.children)if(o.children.hasOwnProperty(s)&&ri(Rn(o.path,s),i))return!0;return!1}function Qr(o){return o.visible}function jo(o,i,s){let u=rn.empty();for(let m=0;m<o.length;++m){const C=o[m];if(i(C)){const R=C.path;let B;if(C.snap)ri(s,R)?(B=nr(s,R),u=Dn(u,B,C.snap)):ri(R,s)&&(B=nr(R,s),u=Dn(u,dn(),C.snap.getChild(B)));else{if(!C.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(ri(s,R))B=nr(s,R),u=xn(u,B,C.children);else if(ri(R,s))if(B=nr(R,s),Gt(B))u=xn(u,dn(),C.children);else{const z=(0,N.DV)(C.children,Ht(B));if(z){const ee=z.getChild(Zn(B));u=Dn(u,dn(),ee)}}}}}return u}function ws(o,i,s,u,m){if(u||m){const C=Tr(o.visibleWrites,i);return!m&&Br(C)?s:m||null!=s||rr(C,dn())?Sr(jo(o.allWrites,function(ee){return(ee.visible||m)&&(!u||!~u.indexOf(ee.writeId))&&(ri(ee.path,i)||ri(i,ee.path))},i),s||Kt.EMPTY_NODE):null}{const C=Zt(o.visibleWrites,i);if(null!=C)return C;{const R=Tr(o.visibleWrites,i);return Br(R)?s:null!=s||rr(R,dn())?Sr(R,s||Kt.EMPTY_NODE):null}}}function Ao(o,i,s,u){return ws(o.writeTree,o.treePath,i,s,u)}function bs(o,i){return function Ho(o,i,s){let u=Kt.EMPTY_NODE;const m=Zt(o.visibleWrites,i);if(m)return m.isLeafNode()||m.forEachChild(Nn,(C,R)=>{u=u.updateImmediateChild(C,R)}),u;if(s){const C=Tr(o.visibleWrites,i);return s.forEachChild(Nn,(R,B)=>{const z=Sr(Tr(C,new mn(R)),B);u=u.updateImmediateChild(R,z)}),ir(C).forEach(R=>{u=u.updateImmediateChild(R.name,R.node)}),u}return ir(Tr(o.visibleWrites,i)).forEach(R=>{u=u.updateImmediateChild(R.name,R.node)}),u}(o.writeTree,o.treePath,i)}function uo(o,i,s,u){return function ta(o,i,s,u,m){(0,N.hu)(u||m,"Either existingEventSnap or existingServerSnap must exist");const C=Rn(i,s);if(rr(o.visibleWrites,C))return null;{const R=Tr(o.visibleWrites,C);return Br(R)?m.getChild(s):Sr(R,m.getChild(s))}}(o.writeTree,o.treePath,i,s,u)}function na(o,i){return function Wo(o,i){return Zt(o.visibleWrites,i)}(o.writeTree,Rn(o.treePath,i))}function Mi(o,i,s){return function lo(o,i,s,u){const m=Rn(i,s),C=Zt(o.visibleWrites,m);return null!=C?C:u.isCompleteForChild(s)?Sr(Tr(o.visibleWrites,m),u.getNode().getImmediateChild(s)):null}(o.writeTree,o.treePath,i,s)}function va(o,i){return Ar(Rn(o.treePath,i),o.writeTree)}function Ar(o,i){return{treePath:o,writeTree:i}}class ra{constructor(){this.changeMap=new Map}trackChildChange(i){const s=i.type,u=i.childName;(0,N.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const m=this.changeMap.get(u);if(m){const C=m.type;if("child_added"===s&&"child_removed"===C)this.changeMap.set(u,Us(u,i.snapshotNode,m.snapshotNode));else if("child_removed"===s&&"child_added"===C)this.changeMap.delete(u);else if("child_removed"===s&&"child_changed"===C)this.changeMap.set(u,Or(u,m.oldSnap));else if("child_changed"===s&&"child_added"===C)this.changeMap.set(u,Hi(u,i.snapshotNode));else{if("child_changed"!==s||"child_changed"!==C)throw(0,N.g5)("Illegal combination of changes: "+i+" occurred after "+m);this.changeMap.set(u,Us(u,i.snapshotNode,m.oldSnap))}}else this.changeMap.set(u,i)}getChanges(){return Array.from(this.changeMap.values())}}const rs=new class ns{getCompleteChild(i){return null}getChildAfterChild(i,s,u){return null}};class Ts{constructor(i,s,u=null){this.writes_=i,this.viewCache_=s,this.optCompleteServerCache_=u}getCompleteChild(i){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(i))return s.getNode().getImmediateChild(i);{const u=null!=this.optCompleteServerCache_?new ts(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mi(this.writes_,i,u)}}getChildAfterChild(i,s,u){const m=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Z(this.viewCache_),C=function Ri(o,i,s,u,m,C){return function La(o,i,s,u,m,C,R){let B;const z=Tr(o.visibleWrites,i),ee=Zt(z,dn());if(null!=ee)B=ee;else{if(null==s)return[];B=Sr(z,s)}if(B=B.withIndex(R),B.isEmpty()||B.isLeafNode())return[];{const Ae=[],Ne=R.getCompare(),qe=C?B.getReverseIteratorFrom(u,R):B.getIteratorFrom(u,R);let At=qe.getNext();for(;At&&Ae.length<m;)0!==Ne(At,u)&&Ae.push(At),At=qe.getNext();return Ae}}(o.writeTree,o.treePath,i,s,u,m,C)}(this.writes_,m,s,1,u,i);return 0===C.length?null:C[0]}}function Ss(o,i,s,u,m,C){const R=i.eventCache;if(null!=na(u,s))return i;{let B,z;if(Gt(s))if((0,N.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const ee=Z(i),Ne=bs(u,ee instanceof Kt?ee:Kt.EMPTY_NODE);B=o.filter.updateFullNode(i.eventCache.getNode(),Ne,C)}else{const ee=Ao(u,Z(i));B=o.filter.updateFullNode(i.eventCache.getNode(),ee,C)}else{const ee=Ht(s);if(".priority"===ee){(0,N.hu)(1===tr(s),"Can't have a priority with additional path components");const Ae=R.getNode();z=i.serverCache.getNode();const Ne=uo(u,s,Ae,z);B=null!=Ne?o.filter.updatePriority(Ae,Ne):R.getNode()}else{const Ae=Zn(s);let Ne;if(R.isCompleteForChild(ee)){z=i.serverCache.getNode();const qe=uo(u,s,R.getNode(),z);Ne=null!=qe?R.getNode().getImmediateChild(ee).updateChild(Ae,qe):R.getNode().getImmediateChild(ee)}else Ne=Mi(u,ee,i.serverCache);B=null!=Ne?o.filter.updateChild(R.getNode(),ee,Ne,Ae,m,C):R.getNode()}}return M(i,B,R.isFullyInitialized()||Gt(s),o.filter.filtersNodes())}}function is(o,i,s,u,m,C,R,B){const z=i.serverCache;let ee;const Ae=R?o.filter:o.filter.getIndexedFilter();if(Gt(s))ee=Ae.updateFullNode(z.getNode(),u,null);else if(Ae.filtersNodes()&&!z.isFiltered()){const At=z.getNode().updateChild(s,u);ee=Ae.updateFullNode(z.getNode(),At,null)}else{const At=Ht(s);if(!z.isCompleteForPath(s)&&tr(s)>1)return i;const Yt=Zn(s),li=z.getNode().getImmediateChild(At).updateChild(Yt,u);ee=".priority"===At?Ae.updatePriority(z.getNode(),li):Ae.updateChild(z.getNode(),At,li,Yt,rs,null)}const Ne=T(i,ee,z.isFullyInitialized()||Gt(s),Ae.filtersNodes());return Ss(o,Ne,s,m,new Ts(m,Ne,C),B)}function vr(o,i,s,u,m,C,R){const B=i.eventCache;let z,ee;const Ae=new Ts(m,i,C);if(Gt(s))ee=o.filter.updateFullNode(i.eventCache.getNode(),u,R),z=M(i,ee,!0,o.filter.filtersNodes());else{const Ne=Ht(s);if(".priority"===Ne)ee=o.filter.updatePriority(i.eventCache.getNode(),u),z=M(i,ee,B.isFullyInitialized(),B.isFiltered());else{const qe=Zn(s),At=B.getNode().getImmediateChild(Ne);let Yt;if(Gt(qe))Yt=u;else{const Xn=Ae.getCompleteChild(Ne);Yt=null!=Xn?".priority"===yo(qe)&&Xn.getChild(Js(qe)).isEmpty()?Xn:Xn.updateChild(qe,u):Kt.EMPTY_NODE}z=At.equals(Yt)?i:M(i,o.filter.updateChild(B.getNode(),Ne,Yt,qe,Ae,R),B.isFullyInitialized(),o.filter.filtersNodes())}}return z}function Fa(o,i){return o.eventCache.isCompleteForChild(i)}function Ro(o,i,s){return s.foreach((u,m)=>{i=i.updateChild(u,m)}),i}function Ua(o,i,s,u,m,C,R,B){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let ee,z=i;ee=Gt(s)?u:new ht(null).setTree(s,u);const Ae=i.serverCache.getNode();return ee.children.inorderTraversal((Ne,qe)=>{if(Ae.hasChild(Ne)){const Yt=Ro(0,i.serverCache.getNode().getImmediateChild(Ne),qe);z=is(o,z,new mn(Ne),Yt,m,C,R,B)}}),ee.children.inorderTraversal((Ne,qe)=>{const At=!i.serverCache.isCompleteForChild(Ne)&&null===qe.value;if(!Ae.hasChild(Ne)&&!At){const Xn=Ro(0,i.serverCache.getNode().getImmediateChild(Ne),qe);z=is(o,z,new mn(Ne),Xn,m,C,R,B)}}),z}class Nl{constructor(i,s){this.query_=i,this.eventRegistrations_=[];const u=this.query_._queryParams,m=new bo(u.getIndex()),C=function mi(o){return o.loadsAllData()?new bo(o.getIndex()):o.hasLimit()?new Bs(o):new Es(o)}(u);this.processor_=function Ea(o){return{filter:o}}(C);const R=s.serverCache,B=s.eventCache,z=m.updateFullNode(Kt.EMPTY_NODE,R.getNode(),null),ee=C.updateFullNode(Kt.EMPTY_NODE,B.getNode(),null),Ae=new ts(z,R.isFullyInitialized(),m.filtersNodes()),Ne=new ts(ee,B.isFullyInitialized(),C.filtersNodes());this.viewCache_=D(Ne,Ae),this.eventGenerator_=new $o(this.query_)}get query(){return this.query_}}function Ia(o,i){const s=Z(o.viewCache_);return s&&(o.query._queryParams.loadsAllData()||!Gt(i)&&!s.getImmediateChild(Ht(i)).isEmpty())?s.getChild(i):null}function Da(o){return 0===o.eventRegistrations_.length}function As(o,i,s){const u=[];if(s){(0,N.hu)(null==i,"A cancel should cancel all event registrations.");const m=o.query._path;o.eventRegistrations_.forEach(C=>{const R=C.createCancelEvent(s,m);R&&u.push(R)})}if(i){let m=[];for(let C=0;C<o.eventRegistrations_.length;++C){const R=o.eventRegistrations_[C];if(R.matches(i)){if(i.hasAnyCallback()){m=m.concat(o.eventRegistrations_.slice(C+1));break}}else m.push(R)}o.eventRegistrations_=m}else o.eventRegistrations_=[];return u}function Ca(o,i,s,u){i.type===zn.MERGE&&null!==i.source.queryId&&((0,N.hu)(Z(o.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(U(o.viewCache_),"Missing event cache, even though we have a server cache"));const m=o.viewCache_,C=function cl(o,i,s,u,m){const C=new ra;let R,B;if(s.type===zn.OVERWRITE){const ee=s;ee.source.fromUser?R=vr(o,i,ee.path,ee.snap,u,m,C):((0,N.hu)(ee.source.fromServer,"Unknown source."),B=ee.source.tagged||i.serverCache.isFiltered()&&!Gt(ee.path),R=is(o,i,ee.path,ee.snap,u,m,B,C))}else if(s.type===zn.MERGE){const ee=s;ee.source.fromUser?R=function co(o,i,s,u,m,C,R){let B=i;return u.foreach((z,ee)=>{const Ae=Rn(s,z);Fa(i,Ht(Ae))&&(B=vr(o,B,Ae,ee,m,C,R))}),u.foreach((z,ee)=>{const Ae=Rn(s,z);Fa(i,Ht(Ae))||(B=vr(o,B,Ae,ee,m,C,R))}),B}(o,i,ee.path,ee.children,u,m,C):((0,N.hu)(ee.source.fromServer,"Unknown source."),B=ee.source.tagged||i.serverCache.isFiltered(),R=Ua(o,i,ee.path,ee.children,u,m,B,C))}else if(s.type===zn.ACK_USER_WRITE){const ee=s;R=ee.revert?function dl(o,i,s,u,m,C){let R;if(null!=na(u,s))return i;{const B=new Ts(u,i,m),z=i.eventCache.getNode();let ee;if(Gt(s)||".priority"===Ht(s)){let Ae;if(i.serverCache.isFullyInitialized())Ae=Ao(u,Z(i));else{const Ne=i.serverCache.getNode();(0,N.hu)(Ne instanceof Kt,"serverChildren would be complete if leaf node"),Ae=bs(u,Ne)}ee=o.filter.updateFullNode(z,Ae,C)}else{const Ae=Ht(s);let Ne=Mi(u,Ae,i.serverCache);null==Ne&&i.serverCache.isCompleteForChild(Ae)&&(Ne=z.getImmediateChild(Ae)),ee=null!=Ne?o.filter.updateChild(z,Ae,Ne,Zn(s),B,C):i.eventCache.getNode().hasChild(Ae)?o.filter.updateChild(z,Ae,Kt.EMPTY_NODE,Zn(s),B,C):z,ee.isEmpty()&&i.serverCache.isFullyInitialized()&&(R=Ao(u,Z(i)),R.isLeafNode()&&(ee=o.filter.updateFullNode(ee,R,C)))}return R=i.serverCache.isFullyInitialized()||null!=na(u,dn()),M(i,ee,R,o.filter.filtersNodes())}}(o,i,ee.path,u,m,C):function ho(o,i,s,u,m,C,R){if(null!=na(m,s))return i;const B=i.serverCache.isFiltered(),z=i.serverCache;if(null!=u.value){if(Gt(s)&&z.isFullyInitialized()||z.isCompleteForPath(s))return is(o,i,s,z.getNode().getChild(s),m,C,B,R);if(Gt(s)){let ee=new ht(null);return z.getNode().forEachChild(Lr,(Ae,Ne)=>{ee=ee.set(new mn(Ae),Ne)}),Ua(o,i,s,ee,m,C,B,R)}return i}{let ee=new ht(null);return u.foreach((Ae,Ne)=>{const qe=Rn(s,Ae);z.isCompleteForPath(qe)&&(ee=ee.set(Ae,z.getNode().getChild(qe)))}),Ua(o,i,s,ee,m,C,B,R)}}(o,i,ee.path,ee.affectedTree,u,m,C)}else{if(s.type!==zn.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+s.type);R=function qn(o,i,s,u,m){const C=i.serverCache;return Ss(o,T(i,C.getNode(),C.isFullyInitialized()||Gt(s),C.isFiltered()),s,u,rs,m)}(o,i,s.path,u,C)}const z=C.getChanges();return function ia(o,i,s){const u=i.eventCache;if(u.isFullyInitialized()){const m=u.getNode().isLeafNode()||u.getNode().isEmpty(),C=U(o);(s.length>0||!o.eventCache.isFullyInitialized()||m&&!u.getNode().equals(C)||!u.getNode().getPriority().equals(C.getPriority()))&&s.push(Fo(U(i)))}}(i,R,z),{viewCache:R,changes:z}}(o.processor_,m,i,s,u);return function Ol(o,i){(0,N.hu)(i.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(i.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,C.viewCache),(0,N.hu)(C.viewCache.serverCache.isFullyInitialized()||!m.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=C.viewCache,Er(o,C.changes,C.viewCache.eventCache.getNode(),null)}function Er(o,i,s,u){return function So(o,i,s,u){const m=[],C=[];return i.forEach(R=>{"child_changed"===R.type&&o.index_.indexedValueChanged(R.oldSnap,R.snapshotNode)&&C.push(function eo(o,i){return{type:"child_moved",snapshotNode:i,childName:o}}(R.childName,R.snapshotNode))}),Ki(o,m,"child_removed",i,u,s),Ki(o,m,"child_added",i,u,s),Ki(o,m,"child_moved",C,u,s),Ki(o,m,"child_changed",i,u,s),Ki(o,m,"value",i,u,s),m}(o.eventGenerator_,i,s,u?[u]:o.eventRegistrations_)}let Rs,Go;class Yi{constructor(){this.views=new Map}}function fo(o,i,s,u){const m=i.source.queryId;if(null!==m){const C=o.views.get(m);return(0,N.hu)(null!=C,"SyncTree gave us an op for an invalid query."),Ca(C,i,s,u)}{let C=[];for(const R of o.views.values())C=C.concat(Ca(R,i,s,u));return C}}function Ms(o,i,s,u,m){const R=o.views.get(i._queryIdentifier);if(!R){let B=Ao(s,m?u:null),z=!1;B?z=!0:u instanceof Kt?(B=bs(s,u),z=!1):(B=Kt.EMPTY_NODE,z=!1);const ee=D(new ts(B,z,!1),new ts(u,m,!1));return new Nl(i,ee)}return R}function ba(o){const i=[];for(const s of o.views.values())s.query._queryParams.loadsAllData()||i.push(s);return i}function Pi(o,i){let s=null;for(const u of o.views.values())s=s||Ia(u,i);return s}function kl(o,i){return i._queryParams.loadsAllData()?Oi(o):o.views.get(i._queryIdentifier)}function Jr(o,i){return null!=kl(o,i)}function Ps(o){return null!=Oi(o)}function Oi(o){for(const i of o.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let _=1;class h{constructor(i){this.listenProvider_=i,this.syncPointTree_=new ht(null),this.pendingWriteTree_=function zo(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function I(o,i,s,u,m){return function Zi(o,i,s,u,m){(0,N.hu)(u>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===m&&(m=!0),o.allWrites.push({path:i,snap:s,writeId:u,visible:m}),m&&(o.visibleWrites=Dn(o.visibleWrites,i,s)),o.lastWriteId=u}(o.pendingWriteTree_,i,s,u,m),m?le(o,new Gi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,s)):[]}function k(o,i,s=!1){const u=function oo(o,i){for(let s=0;s<o.allWrites.length;s++){const u=o.allWrites[s];if(u.writeId===i)return u}return null}(o.pendingWriteTree_,i);if(function ya(o,i){const s=o.allWrites.findIndex(B=>B.writeId===i);(0,N.hu)(s>=0,"removeWrite called with nonexistent writeId.");const u=o.allWrites[s];o.allWrites.splice(s,1);let m=u.visible,C=!1,R=o.allWrites.length-1;for(;m&&R>=0;){const B=o.allWrites[R];B.visible&&(R>=s&&Cs(B,u.path)?m=!1:ri(u.path,B.path)&&(C=!0)),R--}return!!m&&(C?(function ao(o){o.visibleWrites=jo(o.allWrites,Qr,dn()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(u.snap?o.visibleWrites=ln(o.visibleWrites,u.path):kn(u.children,z=>{o.visibleWrites=ln(o.visibleWrites,Rn(u.path,z))}),!0))}(o.pendingWriteTree_,i)){let C=new ht(null);return null!=u.snap?C=C.set(dn(),!0):kn(u.children,R=>{C=C.set(new mn(R),!0)}),le(o,new $s(u.path,C,s))}return[]}function j(o,i,s){return le(o,new Gi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,s))}function It(o,i,s,u,m=!1){const C=i._path,R=o.syncPointTree_.get(C);let B=[];if(R&&("default"===i._queryIdentifier||Jr(R,i))){const z=function wa(o,i,s,u){const m=i._queryIdentifier,C=[];let R=[];const B=Ps(o);if("default"===m)for(const[z,ee]of o.views.entries())R=R.concat(As(ee,s,u)),Da(ee)&&(o.views.delete(z),ee.query._queryParams.loadsAllData()||C.push(ee.query));else{const z=o.views.get(m);z&&(R=R.concat(As(z,s,u)),Da(z)&&(o.views.delete(m),z.query._queryParams.loadsAllData()||C.push(z.query)))}return B&&!Ps(o)&&C.push(new(function Wr(){return(0,N.hu)(Rs,"Reference.ts has not been loaded"),Rs}())(i._repo,i._path)),{removed:C,events:R}}(R,i,s,u);(function Hs(o){return 0===o.views.size})(R)&&(o.syncPointTree_=o.syncPointTree_.remove(C));const ee=z.removed;if(B=z.events,!m){const Ae=-1!==ee.findIndex(qe=>qe._queryParams.loadsAllData()),Ne=o.syncPointTree_.findOnPath(C,(qe,At)=>Ps(At));if(Ae&&!Ne){const qe=o.syncPointTree_.subtree(C);if(!qe.isEmpty()){const At=function oi(o){return o.fold((i,s,u)=>{if(s&&Ps(s))return[Oi(s)];{let m=[];return s&&(m=ba(s)),kn(u,(C,R)=>{m=m.concat(R)}),m}})}(qe);for(let Yt=0;Yt<At.length;++Yt){const Xn=At[Yt],li=Xn.query,Zs=Tt(o,Xn);o.listenProvider_.startListening(po(li),Lt(o,li),Zs.hashFn,Zs.onComplete)}}}!Ne&&ee.length>0&&!u&&(Ae?o.listenProvider_.stopListening(po(i),null):ee.forEach(qe=>{const At=o.queryToTagMap.get(zt(qe));o.listenProvider_.stopListening(po(qe),At)}))}!function ja(o,i){for(let s=0;s<i.length;++s){const u=i[s];if(!u._queryParams.loadsAllData()){const m=zt(u),C=o.queryToTagMap.get(m);o.queryToTagMap.delete(m),o.tagToQueryMap.delete(C)}}}(o,ee)}return B}function vn(o,i,s,u){const m=Cn(o,u);if(null!=m){const C=sn(m),R=C.path,B=C.queryId,z=nr(R,i);return si(o,R,new Gi(Vs(B),z,s))}return[]}function A(o,i,s,u=!1){const m=i._path;let C=null,R=!1;o.syncPointTree_.foreachOnPath(m,(qe,At)=>{const Yt=nr(qe,m);C=C||Pi(At,Yt),R=R||Ps(At)});let z,B=o.syncPointTree_.get(m);B?(R=R||Ps(B),C=C||Pi(B,dn())):(B=new Yi,o.syncPointTree_=o.syncPointTree_.set(m,B)),null!=C?z=!0:(z=!1,C=Kt.EMPTY_NODE,o.syncPointTree_.subtree(m).foreachChild((At,Yt)=>{const Xn=Pi(Yt,dn());Xn&&(C=C.updateImmediateChild(At,Xn))}));const ee=Jr(B,i);if(!ee&&!i._queryParams.loadsAllData()){const qe=zt(i);(0,N.hu)(!o.queryToTagMap.has(qe),"View does not exist, but we have a tag");const At=function sa(){return _++}();o.queryToTagMap.set(qe,At),o.tagToQueryMap.set(At,qe)}let Ne=function Ws(o,i,s,u,m,C){const R=Ms(o,i,u,m,C);return o.views.has(i._queryIdentifier)||o.views.set(i._queryIdentifier,R),function Va(o,i){o.eventRegistrations_.push(i)}(R,s),function xl(o,i){const s=o.viewCache_.eventCache,u=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Nn,(C,R)=>{u.push(Hi(C,R))}),s.isFullyInitialized()&&u.push(Fo(s.getNode())),Er(o,u,s.getNode(),i)}(R,s)}(B,i,s,Si(o.pendingWriteTree_,m),C,z);if(!ee&&!R&&!u){const qe=kl(B,i);Ne=Ne.concat(function Ni(o,i,s){const u=i._path,m=Lt(o,i),C=Tt(o,s),R=o.listenProvider_.startListening(po(i),m,C.hashFn,C.onComplete),B=o.syncPointTree_.subtree(u);if(m)(0,N.hu)(!Ps(B.value),"If we're adding a query, it shouldn't be shadowed");else{const z=B.fold((ee,Ae,Ne)=>{if(!Gt(ee)&&Ae&&Ps(Ae))return[Oi(Ae).query];{let qe=[];return Ae&&(qe=qe.concat(ba(Ae).map(At=>At.query))),kn(Ne,(At,Yt)=>{qe=qe.concat(Yt)}),qe}});for(let ee=0;ee<z.length;++ee){const Ae=z[ee];o.listenProvider_.stopListening(po(Ae),Lt(o,Ae))}}return R}(o,i,qe))}return Ne}function L(o,i,s){const m=o.pendingWriteTree_,C=o.syncPointTree_.findOnPath(i,(R,B)=>{const ee=Pi(B,nr(R,i));if(ee)return ee});return ws(m,i,C,s,!0)}function le(o,i){return we(i,o.syncPointTree_,null,Si(o.pendingWriteTree_,dn()))}function we(o,i,s,u){if(Gt(o.path))return Xe(o,i,s,u);{const m=i.get(dn());null==s&&null!=m&&(s=Pi(m,dn()));let C=[];const R=Ht(o.path),B=o.operationForChild(R),z=i.children.get(R);if(z&&B){const ee=s?s.getImmediateChild(R):null,Ae=va(u,R);C=C.concat(we(B,z,ee,Ae))}return m&&(C=C.concat(fo(m,o,u,s))),C}}function Xe(o,i,s,u){const m=i.get(dn());null==s&&null!=m&&(s=Pi(m,dn()));let C=[];return i.children.inorderTraversal((R,B)=>{const z=s?s.getImmediateChild(R):null,ee=va(u,R),Ae=o.operationForChild(R);Ae&&(C=C.concat(Xe(Ae,B,z,ee)))}),m&&(C=C.concat(fo(m,o,u,s))),C}function Tt(o,i){const s=i.query,u=Lt(o,s);return{hashFn:()=>(function Ba(o){return o.viewCache_.serverCache.getNode()}(i)||Kt.EMPTY_NODE).hash(),onComplete:m=>{if("ok"===m)return u?function yt(o,i,s){const u=Cn(o,s);if(u){const m=sn(u),C=m.path,R=m.queryId,B=nr(C,i);return si(o,C,new Ti(Vs(R),B))}return[]}(o,s._path,u):function Le(o,i){return le(o,new Ti({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(o,s._path);{const C=function gr(o,i){let s="Unknown Error";"too_big"===o?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?s="Client doesn't have permission to access the desired data.":"unavailable"===o&&(s="The service is unavailable");const u=new Error(o+" at "+i._path.toString()+": "+s);return u.code=o.toUpperCase(),u}(m,s);return It(o,s,null,C)}}}}function Lt(o,i){const s=zt(i);return o.queryToTagMap.get(s)}function zt(o){return o._path.toString()+"$"+o._queryIdentifier}function Cn(o,i){return o.tagToQueryMap.get(i)}function sn(o){const i=o.indexOf("$");return(0,N.hu)(-1!==i&&i<o.length-1,"Bad queryKey."),{queryId:o.substr(i+1),path:new mn(o.substr(0,i))}}function si(o,i,s){const u=o.syncPointTree_.get(i);return(0,N.hu)(u,"Missing sync point for query tag that we're tracking"),fo(u,s,Si(o.pendingWriteTree_,i),null)}function po(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new(function g(){return(0,N.hu)(Go,"Reference.ts has not been loaded"),Go}())(o._repo,o._path):o}class ss{constructor(i){this.node_=i}getImmediateChild(i){const s=this.node_.getImmediateChild(i);return new ss(s)}node(){return this.node_}}class oa{constructor(i,s){this.syncTree_=i,this.path_=s}getImmediateChild(i){const s=Rn(this.path_,i);return new oa(this.syncTree_,s)}node(){return L(this.syncTree_,this.path_)}}const Pu=function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o},wc=function(o,i,s){return o&&"object"==typeof o?((0,N.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?Ou(o[".sv"],i,s):"object"==typeof o[".sv"]?Nu(o[".sv"],i):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},Ou=function(o,i,s){if("timestamp"===o)return s.timestamp;(0,N.hu)(!1,"Unexpected server value: "+o)},Nu=function(o,i,s){o.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const u=o.increment;"number"!=typeof u&&(0,N.hu)(!1,"Unexpected increment value: "+u);const m=i.node();if((0,N.hu)(null!==m&&typeof m<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!m.isLeafNode())return u;const R=m.getValue();return"number"!=typeof R?u:R+u},xu=function(o,i,s,u){return Ha(i,new oa(s,o),u)},eu=function(o,i,s){return Ha(o,new ss(i),s)};function Ha(o,i,s){const u=o.getPriority().val(),m=wc(u,i.getImmediateChild(".priority"),s);let C;if(o.isLeafNode()){const R=o,B=wc(R.getValue(),i,s);return B!==R.getValue()||m!==R.getPriority().val()?new Ur(B,kt(m)):o}{const R=o;return C=R,m!==R.getPriority().val()&&(C=C.updatePriority(new Ur(m))),R.forEachChild(Nn,(B,z)=>{const ee=Ha(z,i.getImmediateChild(B),s);ee!==z&&(C=C.updateImmediateChild(B,ee))}),C}}class ku{constructor(i="",s=null,u={children:{},childCount:0}){this.name=i,this.parent=s,this.node=u}}function Wa(o,i){let s=i instanceof mn?i:new mn(i),u=o,m=Ht(s);for(;null!==m;){const C=(0,N.DV)(u.node.children,m)||{children:{},childCount:0};u=new ku(m,u,C),s=Zn(s),m=Ht(s)}return u}function Ko(o){return o.node.value}function Lu(o,i){o.node.value=i,Ta(o)}function bc(o){return o.node.childCount>0}function tu(o,i){kn(o.node.children,(s,u)=>{i(new ku(s,o,u))})}function Tc(o,i,s,u){s&&!u&&i(o),tu(o,m=>{Tc(m,i,!0,u)}),s&&u&&i(o)}function za(o){return new mn(null===o.parent?o.name:za(o.parent)+"/"+o.name)}function Ta(o){null!==o.parent&&function Fu(o,i,s){const u=function ld(o){return void 0===Ko(o)&&!bc(o)}(s),m=(0,N.r3)(o.node.children,i);u&&m?(delete o.node.children[i],o.node.childCount--,Ta(o)):!u&&!m&&(o.node.children[i]=s.node,o.node.childCount++,Ta(o))}(o.parent,o.name,o)}const Uu=/[\[\].#$\/\u0000-\u001F\u007F]/,Bu=/[\[\].#$\u0000-\u001F\u007F]/,zs=10485760,Ll=function(o){return"string"==typeof o&&0!==o.length&&!Uu.test(o)},nu=function(o){return"string"==typeof o&&0!==o.length&&!Bu.test(o)},Ga=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!pt(o)||o&&"object"==typeof o&&(0,N.r3)(o,".sv")},Gs=function(o,i,s,u){u&&void 0===i||fl((0,N.gK)(o,"value"),i,s)},fl=function(o,i,s){const u=s instanceof mn?new ks(s,o):s;if(void 0===i)throw new Error(o+"contains undefined "+gs(u));if("function"==typeof i)throw new Error(o+"contains a function "+gs(u)+" with contents = "+i.toString());if(pt(i))throw new Error(o+"contains "+i.toString()+" "+gs(u));if("string"==typeof i&&i.length>zs/3&&(0,N.ug)(i)>zs)throw new Error(o+"contains a string greater than "+zs+" utf8 bytes "+gs(u)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let m=!1,C=!1;if(kn(i,(R,B)=>{if(".value"===R)m=!0;else if(".priority"!==R&&".sv"!==R&&(C=!0,!Ll(R)))throw new Error(o+" contains an invalid key ("+R+") "+gs(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function fs(o,i){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(i),o.byteLength_+=(0,N.ug)(i),jr(o)})(u,R),fl(o,B,u),function ps(o){const i=o.parts_.pop();o.byteLength_-=(0,N.ug)(i),o.parts_.length>0&&(o.byteLength_-=1)}(u)}),m&&C)throw new Error(o+' contains ".value" child '+gs(u)+" in addition to actual children.")}},Vu=function(o,i,s,u){if(u&&void 0===i)return;const m=(0,N.gK)(o,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(m+" must be an object containing the children to replace.");const C=[];kn(i,(R,B)=>{const z=new mn(R);if(fl(m,B,Rn(s,z)),".priority"===yo(z)&&!Ga(B))throw new Error(m+"contains an invalid value for '"+z.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");C.push(z)}),function(o,i){let s,u;for(s=0;s<i.length;s++){u=i[s];const C=hs(u);for(let R=0;R<C.length;R++)if((".priority"!==C[R]||R!==C.length-1)&&!Ll(C[R]))throw new Error(o+"contains an invalid key ("+C[R]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(vo);let m=null;for(s=0;s<i.length;s++){if(u=i[s],null!==m&&ri(m,u))throw new Error(o+"contains a path "+m.toString()+" that is ancestor of another path "+u.toString());m=u}}(m,C)},Ka=function(o,i,s){if(!s||void 0!==i){if(pt(i))throw new Error((0,N.gK)(o,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ga(i))throw new Error((0,N.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pl=function(o,i,s,u){if(!(u&&void 0===s||Ll(s)))throw new Error((0,N.gK)(o,i)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Za=function(o,i,s,u){if(!(u&&void 0===s||nu(s)))throw new Error((0,N.gK)(o,i)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},os=function(o,i,s,u){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Za(o,i,s,u)},xi=function(o,i){if(".info"===Ht(i))throw new Error(o+" failed = Can't modify data under /.info/")},iu=function(o,i){const s=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Ll(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==s.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),nu(o)}(s))throw new Error((0,N.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Fl{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zr(o,i){let s=null;for(let u=0;u<i.length;u++){const m=i[u],C=m.getPath();null!==s&&!Eo(C,s.path)&&(o.eventLists_.push(s),s=null),null===s&&(s={events:[],path:C}),s.events.push(m)}s&&o.eventLists_.push(s)}function Ya(o,i,s){zr(o,s),su(o,u=>Eo(u,i))}function as(o,i,s){zr(o,s),su(o,u=>ri(u,i)||ri(i,u))}function su(o,i){o.recursionDepth_++;let s=!0;for(let u=0;u<o.eventLists_.length;u++){const m=o.eventLists_[u];m&&(i(m.path)?(Rc(o.eventLists_[u]),o.eventLists_[u]=null):s=!1)}s&&(o.eventLists_=[]),o.recursionDepth_--}function Rc(o){for(let i=0;i<o.events.length;i++){const s=o.events[i];if(null!==s){o.events[i]=null;const u=s.getEventRunner();pn&&vt("event: "+s.toString()),Ft(u)}}}const ou="repo_interrupt",$u=25;class ju{constructor(i,s,u,m){this.repoInfo_=i,this.forceRestClient_=s,this.authTokenProvider_=u,this.appCheckProvider_=m,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=so(),this.transactionQueueTree_=new ku,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Zo(o){const s=o.infoData_.getNode(new mn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function gl(o){return Pu({timestamp:Zo(o)})}function Hu(o,i,s,u,m){o.dataUpdateCount++;const C=new mn(i);s=o.interceptServerDataCallback_?o.interceptServerDataCallback_(i,s):s;let R=[];if(m)if(u){const z=(0,N.UI)(s,ee=>kt(ee));R=function b(o,i,s,u){const m=Cn(o,u);if(m){const C=sn(m),R=C.path,B=C.queryId,z=nr(R,i),ee=ht.fromObject(s);return si(o,R,new pr(Vs(B),z,ee))}return[]}(o.serverSyncTree_,C,z,m)}else{const z=kt(s);R=vn(o.serverSyncTree_,C,z,m)}else if(u){const z=(0,N.UI)(s,ee=>kt(ee));R=function de(o,i,s){const u=ht.fromObject(s);return le(o,new pr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,u))}(o.serverSyncTree_,C,z)}else{const z=kt(s);R=j(o.serverSyncTree_,C,z)}let B=C;R.length>0&&(B=Po(o,C)),as(o.eventQueue_,B,R)}function qa(o,i){ml(o,"connected",i),!1===i&&function uu(o){Qa(o,"onDisconnectEvents");const i=gl(o),s=so();Uo(o.onDisconnect_,dn(),(m,C)=>{const R=xu(m,C,o.serverSyncTree_,i);Wi(s,m,R)});let u=[];Uo(s,dn(),(m,C)=>{u=u.concat(j(o.serverSyncTree_,m,C));const R=Yo(o,m);Po(o,R)}),o.onDisconnect_=so(),as(o.eventQueue_,dn(),u)}(o)}function ml(o,i,s){const u=new mn("/.info/"+i),m=kt(s);o.infoData_.updateSnapshot(u,m);const C=j(o.infoSyncTree_,u,m);as(o.eventQueue_,u,C)}function aa(o){return o.nextWriteId_++}function _l(o,i,s,u,m){Qa(o,"set",{path:i.toString(),value:s,priority:u});const C=gl(o),R=kt(s,u),B=L(o.serverSyncTree_,i),z=eu(R,B,C),ee=aa(o),Ae=I(o.serverSyncTree_,i,z,ee,!0);zr(o.eventQueue_,Ae),o.server_.put(i.toString(),R.val(!0),(qe,At)=>{const Yt="ok"===qe;Yt||Mt("set at "+i+" failed: "+qe);const Xn=k(o.serverSyncTree_,ee,!Yt);as(o.eventQueue_,i,Xn),la(0,m,qe,At)});const Ne=Yo(o,i);Po(o,Ne),as(o.eventQueue_,Ne,[])}function Ul(o,i,s){o.server_.onDisconnectCancel(i.toString(),(u,m)=>{"ok"===u&&zi(o.onDisconnect_,i),la(0,s,u,m)})}function Sa(o,i,s,u){const m=kt(s);o.server_.onDisconnectPut(i.toString(),m.val(!0),(C,R)=>{"ok"===C&&Wi(o.onDisconnect_,i,m),la(0,u,C,R)})}function yl(o,i,s){let u;u=".info"===Ht(i._path)?It(o.infoSyncTree_,i,s):It(o.serverSyncTree_,i,s),Ya(o.eventQueue_,i._path,u)}function du(o){o.persistentConnection_&&o.persistentConnection_.interrupt(ou)}function Qa(o,...i){let s="";o.persistentConnection_&&(s=o.persistentConnection_.id+":"),vt(s,...i)}function la(o,i,s,u){i&&Ft(()=>{if("ok"===s)i(null);else{const m=(s||"error").toUpperCase();let C=m;u&&(C+=": "+u);const R=new Error(C);R.code=m,i(R)}})}function vl(o,i,s){return L(o.serverSyncTree_,i,s)||Kt.EMPTY_NODE}function El(o,i=o.transactionQueueTree_){if(i||Il(o,i),Ko(i)){const s=Gu(o,i);(0,N.hu)(s.length>0,"Sending zero length transaction queue"),s.every(m=>0===m.status)&&function pu(o,i,s){const u=s.map(ee=>ee.currentWriteId),m=vl(o,i,u);let C=m;const R=m.hash();for(let ee=0;ee<s.length;ee++){const Ae=s[ee];(0,N.hu)(0===Ae.status,"tryToSendTransactionQueue_: items in queue should all be run."),Ae.status=1,Ae.retryCount++;const Ne=nr(i,Ae.path);C=C.updateChild(Ne,Ae.currentOutputSnapshotRaw)}const B=C.val(!0),z=i;o.server_.put(z.toString(),B,ee=>{Qa(o,"transaction put response",{path:z.toString(),status:ee});let Ae=[];if("ok"===ee){const Ne=[];for(let qe=0;qe<s.length;qe++)s[qe].status=2,Ae=Ae.concat(k(o.serverSyncTree_,s[qe].currentWriteId)),s[qe].onComplete&&Ne.push(()=>s[qe].onComplete(null,!0,s[qe].currentOutputSnapshotResolved)),s[qe].unwatcher();Il(o,Wa(o.transactionQueueTree_,i)),El(o,o.transactionQueueTree_),as(o.eventQueue_,i,Ae);for(let qe=0;qe<Ne.length;qe++)Ft(Ne[qe])}else{if("datastale"===ee)for(let Ne=0;Ne<s.length;Ne++)s[Ne].status=3===s[Ne].status?4:0;else{Mt("transaction at "+z.toString()+" failed: "+ee);for(let Ne=0;Ne<s.length;Ne++)s[Ne].status=4,s[Ne].abortReason=ee}Po(o,i)}},R)}(o,za(i),s)}else bc(i)&&tu(i,s=>{El(o,s)})}function Po(o,i){const s=zu(o,i),u=za(s);return function gu(o,i,s){if(0===i.length)return;const u=[];let m=[];const R=i.filter(B=>0===B.status).map(B=>B.currentWriteId);for(let B=0;B<i.length;B++){const z=i[B],ee=nr(s,z.path);let Ne,Ae=!1;if((0,N.hu)(null!==ee,"rerunTransactionsUnderNode_: relativePath should not be null."),4===z.status)Ae=!0,Ne=z.abortReason,m=m.concat(k(o.serverSyncTree_,z.currentWriteId,!0));else if(0===z.status)if(z.retryCount>=$u)Ae=!0,Ne="maxretry",m=m.concat(k(o.serverSyncTree_,z.currentWriteId,!0));else{const qe=vl(o,z.path,R);z.currentInputSnapshot=qe;const At=i[B].update(qe.val());if(void 0!==At){fl("transaction failed: Data returned ",At,z.path);let Yt=kt(At);"object"==typeof At&&null!=At&&(0,N.r3)(At,".priority")||(Yt=Yt.updatePriority(qe.getPriority()));const li=z.currentWriteId,Zs=gl(o),Ma=eu(Yt,qe,Zs);z.currentOutputSnapshotRaw=Yt,z.currentOutputSnapshotResolved=Ma,z.currentWriteId=aa(o),R.splice(R.indexOf(li),1),m=m.concat(I(o.serverSyncTree_,z.path,Ma,z.currentWriteId,z.applyLocally)),m=m.concat(k(o.serverSyncTree_,li,!0))}else Ae=!0,Ne="nodata",m=m.concat(k(o.serverSyncTree_,z.currentWriteId,!0))}as(o.eventQueue_,s,m),m=[],Ae&&(i[B].status=2,setTimeout(i[B].unwatcher,Math.floor(0)),i[B].onComplete&&u.push("nodata"===Ne?()=>i[B].onComplete(null,!1,i[B].currentInputSnapshot):()=>i[B].onComplete(new Error(Ne),!1,null)))}Il(o,o.transactionQueueTree_);for(let B=0;B<u.length;B++)Ft(u[B]);El(o,o.transactionQueueTree_)}(o,Gu(o,s),u),u}function zu(o,i){let s,u=o.transactionQueueTree_;for(s=Ht(i);null!==s&&void 0===Ko(u);)u=Wa(u,s),s=Ht(i=Zn(i));return u}function Gu(o,i){const s=[];return Bl(o,i,s),s.sort((u,m)=>u.order-m.order),s}function Bl(o,i,s){const u=Ko(i);if(u)for(let m=0;m<u.length;m++)s.push(u[m]);tu(i,m=>{Bl(o,m,s)})}function Il(o,i){const s=Ko(i);if(s){let u=0;for(let m=0;m<s.length;m++)2!==s[m].status&&(s[u]=s[m],u++);s.length=u,Lu(i,s.length>0?s:void 0)}tu(i,u=>{Il(o,u)})}function Yo(o,i){const s=za(zu(o,i)),u=Wa(o.transactionQueueTree_,i);return function Sc(o,i,s){let u=s?o:o.parent;for(;null!==u;){if(i(u))return!0;u=u.parent}}(u,m=>{Vl(o,m)}),Vl(o,u),Tc(u,m=>{Vl(o,m)}),s}function Vl(o,i){const s=Ko(i);if(s){const u=[];let m=[],C=-1;for(let R=0;R<s.length;R++)3===s[R].status||(1===s[R].status?((0,N.hu)(C===R-1,"All SENT items should be at beginning of queue."),C=R,s[R].status=3,s[R].abortReason="set"):((0,N.hu)(0===s[R].status,"Unexpected transaction status in abort"),s[R].unwatcher(),m=m.concat(k(o.serverSyncTree_,s[R].currentWriteId,!0)),s[R].onComplete&&u.push(s[R].onComplete.bind(null,new Error("set"),!1,null))));-1===C?Lu(i,void 0):s.length=C+1,as(o.eventQueue_,za(i),m);for(let R=0;R<u.length;R++)Ft(u[R])}}const Zu=function(o,i){const s=Cl(o),u=s.namespace;return"firebase.com"===s.domain&&bn(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==s.domain&&bn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new W(s.host,s.secure,u,"ws"===s.scheme||"wss"===s.scheme,i,"",u!==s.subdomain),path:new mn(s.pathString)}},Cl=function(o){let i="",s="",u="",m="",C="",R=!0,B="https",z=443;if("string"==typeof o){let ee=o.indexOf("//");ee>=0&&(B=o.substring(0,ee-1),o=o.substring(ee+2));let Ae=o.indexOf("/");-1===Ae&&(Ae=o.length);let Ne=o.indexOf("?");-1===Ne&&(Ne=o.length),i=o.substring(0,Math.min(Ae,Ne)),Ae<Ne&&(m=function Ku(o){let i="";const s=o.split("/");for(let u=0;u<s.length;u++)if(s[u].length>0){let m=s[u];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch{}i+="/"+m}return i}(o.substring(Ae,Ne)));const qe=function Dl(o){const i={};"?"===o.charAt(0)&&(o=o.substring(1));for(const s of o.split("&")){if(0===s.length)continue;const u=s.split("=");2===u.length?i[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Mt(`Invalid query segment '${s}' in query '${o}'`)}return i}(o.substring(Math.min(o.length,Ne)));ee=i.indexOf(":"),ee>=0?(R="https"===B||"wss"===B,z=parseInt(i.substring(ee+1),10)):ee=i.length;const At=i.slice(0,ee);if("localhost"===At.toLowerCase())s="localhost";else if(At.split(".").length<=2)s=At;else{const Yt=i.indexOf(".");u=i.substring(0,Yt).toLowerCase(),s=i.substring(Yt+1),C=u}"ns"in qe&&(C=qe.ns)}return{host:i,port:z,domain:s,subdomain:u,secure:R,scheme:B,pathString:m,namespace:C}},Yu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qu=function(){let o=0;const i=[];return function(s){const u=s===o;let m;o=s;const C=new Array(8);for(m=7;m>=0;m--)C[m]=Yu.charAt(s%64),s=Math.floor(s/64);(0,N.hu)(0===s,"Cannot push at time == 0");let R=C.join("");if(u){for(m=11;m>=0&&63===i[m];m--)i[m]=0;i[m]++}else for(m=0;m<12;m++)i[m]=Math.floor(64*Math.random());for(m=0;m<12;m++)R+=Yu.charAt(i[m]);return(0,N.hu)(20===R.length,"nextPushId: Length should be 20."),R}}();class mu{constructor(i,s,u,m){this.eventType=i,this.eventRegistration=s,this.snapshot=u,this.prevName=m}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Wl)(this.snapshot.exportVal())}}class _u{constructor(i,s,u){this.eventRegistration=i,this.error=s,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ja{constructor(i,s){this.snapshotCallback=i,this.cancelCallback=s}onValue(i,s){this.snapshotCallback.call(null,i,s)}onCancel(i){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class wl{constructor(i,s){this._repo=i,this._path=s}cancel(){const i=new N.BH;return Ul(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){xi("OnDisconnect.remove",this._path);const i=new N.BH;return Sa(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){xi("OnDisconnect.set",this._path),Gs("OnDisconnect.set",i,this._path,!1);const s=new N.BH;return Sa(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}setWithPriority(i,s){xi("OnDisconnect.setWithPriority",this._path),Gs("OnDisconnect.setWithPriority",i,this._path,!1),Ka("OnDisconnect.setWithPriority",s,!1);const u=new N.BH;return function cu(o,i,s,u,m){const C=kt(s,u);o.server_.onDisconnectPut(i.toString(),C.val(!0),(R,B)=>{"ok"===R&&Wi(o.onDisconnect_,i,C),la(0,m,R,B)})}(this._repo,this._path,i,s,u.wrapCallback(()=>{})),u.promise}update(i){xi("OnDisconnect.update",this._path),Vu("OnDisconnect.update",i,this._path,!1);const s=new N.BH;return function Wu(o,i,s,u){if((0,N.xb)(s))return vt("onDisconnect().update() called with empty data.  Don't do anything."),void la(0,u,"ok",void 0);o.server_.onDisconnectMerge(i.toString(),s,(m,C)=>{"ok"===m&&kn(s,(R,B)=>{const z=kt(B);Wi(o.onDisconnect_,Rn(i,R),z)}),la(0,u,m,C)})}(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}}class Xr{constructor(i,s,u,m){this._repo=i,this._path=s,this._queryParams=u,this._orderByCalled=m}get key(){return Gt(this._path)?null:yo(this._path)}get ref(){return new ls(this._repo,this._path)}get _queryIdentifier(){const i=Ds(this._queryParams),s=Rt(i);return"{}"===s?"default":s}get _queryObject(){return Ds(this._queryParams)}isEqual(i){if(!((i=(0,N.m9)(i))instanceof Xr))return!1;const s=this._repo===i._repo,u=Eo(this._path,i._path);return s&&u&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Qs(o){let i="";for(let s=o.pieceNum_;s<o.pieces_.length;s++)""!==o.pieces_[s]&&(i+="/"+encodeURIComponent(String(o.pieces_[s])));return i||"/"}(this._path)}}function ua(o,i){if(!0===o._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function qo(o){let i=null,s=null;if(o.hasStart()&&(i=o.getIndexStartValue()),o.hasEnd()&&(s=o.getIndexEndValue()),o.getIndex()===Lr){const u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",m="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==cr)throw new Error(u);if("string"!=typeof i)throw new Error(m)}if(o.hasEnd()){if(o.getIndexEndName()!==En)throw new Error(u);if("string"!=typeof s)throw new Error(m)}}else if(o.getIndex()===Nn){if(null!=i&&!Ga(i)||null!=s&&!Ga(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(o.getIndex()instanceof Hn||o.getIndex()===yr,"unknown index type."),null!=i&&"object"==typeof i||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ca(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ls extends Xr{constructor(i,s){super(i,s,new Yn,!1)}get parent(){const i=Js(this._path);return null===i?null:new ls(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Vr{constructor(i,s,u){this._node=i,this.ref=s,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const s=new mn(i),u=da(this.ref,i);return new Vr(this._node.getChild(s),u,Nn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(u,m)=>i(new Vr(m,da(this.ref,u),Nn)))}hasChild(i){const s=new mn(i);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Oo(o,i){return(o=(0,N.m9)(o))._checkNotDeleted("ref"),void 0!==i?da(o._root,i):o._root}function yu(o,i){(o=(0,N.m9)(o))._checkNotDeleted("refFromURL");const s=Zu(i,o._repo.repoInfo_.nodeAdmin);iu("refFromURL",s);const u=s.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&u.host!==o._repo.repoInfo_.host&&bn("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+o._repo.repoInfo_.host+")"),Oo(o,s.path.toString())}function da(o,i){return null===Ht((o=(0,N.m9)(o))._path)?os("child","path",i,!1):Za("child","path",i,!1),new ls(o._repo,Rn(o._path,i))}function bl(o,i){o=(0,N.m9)(o),xi("set",o._path),Gs("set",i,o._path,!1);const s=new N.BH;return _l(o._repo,o._path,i,null,s.wrapCallback(()=>{})),s.promise}function $l(o,i){Vu("update",i,o._path,!1);const s=new N.BH;return function lu(o,i,s,u){Qa(o,"update",{path:i.toString(),value:s});let m=!0;const C=gl(o),R={};if(kn(s,(B,z)=>{m=!1,R[B]=xu(Rn(i,B),kt(z),o.serverSyncTree_,C)}),m)vt("update() called with empty data.  Don't do anything."),la(0,u,"ok",void 0);else{const B=aa(o),z=function S(o,i,s,u){!function Ai(o,i,s,u){(0,N.hu)(u>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:i,children:s,writeId:u,visible:!0}),o.visibleWrites=xn(o.visibleWrites,i,s),o.lastWriteId=u}(o.pendingWriteTree_,i,s,u);const m=ht.fromObject(s);return le(o,new pr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,m))}(o.serverSyncTree_,i,R,B);zr(o.eventQueue_,z),o.server_.merge(i.toString(),s,(ee,Ae)=>{const Ne="ok"===ee;Ne||Mt("update at "+i+" failed: "+ee);const qe=k(o.serverSyncTree_,B,!Ne),At=qe.length>0?Po(o,i):i;as(o.eventQueue_,At,qe),la(0,u,ee,Ae)}),kn(s,ee=>{const Ae=Yo(o,Rn(i,ee));Po(o,Ae)}),as(o.eventQueue_,i,[])}}(o._repo,o._path,i,s.wrapCallback(()=>{})),s.promise}function Xa(o){o=(0,N.m9)(o);const i=new Ja(()=>{}),s=new Tl(i);return function Mc(o,i,s){const u=function K(o,i){const s=i._path;let u=null;o.syncPointTree_.foreachOnPath(s,(ee,Ae)=>{const Ne=nr(ee,s);u=u||Pi(Ae,Ne)});let m=o.syncPointTree_.get(s);m?u=u||Pi(m,dn()):(m=new Yi,o.syncPointTree_=o.syncPointTree_.set(s,m));const C=null!=u,R=C?new ts(u,!0,!1):null;return function hl(o){return U(o.viewCache_)}(Ms(m,i,Si(o.pendingWriteTree_,i._path),C?R.getNode():Kt.EMPTY_NODE,C))}(o.serverSyncTree_,i);return null!=u?Promise.resolve(u):o.server_.get(i).then(m=>{const C=kt(m).withIndex(i._queryParams.getIndex());let R;if(A(o.serverSyncTree_,i,s,!0),i._queryParams.loadsAllData())R=j(o.serverSyncTree_,i._path,C);else{const B=Lt(o.serverSyncTree_,i);R=vn(o.serverSyncTree_,i._path,C,B)}return as(o.eventQueue_,i._path,R),It(o.serverSyncTree_,i,s,null,!0),C},m=>(Qa(o,"get for query "+(0,N.Wl)(i)+" failed: "+m),Promise.reject(new Error(m))))}(o._repo,o,s).then(u=>new Vr(u,new ls(o._repo,o._path),o._queryParams.getIndex()))}class Tl{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,s){const u=s._queryParams.getIndex();return new mu("value",this,new Vr(i.snapshotNode,new ls(s._repo,s._path),u))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new _u(this,i,s):null}matches(i){return i instanceof Tl&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class jl{constructor(i,s){this.eventType=i,this.callbackContext=s}respondsTo(i){let s="children_added"===i?"child_added":i;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new _u(this,i,s):null}createEvent(i,s){(0,N.hu)(null!=i.childName,"Child events should have a childName.");const u=da(new ls(s._repo,s._path),i.childName),m=s._queryParams.getIndex();return new mu(i.type,this,new Vr(i.snapshotNode,u,m),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof jl&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Sl(o,i,s,u,m){let C;if("object"==typeof u&&(C=void 0,m=u),"function"==typeof u&&(C=u),m&&m.onlyOnce){const z=s,ee=(Ae,Ne)=>{yl(o._repo,o,B),z(Ae,Ne)};ee.userCallback=s.userCallback,ee.context=s.context,s=ee}const R=new Ja(s,C||void 0),B="value"===i?new Tl(R):new jl(i,R);return function Pc(o,i,s){let u;u=".info"===Ht(i._path)?A(o.infoSyncTree_,i,s):A(o.serverSyncTree_,i,s),Ya(o.eventQueue_,i._path,u)}(o._repo,o,B),()=>yl(o._repo,o,B)}function ki(o,i,s,u){return Sl(o,"value",i,s,u)}function el(o,i,s,u){return Sl(o,"child_added",i,s,u)}function Hl(o,i,s,u){return Sl(o,"child_changed",i,s,u)}function Eu(o,i,s,u){return Sl(o,"child_moved",i,s,u)}function Os(o,i,s,u){return Sl(o,"child_removed",i,s,u)}function ha(o,i,s){let u=null;const m=s?new Ja(s):null;"value"===i?u=new Tl(m):i&&(u=new jl(i,m)),yl(o._repo,o,u)}class Ns{}class Wl extends Ns{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Gs("endAt",this._value,i._path,!0);const s=no(i._queryParams,this._value,this._key);if(ca(s),qo(s),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xr(i._repo,i._path,s,i._orderByCalled)}}class zl extends Ns{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Gs("endBefore",this._value,i._path,!1);const s=function ea(o,i,s){let u;return u=no(o,i,o.index_===Lr||s?s:cr),u.endBeforeSet_=!0,u}(i._queryParams,this._value,this._key);if(ca(s),qo(s),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xr(i._repo,i._path,s,i._orderByCalled)}}class ec extends Ns{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Gs("startAt",this._value,i._path,!0);const s=Nr(i._queryParams,this._value,this._key);if(ca(s),qo(s),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Xr(i._repo,i._path,s,i._orderByCalled)}}class kc extends Ns{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){Gs("startAfter",this._value,i._path,!1);const s=function Xo(o,i,s){let u;return u=Nr(o,i,o.index_===Lr||s?s:En),u.startAfterSet_=!0,u}(i._queryParams,this._value,this._key);if(ca(s),qo(s),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Xr(i._repo,i._path,s,i._orderByCalled)}}class l extends Ns{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xr(i._repo,i._path,function to(o,i){const s=o.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="l",s}(i._queryParams,this._limit),i._orderByCalled)}}class y extends Ns{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xr(i._repo,i._path,function bi(o,i){const s=o.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="r",s}(i._queryParams,this._limit),i._orderByCalled)}}class $ extends Ns{constructor(i){super(),this._path=i}_apply(i){ua(i,"orderByChild");const s=new mn(this._path);if(Gt(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const u=new Hn(s),m=Is(i._queryParams,u);return qo(m),new Xr(i._repo,i._path,m,!0)}}class Oe extends Ns{_apply(i){ua(i,"orderByKey");const s=Is(i._queryParams,Lr);return qo(s),new Xr(i._repo,i._path,s,!0)}}class Pt extends Ns{_apply(i){ua(i,"orderByPriority");const s=Is(i._queryParams,Nn);return qo(s),new Xr(i._repo,i._path,s,!0)}}class qt extends Ns{_apply(i){ua(i,"orderByValue");const s=Is(i._queryParams,yr);return qo(s),new Xr(i._repo,i._path,s,!0)}}class mo extends Ns{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){if(Gs("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Wl(this._value,this._key)._apply(new ec(this._value,this._key)._apply(i))}}function Gr(o,...i){let s=(0,N.m9)(o);for(const u of i)s=u._apply(s);return s}(function $a(o){(0,N.hu)(!Rs,"__referenceConstructor has already been defined"),Rs=o})(ls),function Mo(o){(0,N.hu)(!Go,"__referenceConstructor has already been defined"),Go=o}(ls);const Aa="FIREBASE_DATABASE_EMULATOR_HOST",Al={};let Gl=!1;function tc(o,i,s,u,m){let C=u||o.options.databaseURL;void 0===C&&(o.options.projectId||bn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",o.options.projectId),C=`${o.options.projectId}-default-rtdb.firebaseio.com`);let z,ee,R=Zu(C,m),B=R.repoInfo;typeof process<"u"&&process.env&&(ee=process.env[Aa]),ee?(z=!0,C=`http://${ee}?ns=${B.namespace}`,R=Zu(C,m),B=R.repoInfo):z=!R.repoInfo.secure;const Ae=m&&z?new xt(xt.OWNER):new Ct(o.name,o.options,i);iu("Invalid Firebase Database URL",R),Gt(R.path)||bn("Database URL must point to the root of a Firebase Database (not including a child path).");const Ne=function nc(o,i,s,u){let m=Al[i.name];m||(m={},Al[i.name]=m);let C=m[o.toURLString()];return C&&bn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),C=new ju(o,Gl,s,u),m[o.toURLString()]=C,C}(B,o,Ae,new Ve(o.name,s));return new Iu(Ne,o)}class Iu{constructor(i,s){this._repoInternal=i,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ud(o,i,s){if(o.stats_=Kn(o.repoInfo_),o.forceRestClient_||Rr())o.server_=new io(o.repoInfo_,(u,m,C,R)=>{Hu(o,u,m,C,R)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>qa(o,!0),0);else{if(typeof s<"u"&&null!==s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Wl)(s)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}o.persistentConnection_=new xr(o.repoInfo_,i,(u,m,C,R)=>{Hu(o,u,m,C,R)},u=>{qa(o,u)},u=>{!function au(o,i){kn(i,(s,u)=>{ml(o,s,u)})}(o,u)},o.authTokenProvider_,o.appCheckProvider_,s),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(u=>{o.server_.refreshAuthToken(u)}),o.appCheckProvider_.addTokenChangeListener(u=>{o.server_.refreshAppCheckToken(u.token)}),o.statsReporter_=function us(o,i){const s=o.toString();return yn[s]||(yn[s]=i()),yn[s]}(o.repoInfo_,()=>new ul(o.stats_,o.server_)),o.infoData_=new _i,o.infoSyncTree_=new h({startListening:(u,m,C,R)=>{let B=[];const z=o.infoData_.getNode(u._path);return z.isEmpty()||(B=j(o.infoSyncTree_,u._path,z),setTimeout(()=>{R("ok")},0)),B},stopListening:()=>{}}),ml(o,"connected",!1),o.serverSyncTree_=new h({startListening:(u,m,C,R)=>(o.server_.listen(u,C,m,(B,z)=>{const ee=R(B,z);as(o.eventQueue_,u._path,ee)}),[]),stopListening:(u,m)=>{o.server_.unlisten(u,m)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ls(this._repo,dn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Lc(o,i){const s=Al[i];(!s||s[o.key]!==o)&&bn(`Database ${i}(${o.repoInfo_}) has already been deleted.`),du(o),delete s[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&bn("Cannot call "+i+" on a deleted database.")}}function Du(){hi.IS_TRANSPORT_INITIALIZED&&Mt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function cd(){Du(),Vn.forceDisallow()}function dd(){Du(),Qt.forceDisallow(),Vn.forceAllow()}function fd(o,i){er(o,i)}const th={".sv":"timestamp"};class ai{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}xr.prototype.simpleListen=function(o,i){this.sendRequest("q",{p:o},i)},xr.prototype.echo=function(o,i){this.sendRequest("echo",{d:o},i)},function rc(o){Ue(lt.SDK_VERSION),(0,lt._registerComponent)(new Ye.wA("database",(i,{instanceIdentifier:s})=>tc(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,lt.registerVersion)(Ie,"0.14.4",o),(0,lt.registerVersion)(Ie,"0.14.4","esm2017")}();const sh=new Te.Yd("@firebase/database-compat"),md=function(o){sh.warn("FIREBASE WARNING: "+o)};class Ff{constructor(i){this._delegate=i}cancel(i){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",i,!0);const s=this._delegate.cancel();return i&&s.then(()=>i(null),u=>i(u)),s}remove(i){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",i,!0);const s=this._delegate.remove();return i&&s.then(()=>i(null),u=>i(u)),s}set(i,s){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",s,!0);const u=this._delegate.set(i);return s&&u.then(()=>s(null),m=>s(m)),u}setWithPriority(i,s,u){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);const m=this._delegate.setWithPriority(i,s);return u&&m.then(()=>u(null),C=>u(C)),m}update(i,s){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const m={};for(let C=0;C<i.length;++C)m[""+C]=i[C];i=m,md("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",s,!0);const u=this._delegate.update(i);return s&&u.then(()=>s(null),m=>s(m)),u}}class Uf{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class No{constructor(i,s){this._database=i,this._delegate=s}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),Za("DataSnapshot.child","path",i,!1),new No(this._database,this._delegate.child(i))}hasChild(i){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Za("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(s=>i(new No(this._database,s)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ks(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class vi{constructor(i,s){this.database=i,this._delegate=s}on(i,s,u,m){var C;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",s,!1);const R=vi.getCancelAndContextArgs_("Query.on",u,m),B=(ee,Ae)=>{s.call(R.context,new No(this.database,ee),Ae)};B.userCallback=s,B.context=R.context;const z=null===(C=R.cancel)||void 0===C?void 0:C.bind(R.context);switch(i){case"value":return ki(this._delegate,B,z),s;case"child_added":return el(this._delegate,B,z),s;case"child_removed":return Os(this._delegate,B,z),s;case"child_changed":return Hl(this._delegate,B,z),s;case"child_moved":return Eu(this._delegate,B,z),s;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,s,u){if((0,N.Dv)("Query.off",0,3,arguments.length),function(o,i,s){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,N.Wj)("Query.off","callback",s,!0),(0,N.lb)("Query.off","context",u,!0),s){const m=()=>{};m.userCallback=s,m.context=u,ha(this._delegate,i,m)}else ha(this._delegate,i)}get(){return Xa(this._delegate).then(i=>new No(this.database,i))}once(i,s,u,m){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",s,!0);const C=vi.getCancelAndContextArgs_("Query.once",u,m),R=new N.BH,B=(ee,Ae)=>{const Ne=new No(this.database,ee);s&&s.call(C.context,Ne,Ae),R.resolve(Ne)};B.userCallback=s,B.context=C.context;const z=ee=>{C.cancel&&C.cancel.call(C.context,ee),R.reject(ee)};switch(i){case"value":ki(this._delegate,B,z,{onlyOnce:!0});break;case"child_added":el(this._delegate,B,z,{onlyOnce:!0});break;case"child_removed":Os(this._delegate,B,z,{onlyOnce:!0});break;case"child_changed":Hl(this._delegate,B,z,{onlyOnce:!0});break;case"child_moved":Eu(this._delegate,B,z,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return R.promise}limitToFirst(i){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new vi(this.database,Gr(this._delegate,function d(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new l(o)}(i)))}limitToLast(i){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new vi(this.database,Gr(this._delegate,function O(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new y(o)}(i)))}orderByChild(i){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new vi(this.database,Gr(this._delegate,function he(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Za("orderByChild","path",o,!1),new $(o)}(i)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new vi(this.database,Gr(this._delegate,function mt(){return new Oe}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new vi(this.database,Gr(this._delegate,function on(){return new Pt}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new vi(this.database,Gr(this._delegate,function ei(){return new qt}()))}startAt(i=null,s){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new vi(this.database,Gr(this._delegate,function xc(o=null,i){return pl("startAt","key",i,!0),new ec(o,i)}(i,s)))}startAfter(i=null,s){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new vi(this.database,Gr(this._delegate,function f(o,i){return pl("startAfter","key",i,!0),new kc(o,i)}(i,s)))}endAt(i=null,s){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new vi(this.database,Gr(this._delegate,function Xu(o,i){return pl("endAt","key",i,!0),new Wl(o,i)}(i,s)))}endBefore(i=null,s){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new vi(this.database,Gr(this._delegate,function Nc(o,i){return pl("endBefore","key",i,!0),new zl(o,i)}(i,s)))}equalTo(i,s){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new vi(this.database,Gr(this._delegate,function tl(o,i){return pl("equalTo","key",i,!0),new mo(o,i)}(i,s)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof vi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,s,u){const m={cancel:void 0,context:void 0};if(s&&u)m.cancel=s,(0,N.Wj)(i,"cancel",m.cancel,!0),m.context=u,(0,N.lb)(i,"context",m.context,!0);else if(s)if("object"==typeof s&&null!==s)m.context=s;else{if("function"!=typeof s)throw new Error((0,N.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");m.cancel=s}return m}get ref(){return new Ks(this.database,new ls(this._delegate._repo,this._delegate._path))}}class Ks extends vi{constructor(i,s){super(i,new Xr(s._repo,s._path,new Yn,!1)),this.database=i,this._delegate=s}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new Ks(this.database,da(this._delegate,i))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new Ks(this.database,i):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new Ks(this.database,this._delegate.root)}set(i,s){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",s,!0);const u=bl(this._delegate,i);return s&&u.then(()=>s(null),m=>s(m)),u}update(i,s){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const m={};for(let C=0;C<i.length;++C)m[""+C]=i[C];i=m,md("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xi("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",s,!0);const u=$l(this._delegate,i);return s&&u.then(()=>s(null),m=>s(m)),u}setWithPriority(i,s,u){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",u,!0);const m=function go(o,i,s){if(xi("setWithPriority",o._path),Gs("setWithPriority",i,o._path,!1),Ka("setWithPriority",s,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";const u=new N.BH;return _l(o._repo,o._path,i,s,u.wrapCallback(()=>{})),u.promise}(this._delegate,i,s);return u&&m.then(()=>u(null),C=>u(C)),m}remove(i){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",i,!0);const s=function Oc(o){return xi("remove",o._path),bl(o,null)}(this._delegate);return i&&s.then(()=>i(null),u=>i(u)),s}transaction(i,s,u){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,N.Wj)("Reference.transaction","onComplete",s,!0),function(o,i,s,u){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,u);const m=function rh(o,i,s){var u;if(o=(0,N.m9)(o),xi("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";const m=null===(u=s?.applyLocally)||void 0===u||u,C=new N.BH,B=ki(o,()=>{});return function fu(o,i,s,u,m,C){Qa(o,"transaction on "+i);const R={path:i,update:s,onComplete:u,status:null,order:Ut(),applyLocally:C,retryCount:0,unwatcher:m,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},B=vl(o,i,void 0);R.currentInputSnapshot=B;const z=R.update(B.val());if(void 0===z)R.unwatcher(),R.currentOutputSnapshotRaw=null,R.currentOutputSnapshotResolved=null,R.onComplete&&R.onComplete(null,!1,R.currentInputSnapshot);else{fl("transaction failed: Data returned ",z,R.path),R.status=0;const ee=Wa(o.transactionQueueTree_,i),Ae=Ko(ee)||[];let Ne;Ae.push(R),Lu(ee,Ae),"object"==typeof z&&null!==z&&(0,N.r3)(z,".priority")?(Ne=(0,N.DV)(z,".priority"),(0,N.hu)(Ga(Ne),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ne=(L(o.serverSyncTree_,i)||Kt.EMPTY_NODE).getPriority().val();const qe=gl(o),At=kt(z,Ne),Yt=eu(At,B,qe);R.currentOutputSnapshotRaw=At,R.currentOutputSnapshotResolved=Yt,R.currentWriteId=aa(o);const Xn=I(o.serverSyncTree_,i,Yt,R.currentWriteId,R.applyLocally);as(o.eventQueue_,i,Xn),El(o,o.transactionQueueTree_)}}(o._repo,o._path,i,(z,ee,Ae)=>{let Ne=null;z?C.reject(z):(Ne=new Vr(Ae,new ls(o._repo,o._path),Nn),C.resolve(new ai(ee,Ne)))},B,m),C.promise}(this._delegate,i,{applyLocally:u}).then(C=>new Uf(C.committed,new No(this.database,C.snapshot)));return s&&m.then(C=>s(null,C.committed,C.snapshot),C=>s(C,!1,null)),m}setPriority(i,s){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",s,!0);const u=function Ju(o,i){o=(0,N.m9)(o),xi("setPriority",o._path),Ka("setPriority",i,!1);const s=new N.BH;return _l(o._repo,Rn(o._path,".priority"),i,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,i);return s&&u.then(()=>s(null),m=>s(m)),u}push(i,s){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",s,!0);const u=function vu(o,i){o=(0,N.m9)(o),xi("push",o._path),Gs("push",i,o._path,!0);const s=Zo(o._repo),u=qu(s),m=da(o,u),C=da(o,u);let R;return R=null!=i?bl(C,i).then(()=>C):Promise.resolve(C),m.then=R.then.bind(R),m.catch=R.then.bind(R,void 0),m}(this._delegate,i),m=u.then(R=>new Ks(this.database,R));s&&m.then(()=>s(null),R=>s(R));const C=new Ks(this.database,u);return C.then=m.then.bind(m),C.catch=m.catch.bind(m,void 0),C}onDisconnect(){return xi("Reference.onDisconnect",this._delegate._path),new Ff(new wl(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Yl{constructor(i,s){this._delegate=i,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:cd,forceLongPolling:dd}}useEmulator(i,s,u={}){!function hd(o,i,s,u={}){(o=(0,N.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&bn("Cannot call useEmulator() after instance has already been initialized.");const m=o._repoInternal;let C;if(m.repoInfo_.nodeAdmin)u.mockUserToken&&bn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),C=new xt(xt.OWNER);else if(u.mockUserToken){const R="string"==typeof u.mockUserToken?u.mockUserToken:(0,N.Sg)(u.mockUserToken,o.app.options.projectId);C=new xt(R)}!function Kl(o,i,s,u){o.repoInfo_=new W(`${i}:${s}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams,!0),u&&(o.authTokenProvider_=u)}(m,i,s,C)}(this._delegate,i,s,u)}ref(i){if((0,N.Dv)("database.ref",0,1,arguments.length),i instanceof Ks){const s=yu(this._delegate,i.toString());return new Ks(this,s)}{const s=Oo(this._delegate,i);return new Ks(this,s)}}refFromURL(i){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const u=yu(this._delegate,i);return new Ks(this,u)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function Xd(o){(o=(0,N.m9)(o))._checkNotDeleted("goOffline"),du(o._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function eh(o){(o=(0,N.m9)(o))._checkNotDeleted("goOnline"),function hu(o){o.persistentConnection_&&o.persistentConnection_.resume(ou)}(o._repo)}(this._delegate)}}Yl.ServerValue={TIMESTAMP:function Fc(){return th}(),increment:o=>function nh(o){return{".sv":{increment:o}}}(o)};var Bf=Object.freeze({__proto__:null,initStandalone:function yd({app:o,url:i,version:s,customAuthImpl:u,namespace:m,nodeAdmin:C=!1}){Ue(s);const R=new Ye.zt("auth-internal",new Ye.H0("database-standalone"));return R.setComponent(new Ye.wA("auth-internal",()=>u,"PRIVATE")),{instance:new Yl(tc(o,R,void 0,i,C),o),namespace:m}}});const ah=Yl.ServerValue;!function vd(o){o.INTERNAL.registerComponent(new Ye.wA("database-compat",(i,{instanceIdentifier:s})=>{const u=i.getProvider("app-compat").getImmediate(),m=i.getProvider("database").getImmediate({identifier:s});return new Yl(m,u)},"PUBLIC").setServiceProps({Reference:Ks,Query:vi,Database:Yl,DataSnapshot:No,enableLogging:fd,INTERNAL:Bf,ServerValue:ah}).setMultipleInstances(!0)),o.registerVersion("@firebase/database-compat","0.3.4")}(st.Z);var Ra=x(1205),Uc=x(6217),Vf=x(9260);function ic(o){return null==o}function Vc(o){return"function"==typeof o.set}function $c(o,i){return Vc(i)?i:o.ref(i)}function nl(o,i){if(function Bc(o){return"string"==typeof o}(o))return i.stringCase();if(Vc(o))return i.firebaseCase();if(function lh(o){return"function"==typeof o.exportVal}(o))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof o)}function Cu(o,i,s="on",u=_e.z){return new Q.y(m=>{let C=null;return C=o[s](i,(R,B)=>{u.schedule(()=>{m.next({snapshot:R,prevKey:B})}),"once"===s&&u.schedule(()=>m.complete())},R=>{u.schedule(()=>m.error(R))}),"on"===s?{unsubscribe(){null!=C&&o.off(i,C)}}:{unsubscribe(){}}}).pipe((0,Ke.U)(m=>{const{snapshot:C,prevKey:R}=m;let B=null;return C.exists()&&(B=C.key),{type:i,payload:C,prevKey:R,key:B}}),(0,Be.B)())}function wu(o,i){const s=o.length;for(let u=0;u<s;u++)if(o[u].payload.key===i)return u;return-1}function Hc(o,i){const{payload:s,prevKey:u,key:m}=i,C=wu(o,m),R=function uh(o,i){if(ic(i))return 0;{const s=wu(o,i);return-1===s?o.length:s+1}}(o,u);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let B=null;i.payload.forEach(z=>{const ee={payload:z,type:"value",prevKey:B,key:z.key};return B=z.key,o=[...o,ee],!1})}return o;case"child_added":if(C>-1){const B=o[C-1];(B&&B.key||null)!==u&&(o=o.filter(z=>z.payload.key!==s.key)).splice(R,0,i)}else{if(null==u)return[i,...o];(o=o.slice()).splice(R,0,i)}return o;case"child_removed":return o.filter(B=>B.payload.key!==s.key);case"child_changed":return o.map(B=>B.payload.key===m?i:B);case"child_moved":if(C>-1){const B=o.splice(C,1)[0];return(o=o.slice()).splice(R,0,B),o}return o;default:return o}}function bu(o){return(ic(o)||0===o.length)&&(o=["child_added","child_removed","child_changed","child_moved"]),o}function rl(o,i,s){return function jc(o,i,s){return Cu(o,"value","once",s).pipe((0,at.w)(u=>{const m=[(0,J.of)(u)];return i.forEach(C=>m.push(Cu(o,C,"on",s))),(0,se.T)(...m).pipe((0,wt.R)(Hc,[]))}),(0,Se.x)())}(o,i=bu(i),s)}function Wc(o,i,s){const u=(i=bu(i)).map(m=>Cu(o,m,"on",s));return(0,se.T)(...u)}function Gc(o,i){return function(u,m){return nl(u,{stringCase:()=>o.child(u)[i](m),firebaseCase:()=>u[i](m),snapshotCase:()=>u.ref[i](m)})}}function ql(o){return function(s){return s?nl(s,{stringCase:()=>o.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):o.remove()}}function Ed(o,i){return function(){return Cu(o,"value","on",i)}}const Kc=new te.OlP("angularfire2.realtimeDatabaseURL"),ph=new te.OlP("angularfire2.database.use-emulator");let Id=(()=>{class o{constructor(s,u,m,C,R,B,z,ee,Ae,Ne,qe,At,Yt,Xn,li){this.schedulers=B;const Zs=z,Ma=(0,pe.on)(s,R,u);ee&&(0,Ra.nw)(Ma,R,Ae,qe,At,Yt,Ne,Xn),this.database=(0,pe.cc)(`${Ma.name}.database.${m}`,"AngularFireDatabase",Ma.name,()=>{const Ql=R.runOutsideAngular(()=>Ma.database(m||void 0));return Zs&&Ql.useEmulator(...Zs),Ql},[Zs])}list(s,u){const m=this.schedulers.ngZone.runOutsideAngular(()=>$c(this.database,s));let C=m;return u&&(C=u(m)),function hh(o,i){const s=i.schedulers.outsideAngular,u=i.schedulers.ngZone.run(()=>o.ref);return{query:o,update:Gc(u,"update"),set:Gc(u,"set"),push:m=>u.push(m),remove:ql(u),snapshotChanges:m=>rl(o,m,s).pipe(Y.iC),stateChanges:m=>Wc(o,m,s).pipe(Y.iC),auditTrail:m=>function zc(o,i,s){return function dh(o,i,s){return function ch(o,i){return Cu(o,"value","on",i).pipe((0,Ke.U)(s=>{let u;return s.payload.forEach(m=>(u=m.key,!1)),{data:s,lastKeyToLoad:u}}))}(o,s).pipe(function tt(...o){const i=(0,ze.jO)(o);return(0,We.e)((s,u)=>{const m=o.length,C=new Array(m);let R=o.map(()=>!1),B=!1;for(let z=0;z<m;z++)(0,rt.Xf)(o[z]).subscribe((0,$e.x)(u,ee=>{C[z]=ee,!B&&!R[z]&&(R[z]=!0,(B=R.every(Fe.y))&&(R=null))},Pe.Z));s.subscribe((0,$e.x)(u,z=>{if(B){const ee=[z,...C];u.next(i?i(...ee):ee)}}))})}(i),(0,Ke.U)(([m,C])=>{const R=m.lastKeyToLoad,B=C.map(z=>z.key);return{actions:C,lastKeyToLoad:R,loadedKeys:B}}),function et(o){return(0,We.e)((i,s)=>{let u=!1,m=0;i.subscribe((0,$e.x)(s,C=>(u||(u=!o(C,m++)))&&s.next(C)))})}(m=>-1===m.loadedKeys.indexOf(m.lastKeyToLoad)),(0,Ke.U)(m=>m.actions))}(o,Wc(o,i).pipe((0,wt.R)((m,C)=>[...m,C],[])),s)}(o,m,s).pipe(Y.iC),valueChanges:(m,C)=>rl(o,m,s).pipe((0,Ke.U)(B=>B.map(z=>C&&C.idField?Object.assign(Object.assign({},z.payload.val()),{[C.idField]:z.key}):z.payload.val())),Y.iC)}}(C,this)}object(s){return function fh(o,i){return{query:o,snapshotChanges:()=>Ed(o,i.schedulers.outsideAngular)().pipe(Y.iC),update:s=>o.ref.update(s),set:s=>o.ref.set(s),remove:()=>o.ref.remove(),valueChanges:()=>Ed(o,i.schedulers.outsideAngular)().pipe(Y.iC,(0,Ke.U)(u=>u.payload.exists()?u.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>$c(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return o.\u0275fac=function(s){return new(s||o)(te.LFG(pe.Dh),te.LFG(pe.xv,8),te.LFG(Kc,8),te.LFG(te.Lbi),te.LFG(te.R0b),te.LFG(Y.HU),te.LFG(ph,8),te.LFG(Ra.zQ,8),te.LFG(Ra.Qv,8),te.LFG(Ra.L6,8),te.LFG(Ra._Q,8),te.LFG(Ra.rT,8),te.LFG(Ra.lh,8),te.LFG(Ra.f7,8),te.LFG(Uc.nm,8))},o.\u0275prov=te.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),gh=(()=>{class o{constructor(){Vf.Z.registerVersion("angularfire",Y.q4.full,"rtdb-compat")}}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=te.oAB({type:o}),o.\u0275inj=te.cJS({providers:[Id]}),o})(),Dd=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=te.oAB({type:o,bootstrap:[ge]}),o.\u0275inj=te.cJS({imports:[v.b2,ce,pe.hO.initializeApp(H_firebaseConfig),gh]}),o})();v.q6().bootstrapModule(Dd).catch(o=>console.error(o))},9751:(Dt,be,x)=>{x.d(be,{y:()=>pe});var v=x(930),H=x(727),F=x(8822),te=x(9635),oe=x(2416),ce=x(576),ge=x(2806);let pe=(()=>{class se{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const at=new se;return at.source=this,at.operator=Be,at}subscribe(Be,at,wt){const Se=function J(se){return se&&se instanceof v.Lv||function Q(se){return se&&(0,ce.m)(se.next)&&(0,ce.m)(se.error)&&(0,ce.m)(se.complete)}(se)&&(0,H.Nn)(se)}(Be)?Be:new v.Hp(Be,at,wt);return(0,ge.x)(()=>{const{operator:We,source:$e}=this;Se.add(We?We.call(Se,$e):$e?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(Be){try{return this._subscribe(Be)}catch(at){Be.error(at)}}forEach(Be,at){return new(at=_e(at))((wt,Se)=>{const We=new v.Hp({next:$e=>{try{Be($e)}catch(rt){Se(rt),We.unsubscribe()}},error:Se,complete:wt});this.subscribe(We)})}_subscribe(Be){var at;return null===(at=this.source)||void 0===at?void 0:at.subscribe(Be)}[F.L](){return this}pipe(...Be){return(0,te.U)(Be)(this)}toPromise(Be){return new(Be=_e(Be))((at,wt)=>{let Se;this.subscribe(We=>Se=We,We=>wt(We),()=>at(Se))})}}return se.create=Ke=>new se(Ke),se})();function _e(se){var Ke;return null!==(Ke=se??oe.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(Dt,be,x)=>{x.d(be,{x:()=>ge});var v=x(9751),H=x(727);const te=(0,x(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=x(8737),ce=x(2806);let ge=(()=>{class _e extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const se=new pe(this,this);return se.operator=J,se}_throwIfClosed(){if(this.closed)throw new te}next(J){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(J)}})}error(J){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:se}=this;for(;se.length;)se.shift().error(J)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:se,isStopped:Ke,observers:Be}=this;return se||Ke?H.Lc:(this.currentObservers=null,Be.push(J),new H.w0(()=>{this.currentObservers=null,(0,oe.P)(Be,J)}))}_checkFinalizedStatuses(J){const{hasError:se,thrownError:Ke,isStopped:Be}=this;se?J.error(Ke):Be&&J.complete()}asObservable(){const J=new v.y;return J.source=this,J}}return _e.create=(Q,J)=>new pe(Q,J),_e})();class pe extends ge{constructor(Q,J){super(),this.destination=Q,this.source=J}next(Q){var J,se;null===(se=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===se||se.call(J,Q)}error(Q){var J,se;null===(se=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===se||se.call(J,Q)}complete(){var Q,J;null===(J=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===J||J.call(Q)}_subscribe(Q){var J,se;return null!==(se=null===(J=this.source)||void 0===J?void 0:J.subscribe(Q))&&void 0!==se?se:H.Lc}}},930:(Dt,be,x)=>{x.d(be,{Hp:()=>wt,Lv:()=>se});var v=x(576),H=x(727),F=x(2416),te=x(7849),oe=x(5032);const ce=_e("C",void 0,void 0);function _e(Fe,Pe,ze){return{kind:Fe,value:Pe,error:ze}}var Q=x(3410),J=x(2806);class se extends H.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,H.Nn)(Pe)&&Pe.add(this)):this.destination=rt}static create(Pe,ze,tt){return new wt(Pe,ze,tt)}next(Pe){this.isStopped?$e(function pe(Fe){return _e("N",Fe,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?$e(function ge(Fe){return _e("E",void 0,Fe)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?$e(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Be(Fe,Pe){return Ke.call(Fe,Pe)}class at{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Pe)}catch(tt){Se(tt)}}error(Pe){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Pe)}catch(tt){Se(tt)}else Se(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(ze){Se(ze)}}}class wt extends se{constructor(Pe,ze,tt){let et;if(super(),(0,v.m)(Pe)||!Pe)et={next:Pe??void 0,error:ze??void 0,complete:tt??void 0};else{let Y;this&&F.v.useDeprecatedNextContext?(Y=Object.create(Pe),Y.unsubscribe=()=>this.unsubscribe(),et={next:Pe.next&&Be(Pe.next,Y),error:Pe.error&&Be(Pe.error,Y),complete:Pe.complete&&Be(Pe.complete,Y)}):et=Pe}this.destination=new at(et)}}function Se(Fe){F.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(Fe):(0,te.h)(Fe)}function $e(Fe,Pe){const{onStoppedNotification:ze}=F.v;ze&&Q.z.setTimeout(()=>ze(Fe,Pe))}const rt={closed:!0,next:oe.Z,error:function We(Fe){throw Fe},complete:oe.Z}},727:(Dt,be,x)=>{x.d(be,{Lc:()=>ce,w0:()=>oe,Nn:()=>ge});var v=x(576);const F=(0,x(3888).d)(_e=>function(J){_e(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((se,Ke)=>`${Ke+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var te=x(8737);class oe{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const Be of J)Be.remove(this);else J.remove(this);const{initialTeardown:se}=this;if((0,v.m)(se))try{se()}catch(Be){Q=Be instanceof F?Be.errors:[Be]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Be of Ke)try{pe(Be)}catch(at){Q=Q??[],at instanceof F?Q=[...Q,...at.errors]:Q.push(at)}}if(Q)throw new F(Q)}}add(Q){var J;if(Q&&Q!==this)if(this.closed)pe(Q);else{if(Q instanceof oe){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(Q)}}_hasParent(Q){const{_parentage:J}=this;return J===Q||Array.isArray(J)&&J.includes(Q)}_addParent(Q){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(Q),J):J?[J,Q]:Q}_removeParent(Q){const{_parentage:J}=this;J===Q?this._parentage=null:Array.isArray(J)&&(0,te.P)(J,Q)}remove(Q){const{_finalizers:J}=this;J&&(0,te.P)(J,Q),Q instanceof oe&&Q._removeParent(this)}}oe.EMPTY=(()=>{const _e=new oe;return _e.closed=!0,_e})();const ce=oe.EMPTY;function ge(_e){return _e instanceof oe||_e&&"closed"in _e&&(0,v.m)(_e.remove)&&(0,v.m)(_e.add)&&(0,v.m)(_e.unsubscribe)}function pe(_e){(0,v.m)(_e)?_e():_e.unsubscribe()}},2416:(Dt,be,x)=>{x.d(be,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Dt,be,x)=>{x.d(be,{z:()=>oe});var v=x(8189),F=x(7669),te=x(8996);function oe(...ce){return function H(){return(0,v.J)(1)}()((0,te.D)(ce,(0,F.yG)(ce)))}},515:(Dt,be,x)=>{x.d(be,{E:()=>H});const H=new(x(9751).y)(oe=>oe.complete())},8996:(Dt,be,x)=>{x.d(be,{D:()=>Pe});var v=x(8421),H=x(5363),F=x(9468),ce=x(9751),pe=x(2202),_e=x(576),Q=x(9672);function se(ze,tt){if(!ze)throw new Error("Iterable cannot be null");return new ce.y(et=>{(0,Q.f)(et,tt,()=>{const Y=ze[Symbol.asyncIterator]();(0,Q.f)(et,tt,()=>{Y.next().then(Re=>{Re.done?et.complete():et.next(Re.value)})},0,!0)})})}var Ke=x(3670),Be=x(8239),at=x(1144),wt=x(6495),Se=x(2206),We=x(4532),$e=x(3260);function Pe(ze,tt){return tt?function Fe(ze,tt){if(null!=ze){if((0,Ke.c)(ze))return function te(ze,tt){return(0,v.Xf)(ze).pipe((0,F.R)(tt),(0,H.Q)(tt))}(ze,tt);if((0,at.z)(ze))return function ge(ze,tt){return new ce.y(et=>{let Y=0;return tt.schedule(function(){Y===ze.length?et.complete():(et.next(ze[Y++]),et.closed||this.schedule())})})}(ze,tt);if((0,Be.t)(ze))return function oe(ze,tt){return(0,v.Xf)(ze).pipe((0,F.R)(tt),(0,H.Q)(tt))}(ze,tt);if((0,Se.D)(ze))return se(ze,tt);if((0,wt.T)(ze))return function J(ze,tt){return new ce.y(et=>{let Y;return(0,Q.f)(et,tt,()=>{Y=ze[pe.h](),(0,Q.f)(et,tt,()=>{let Re,st;try{({value:Re,done:st}=Y.next())}catch(Ye){return void et.error(Ye)}st?et.complete():et.next(Re)},0,!0)}),()=>(0,_e.m)(Y?.return)&&Y.return()})}(ze,tt);if((0,$e.L)(ze))return function rt(ze,tt){return se((0,$e.Q)(ze),tt)}(ze,tt)}throw(0,We.z)(ze)}(ze,tt):(0,v.Xf)(ze)}},8421:(Dt,be,x)=>{x.d(be,{Xf:()=>Ke});var v=x(655),H=x(1144),F=x(8239),te=x(9751),oe=x(3670),ce=x(2206),ge=x(4532),pe=x(6495),_e=x(3260),Q=x(576),J=x(7849),se=x(8822);function Ke(Fe){if(Fe instanceof te.y)return Fe;if(null!=Fe){if((0,oe.c)(Fe))return function Be(Fe){return new te.y(Pe=>{const ze=Fe[se.L]();if((0,Q.m)(ze.subscribe))return ze.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,H.z)(Fe))return function at(Fe){return new te.y(Pe=>{for(let ze=0;ze<Fe.length&&!Pe.closed;ze++)Pe.next(Fe[ze]);Pe.complete()})}(Fe);if((0,F.t)(Fe))return function wt(Fe){return new te.y(Pe=>{Fe.then(ze=>{Pe.closed||(Pe.next(ze),Pe.complete())},ze=>Pe.error(ze)).then(null,J.h)})}(Fe);if((0,ce.D)(Fe))return We(Fe);if((0,pe.T)(Fe))return function Se(Fe){return new te.y(Pe=>{for(const ze of Fe)if(Pe.next(ze),Pe.closed)return;Pe.complete()})}(Fe);if((0,_e.L)(Fe))return function $e(Fe){return We((0,_e.Q)(Fe))}(Fe)}throw(0,ge.z)(Fe)}function We(Fe){return new te.y(Pe=>{(function rt(Fe,Pe){var ze,tt,et,Y;return(0,v.mG)(this,void 0,void 0,function*(){try{for(ze=(0,v.KL)(Fe);!(tt=yield ze.next()).done;)if(Pe.next(tt.value),Pe.closed)return}catch(Re){et={error:Re}}finally{try{tt&&!tt.done&&(Y=ze.return)&&(yield Y.call(ze))}finally{if(et)throw et.error}}Pe.complete()})})(Fe,Pe).catch(ze=>Pe.error(ze))})}},6451:(Dt,be,x)=>{x.d(be,{T:()=>ce});var v=x(8189),H=x(8421),F=x(515),te=x(7669),oe=x(8996);function ce(...ge){const pe=(0,te.yG)(ge),_e=(0,te._6)(ge,1/0),Q=ge;return Q.length?1===Q.length?(0,H.Xf)(Q[0]):(0,v.J)(_e)((0,oe.D)(Q,pe)):F.E}},9646:(Dt,be,x)=>{x.d(be,{of:()=>F});var v=x(7669),H=x(8996);function F(...te){const oe=(0,v.yG)(te);return(0,H.D)(te,oe)}},5403:(Dt,be,x)=>{x.d(be,{x:()=>H});var v=x(930);function H(te,oe,ce,ge,pe){return new F(te,oe,ce,ge,pe)}class F extends v.Lv{constructor(oe,ce,ge,pe,_e,Q){super(oe),this.onFinalize=_e,this.shouldUnsubscribe=Q,this._next=ce?function(J){try{ce(J)}catch(se){oe.error(se)}}:super._next,this._error=pe?function(J){try{pe(J)}catch(se){oe.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(J){oe.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},6590:(Dt,be,x)=>{x.d(be,{d:()=>F});var v=x(4482),H=x(5403);function F(te){return(0,v.e)((oe,ce)=>{let ge=!1;oe.subscribe((0,H.x)(ce,pe=>{ge=!0,ce.next(pe)},()=>{ge||ce.next(te),ce.complete()}))})}},1884:(Dt,be,x)=>{x.d(be,{x:()=>te});var v=x(4671),H=x(4482),F=x(5403);function te(ce,ge=v.y){return ce=ce??oe,(0,H.e)((pe,_e)=>{let Q,J=!0;pe.subscribe((0,F.x)(_e,se=>{const Ke=ge(se);(J||!ce(Q,Ke))&&(J=!1,Q=Ke,_e.next(se))}))})}function oe(ce,ge){return ce===ge}},9300:(Dt,be,x)=>{x.d(be,{h:()=>F});var v=x(4482),H=x(5403);function F(te,oe){return(0,v.e)((ce,ge)=>{let pe=0;ce.subscribe((0,H.x)(ge,_e=>te.call(oe,_e,pe++)&&ge.next(_e)))})}},590:(Dt,be,x)=>{x.d(be,{P:()=>ge});var v=x(6805),H=x(9300),F=x(5698),te=x(6590),oe=x(8068),ce=x(4671);function ge(pe,_e){const Q=arguments.length>=2;return J=>J.pipe(pe?(0,H.h)((se,Ke)=>pe(se,Ke,J)):ce.y,(0,F.q)(1),Q?(0,te.d)(_e):(0,oe.T)(()=>new v.K))}},4004:(Dt,be,x)=>{x.d(be,{U:()=>F});var v=x(4482),H=x(5403);function F(te,oe){return(0,v.e)((ce,ge)=>{let pe=0;ce.subscribe((0,H.x)(ge,_e=>{ge.next(te.call(oe,_e,pe++))}))})}},8189:(Dt,be,x)=>{x.d(be,{J:()=>F});var v=x(5577),H=x(4671);function F(te=1/0){return(0,v.z)(H.y,te)}},5577:(Dt,be,x)=>{x.d(be,{z:()=>pe});var v=x(4004),H=x(8421),F=x(4482),te=x(9672),oe=x(5403),ge=x(576);function pe(_e,Q,J=1/0){return(0,ge.m)(Q)?pe((se,Ke)=>(0,v.U)((Be,at)=>Q(se,Be,Ke,at))((0,H.Xf)(_e(se,Ke))),J):("number"==typeof Q&&(J=Q),(0,F.e)((se,Ke)=>function ce(_e,Q,J,se,Ke,Be,at,wt){const Se=[];let We=0,$e=0,rt=!1;const Fe=()=>{rt&&!Se.length&&!We&&Q.complete()},Pe=tt=>We<se?ze(tt):Se.push(tt),ze=tt=>{Be&&Q.next(tt),We++;let et=!1;(0,H.Xf)(J(tt,$e++)).subscribe((0,oe.x)(Q,Y=>{Ke?.(Y),Be?Pe(Y):Q.next(Y)},()=>{et=!0},void 0,()=>{if(et)try{for(We--;Se.length&&We<se;){const Y=Se.shift();at?(0,te.f)(Q,at,()=>ze(Y)):ze(Y)}Fe()}catch(Y){Q.error(Y)}}))};return _e.subscribe((0,oe.x)(Q,Pe,()=>{rt=!0,Fe()})),()=>{wt?.()}}(se,Ke,_e,J)))}},5363:(Dt,be,x)=>{x.d(be,{Q:()=>te});var v=x(9672),H=x(4482),F=x(5403);function te(oe,ce=0){return(0,H.e)((ge,pe)=>{ge.subscribe((0,F.x)(pe,_e=>(0,v.f)(pe,oe,()=>pe.next(_e),ce),()=>(0,v.f)(pe,oe,()=>pe.complete(),ce),_e=>(0,v.f)(pe,oe,()=>pe.error(_e),ce)))})}},5026:(Dt,be,x)=>{x.d(be,{R:()=>te});var v=x(4482),H=x(5403);function te(oe,ce){return(0,v.e)(function F(oe,ce,ge,pe,_e){return(Q,J)=>{let se=ge,Ke=ce,Be=0;Q.subscribe((0,H.x)(J,at=>{const wt=Be++;Ke=se?oe(Ke,at,wt):(se=!0,at),pe&&J.next(Ke)},_e&&(()=>{se&&J.next(Ke),J.complete()})))}}(oe,ce,arguments.length>=2,!0))}},3099:(Dt,be,x)=>{x.d(be,{B:()=>oe});var v=x(8421),H=x(7579),F=x(930),te=x(4482);function oe(ge={}){const{connector:pe=(()=>new H.x),resetOnError:_e=!0,resetOnComplete:Q=!0,resetOnRefCountZero:J=!0}=ge;return se=>{let Ke,Be,at,wt=0,Se=!1,We=!1;const $e=()=>{Be?.unsubscribe(),Be=void 0},rt=()=>{$e(),Ke=at=void 0,Se=We=!1},Fe=()=>{const Pe=Ke;rt(),Pe?.unsubscribe()};return(0,te.e)((Pe,ze)=>{wt++,!We&&!Se&&$e();const tt=at=at??pe();ze.add(()=>{wt--,0===wt&&!We&&!Se&&(Be=ce(Fe,J))}),tt.subscribe(ze),!Ke&&wt>0&&(Ke=new F.Hp({next:et=>tt.next(et),error:et=>{We=!0,$e(),Be=ce(rt,_e,et),tt.error(et)},complete:()=>{Se=!0,$e(),Be=ce(rt,Q),tt.complete()}}),(0,v.Xf)(Pe).subscribe(Ke))})(se)}}function ce(ge,pe,..._e){if(!0===pe)return void ge();if(!1===pe)return;const Q=new F.Hp({next:()=>{Q.unsubscribe(),ge()}});return(0,v.Xf)(pe(..._e)).subscribe(Q)}},8675:(Dt,be,x)=>{x.d(be,{O:()=>te});var v=x(7272),H=x(7669),F=x(4482);function te(...oe){const ce=(0,H.yG)(oe);return(0,F.e)((ge,pe)=>{(ce?(0,v.z)(oe,ge,ce):(0,v.z)(oe,ge)).subscribe(pe)})}},9468:(Dt,be,x)=>{x.d(be,{R:()=>H});var v=x(4482);function H(F,te=0){return(0,v.e)((oe,ce)=>{ce.add(F.schedule(()=>oe.subscribe(ce),te))})}},3900:(Dt,be,x)=>{x.d(be,{w:()=>te});var v=x(8421),H=x(4482),F=x(5403);function te(oe,ce){return(0,H.e)((ge,pe)=>{let _e=null,Q=0,J=!1;const se=()=>J&&!_e&&pe.complete();ge.subscribe((0,F.x)(pe,Ke=>{_e?.unsubscribe();let Be=0;const at=Q++;(0,v.Xf)(oe(Ke,at)).subscribe(_e=(0,F.x)(pe,wt=>pe.next(ce?ce(Ke,wt,at,Be++):wt),()=>{_e=null,se()}))},()=>{J=!0,se()}))})}},5698:(Dt,be,x)=>{x.d(be,{q:()=>te});var v=x(515),H=x(4482),F=x(5403);function te(oe){return oe<=0?()=>v.E:(0,H.e)((ce,ge)=>{let pe=0;ce.subscribe((0,F.x)(ge,_e=>{++pe<=oe&&(ge.next(_e),oe<=pe&&ge.complete())}))})}},8505:(Dt,be,x)=>{x.d(be,{b:()=>oe});var v=x(576),H=x(4482),F=x(5403),te=x(4671);function oe(ce,ge,pe){const _e=(0,v.m)(ce)||ge||pe?{next:ce,error:ge,complete:pe}:ce;return _e?(0,H.e)((Q,J)=>{var se;null===(se=_e.subscribe)||void 0===se||se.call(_e);let Ke=!0;Q.subscribe((0,F.x)(J,Be=>{var at;null===(at=_e.next)||void 0===at||at.call(_e,Be),J.next(Be)},()=>{var Be;Ke=!1,null===(Be=_e.complete)||void 0===Be||Be.call(_e),J.complete()},Be=>{var at;Ke=!1,null===(at=_e.error)||void 0===at||at.call(_e,Be),J.error(Be)},()=>{var Be,at;Ke&&(null===(Be=_e.unsubscribe)||void 0===Be||Be.call(_e)),null===(at=_e.finalize)||void 0===at||at.call(_e)}))}):te.y}},8068:(Dt,be,x)=>{x.d(be,{T:()=>te});var v=x(6805),H=x(4482),F=x(5403);function te(ce=oe){return(0,H.e)((ge,pe)=>{let _e=!1;ge.subscribe((0,F.x)(pe,Q=>{_e=!0,pe.next(Q)},()=>_e?pe.complete():pe.error(ce())))})}function oe(){return new v.K}},4408:(Dt,be,x)=>{x.d(be,{o:()=>oe});var v=x(727);class H extends v.w0{constructor(ge,pe){super()}schedule(ge,pe=0){return this}}const F={setInterval(ce,ge,...pe){const{delegate:_e}=F;return _e?.setInterval?_e.setInterval(ce,ge,...pe):setInterval(ce,ge,...pe)},clearInterval(ce){const{delegate:ge}=F;return(ge?.clearInterval||clearInterval)(ce)},delegate:void 0};var te=x(8737);class oe extends H{constructor(ge,pe){super(ge,pe),this.scheduler=ge,this.work=pe,this.pending=!1}schedule(ge,pe=0){var _e;if(this.closed)return this;this.state=ge;const Q=this.id,J=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(J,Q,pe)),this.pending=!0,this.delay=pe,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(J,this.id,pe),this}requestAsyncId(ge,pe,_e=0){return F.setInterval(ge.flush.bind(ge,this),_e)}recycleAsyncId(ge,pe,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return pe;null!=pe&&F.clearInterval(pe)}execute(ge,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ge,pe);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,pe){let Q,_e=!1;try{this.work(ge)}catch(J){_e=!0,Q=J||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:ge,scheduler:pe}=this,{actions:_e}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(_e,this),null!=ge&&(this.id=this.recycleAsyncId(pe,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dt,be,x)=>{x.d(be,{v:()=>F});var v=x(6063);class H{constructor(oe,ce=H.now){this.schedulerActionCtor=oe,this.now=ce}schedule(oe,ce=0,ge){return new this.schedulerActionCtor(this,oe).schedule(ge,ce)}}H.now=v.l.now;class F extends H{constructor(oe,ce=H.now){super(oe,ce),this.actions=[],this._active=!1}flush(oe){const{actions:ce}=this;if(this._active)return void ce.push(oe);let ge;this._active=!0;do{if(ge=oe.execute(oe.state,oe.delay))break}while(oe=ce.shift());if(this._active=!1,ge){for(;oe=ce.shift();)oe.unsubscribe();throw ge}}}},4986:(Dt,be,x)=>{x.d(be,{z:()=>F});var v=x(4408);const F=new(x(7565).v)(v.o)},6063:(Dt,be,x)=>{x.d(be,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},3410:(Dt,be,x)=>{x.d(be,{z:()=>v});const v={setTimeout(H,F,...te){const{delegate:oe}=v;return oe?.setTimeout?oe.setTimeout(H,F,...te):setTimeout(H,F,...te)},clearTimeout(H){const{delegate:F}=v;return(F?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(Dt,be,x)=>{x.d(be,{h:()=>H});const H=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,be,x)=>{x.d(be,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Dt,be,x)=>{x.d(be,{K:()=>H});const H=(0,x(3888).d)(F=>function(){F(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Dt,be,x)=>{x.d(be,{_6:()=>ce,jO:()=>te,yG:()=>oe});var v=x(576);function F(ge){return ge[ge.length-1]}function te(ge){return(0,v.m)(F(ge))?ge.pop():void 0}function oe(ge){return function H(ge){return ge&&(0,v.m)(ge.schedule)}(F(ge))?ge.pop():void 0}function ce(ge,pe){return"number"==typeof F(ge)?ge.pop():pe}},4742:(Dt,be,x)=>{x.d(be,{D:()=>oe});const{isArray:v}=Array,{getPrototypeOf:H,prototype:F,keys:te}=Object;function oe(ge){if(1===ge.length){const pe=ge[0];if(v(pe))return{args:pe,keys:null};if(function ce(ge){return ge&&"object"==typeof ge&&H(ge)===F}(pe)){const _e=te(pe);return{args:_e.map(Q=>pe[Q]),keys:_e}}}return{args:ge,keys:null}}},8737:(Dt,be,x)=>{function v(H,F){if(H){const te=H.indexOf(F);0<=te&&H.splice(te,1)}}x.d(be,{P:()=>v})},3888:(Dt,be,x)=>{function v(H){const te=H(oe=>{Error.call(oe),oe.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}x.d(be,{d:()=>v})},1810:(Dt,be,x)=>{function v(H,F){return H.reduce((te,oe,ce)=>(te[oe]=F[ce],te),{})}x.d(be,{n:()=>v})},2806:(Dt,be,x)=>{x.d(be,{O:()=>te,x:()=>F});var v=x(2416);let H=null;function F(oe){if(v.v.useDeprecatedSynchronousErrorHandling){const ce=!H;if(ce&&(H={errorThrown:!1,error:null}),oe(),ce){const{errorThrown:ge,error:pe}=H;if(H=null,ge)throw pe}}else oe()}function te(oe){v.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=oe)}},9672:(Dt,be,x)=>{function v(H,F,te,oe=0,ce=!1){const ge=F.schedule(function(){te(),ce?H.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(H.add(ge),!ce)return ge}x.d(be,{f:()=>v})},4671:(Dt,be,x)=>{function v(H){return H}x.d(be,{y:()=>v})},1144:(Dt,be,x)=>{x.d(be,{z:()=>v});const v=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(Dt,be,x)=>{x.d(be,{D:()=>H});var v=x(576);function H(F){return Symbol.asyncIterator&&(0,v.m)(F?.[Symbol.asyncIterator])}},576:(Dt,be,x)=>{function v(H){return"function"==typeof H}x.d(be,{m:()=>v})},3670:(Dt,be,x)=>{x.d(be,{c:()=>F});var v=x(8822),H=x(576);function F(te){return(0,H.m)(te[v.L])}},6495:(Dt,be,x)=>{x.d(be,{T:()=>F});var v=x(2202),H=x(576);function F(te){return(0,H.m)(te?.[v.h])}},8239:(Dt,be,x)=>{x.d(be,{t:()=>H});var v=x(576);function H(F){return(0,v.m)(F?.then)}},3260:(Dt,be,x)=>{x.d(be,{L:()=>te,Q:()=>F});var v=x(655),H=x(576);function F(oe){return(0,v.FC)(this,arguments,function*(){const ge=oe.getReader();try{for(;;){const{value:pe,done:_e}=yield(0,v.qq)(ge.read());if(_e)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(pe)}}finally{ge.releaseLock()}})}function te(oe){return(0,H.m)(oe?.getReader)}},4482:(Dt,be,x)=>{x.d(be,{A:()=>H,e:()=>F});var v=x(576);function H(te){return(0,v.m)(te?.lift)}function F(te){return oe=>{if(H(oe))return oe.lift(function(ce){try{return te(ce,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Dt,be,x)=>{x.d(be,{Z:()=>te});var v=x(4004);const{isArray:H}=Array;function te(oe){return(0,v.U)(ce=>function F(oe,ce){return H(ce)?oe(...ce):oe(ce)}(oe,ce))}},5032:(Dt,be,x)=>{function v(){}x.d(be,{Z:()=>v})},9635:(Dt,be,x)=>{x.d(be,{U:()=>F,z:()=>H});var v=x(4671);function H(...te){return F(te)}function F(te){return 0===te.length?v.y:1===te.length?te[0]:function(ce){return te.reduce((ge,pe)=>pe(ge),ce)}}},7849:(Dt,be,x)=>{x.d(be,{h:()=>F});var v=x(2416),H=x(3410);function F(te){H.z.setTimeout(()=>{const{onUnhandledError:oe}=v.v;if(!oe)throw te;oe(te)})}},4532:(Dt,be,x)=>{function v(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(be,{z:()=>v})},655:(Dt,be,x)=>{function te(N,Te){var Ie={};for(var Ce in N)Object.prototype.hasOwnProperty.call(N,Ce)&&Te.indexOf(Ce)<0&&(Ie[Ce]=N[Ce]);if(null!=N&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(Ce=Object.getOwnPropertySymbols(N);xe<Ce.length;xe++)Te.indexOf(Ce[xe])<0&&Object.prototype.propertyIsEnumerable.call(N,Ce[xe])&&(Ie[Ce[xe]]=N[Ce[xe]])}return Ie}function se(N,Te,Ie,Ce){return new(Ie||(Ie=Promise))(function(Ue,Je){function nt(Vt){try{dt(Ce.next(Vt))}catch(ft){Je(ft)}}function Bt(Vt){try{dt(Ce.throw(Vt))}catch(ft){Je(ft)}}function dt(Vt){Vt.done?Ue(Vt.value):function xe(Ue){return Ue instanceof Ie?Ue:new Ie(function(Je){Je(Ue)})}(Vt.value).then(nt,Bt)}dt((Ce=Ce.apply(N,Te||[])).next())})}function Fe(N){return this instanceof Fe?(this.v=N,this):new Fe(N)}function Pe(N,Te,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,Ce=Ie.apply(N,Te||[]),Ue=[];return xe={},Je("next"),Je("throw"),Je("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function Je(Ut){Ce[Ut]&&(xe[Ut]=function(Fn){return new Promise(function(_n,pn){Ue.push([Ut,Fn,_n,pn])>1||nt(Ut,Fn)})})}function nt(Ut,Fn){try{!function Bt(Ut){Ut.value instanceof Fe?Promise.resolve(Ut.value.v).then(dt,Vt):ft(Ue[0][2],Ut)}(Ce[Ut](Fn))}catch(_n){ft(Ue[0][3],_n)}}function dt(Ut){nt("next",Ut)}function Vt(Ut){nt("throw",Ut)}function ft(Ut,Fn){Ut(Fn),Ue.shift(),Ue.length&&nt(Ue[0][0],Ue[0][1])}}function tt(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,Te=N[Symbol.asyncIterator];return Te?Te.call(N):(N=function wt(N){var Te="function"==typeof Symbol&&Symbol.iterator,Ie=Te&&N[Te],Ce=0;if(Ie)return Ie.call(N);if(N&&"number"==typeof N.length)return{next:function(){return N&&Ce>=N.length&&(N=void 0),{value:N&&N[Ce++],done:!N}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}(N),Ie={},Ce("next"),Ce("throw"),Ce("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Ce(Ue){Ie[Ue]=N[Ue]&&function(Je){return new Promise(function(nt,Bt){!function xe(Ue,Je,nt,Bt){Promise.resolve(Bt).then(function(dt){Ue({value:dt,done:nt})},Je)}(nt,Bt,(Je=N[Ue](Je)).done,Je.value)})}}}x.d(be,{FC:()=>Pe,KL:()=>tt,_T:()=>te,mG:()=>se,qq:()=>Fe})},6895:(Dt,be,x)=>{x.d(be,{Do:()=>$e,EM:()=>Vi,HT:()=>te,JF:()=>Fr,K0:()=>ce,Mx:()=>Et,O5:()=>hi,PM:()=>Do,S$:()=>wt,V_:()=>_e,Ye:()=>rt,b0:()=>We,bD:()=>wi,ez:()=>Bi,q:()=>F,sg:()=>ti,w_:()=>oe});var v=x(4650);let H=null;function F(){return H}function te(D){H||(H=D)}class oe{}const ce=new v.OlP("DocumentToken");let ge=(()=>{class D{historyGo(T){throw new Error("Not implemented")}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=v.Yz7({token:D,factory:function(){return function pe(){return(0,v.LFG)(Q)}()},providedIn:"platform"}),D})();const _e=new v.OlP("Location Initialized");let Q=(()=>{class D extends ge{constructor(T){super(),this._doc=T,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(T){const U=F().getGlobalEventTarget(this._doc,"window");return U.addEventListener("popstate",T,!1),()=>U.removeEventListener("popstate",T)}onHashChange(T){const U=F().getGlobalEventTarget(this._doc,"window");return U.addEventListener("hashchange",T,!1),()=>U.removeEventListener("hashchange",T)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(T){this._location.pathname=T}pushState(T,U,Z){J()?this._history.pushState(T,U,Z):this._location.hash=Z}replaceState(T,U,Z){J()?this._history.replaceState(T,U,Z):this._location.hash=Z}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return D.\u0275fac=function(T){return new(T||D)(v.LFG(ce))},D.\u0275prov=v.Yz7({token:D,factory:function(){return function se(){return new Q((0,v.LFG)(ce))}()},providedIn:"platform"}),D})();function J(){return!!window.history.pushState}function Ke(D,M){if(0==D.length)return M;if(0==M.length)return D;let T=0;return D.endsWith("/")&&T++,M.startsWith("/")&&T++,2==T?D+M.substring(1):1==T?D+M:D+"/"+M}function Be(D){const M=D.match(/#|\?|$/),T=M&&M.index||D.length;return D.slice(0,T-("/"===D[T-1]?1:0))+D.slice(T)}function at(D){return D&&"?"!==D[0]?"?"+D:D}let wt=(()=>{class D{historyGo(T){throw new Error("Not implemented")}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=v.Yz7({token:D,factory:function(){return(0,v.f3M)(We)},providedIn:"root"}),D})();const Se=new v.OlP("appBaseHref");let We=(()=>{class D extends wt{constructor(T,U){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=U??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return Ke(this._baseHref,T)}path(T=!1){const U=this._platformLocation.pathname+at(this._platformLocation.search),Z=this._platformLocation.hash;return Z&&T?`${U}${Z}`:U}pushState(T,U,Z,Ee){const He=this.prepareExternalUrl(Z+at(Ee));this._platformLocation.pushState(T,U,He)}replaceState(T,U,Z,Ee){const He=this.prepareExternalUrl(Z+at(Ee));this._platformLocation.replaceState(T,U,He)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return D.\u0275fac=function(T){return new(T||D)(v.LFG(ge),v.LFG(Se,8))},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),$e=(()=>{class D extends wt{constructor(T,U){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=U&&(this._baseHref=U)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let U=this._platformLocation.hash;return null==U&&(U="#"),U.length>0?U.substring(1):U}prepareExternalUrl(T){const U=Ke(this._baseHref,T);return U.length>0?"#"+U:U}pushState(T,U,Z,Ee){let He=this.prepareExternalUrl(Z+at(Ee));0==He.length&&(He=this._platformLocation.pathname),this._platformLocation.pushState(T,U,He)}replaceState(T,U,Z,Ee){let He=this.prepareExternalUrl(Z+at(Ee));0==He.length&&(He=this._platformLocation.pathname),this._platformLocation.replaceState(T,U,He)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return D.\u0275fac=function(T){return new(T||D)(v.LFG(ge),v.LFG(Se,8))},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac}),D})(),rt=(()=>{class D{constructor(T){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const U=this._locationStrategy.getBaseHref();this._basePath=function tt(D){if(new RegExp("^(https?:)?//").test(D)){const[,T]=D.split(/\/\/[^\/]+/);return T}return D}(Be(ze(U))),this._locationStrategy.onPopState(Z=>{this._subject.emit({url:this.path(!0),pop:!0,state:Z.state,type:Z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,U=""){return this.path()==this.normalize(T+at(U))}normalize(T){return D.stripTrailingSlash(function Pe(D,M){if(!D||!M.startsWith(D))return M;const T=M.substring(D.length);return""===T||["/",";","?","#"].includes(T[0])?T:M}(this._basePath,ze(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,U="",Z=null){this._locationStrategy.pushState(Z,"",T,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+at(U)),Z)}replaceState(T,U="",Z=null){this._locationStrategy.replaceState(Z,"",T,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+at(U)),Z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(U=>{this._notifyUrlChangeListeners(U.url,U.state)})),()=>{const U=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(U,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",U){this._urlChangeListeners.forEach(Z=>Z(T,U))}subscribe(T,U,Z){return this._subject.subscribe({next:T,error:U,complete:Z})}}return D.normalizeQueryParams=at,D.joinWithSlash=Ke,D.stripTrailingSlash=Be,D.\u0275fac=function(T){return new(T||D)(v.LFG(wt))},D.\u0275prov=v.Yz7({token:D,factory:function(){return function Fe(){return new rt((0,v.LFG)(wt))}()},providedIn:"root"}),D})();function ze(D){return D.replace(/\/index.html$/,"")}function Et(D,M){M=encodeURIComponent(M);for(const T of D.split(";")){const U=T.indexOf("="),[Z,Ee]=-1==U?[T,""]:[T.slice(0,U),T.slice(U+1)];if(Z.trim()===M)return decodeURIComponent(Ee)}return null}class Wn{constructor(M,T,U,Z){this.$implicit=M,this.ngForOf=T,this.index=U,this.count=Z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ti=(()=>{class D{set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}constructor(T,U,Z){this._viewContainer=T,this._template=U,this._differs=Z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const U=this._viewContainer;T.forEachOperation((Z,Ee,He)=>{if(null==Z.previousIndex)U.createEmbeddedView(this._template,new Wn(Z.item,this._ngForOf,-1,-1),null===He?void 0:He);else if(null==He)U.remove(null===Ee?void 0:Ee);else if(null!==Ee){const ht=U.get(Ee);U.move(ht,He),Mr(ht,Z)}});for(let Z=0,Ee=U.length;Z<Ee;Z++){const ht=U.get(Z).context;ht.index=Z,ht.count=Ee,ht.ngForOf=this._ngForOf}T.forEachIdentityChange(Z=>{Mr(U.get(Z.currentIndex),Z)})}static ngTemplateContextGuard(T,U){return!0}}return D.\u0275fac=function(T){return new(T||D)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},D.\u0275dir=v.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function Mr(D,M){D.context.$implicit=M.item}let hi=(()=>{class D{constructor(T,U){this._viewContainer=T,this._context=new cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=U}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){qs("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){qs("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,U){return!0}}return D.\u0275fac=function(T){return new(T||D)(v.Y36(v.s_b),v.Y36(v.Rgc))},D.\u0275dir=v.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class cs{constructor(){this.$implicit=null,this.ngIf=null}}function qs(D,M){if(M&&!M.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,v.AaK)(M)}'.`)}let Bi=(()=>{class D{}return D.\u0275fac=function(T){return new(T||D)},D.\u0275mod=v.oAB({type:D}),D.\u0275inj=v.cJS({}),D})();const wi="browser",Hr="server";function Do(D){return D===Hr}let Vi=(()=>{class D{}return D.\u0275prov=(0,v.Yz7)({token:D,providedIn:"root",factory:()=>new $i((0,v.LFG)(ce),window)}),D})();class $i{constructor(M,T){this.document=M,this.window=T,this.offset=()=>[0,0]}setOffset(M){this.offset=Array.isArray(M)?()=>M:M}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(M){this.supportsScrolling()&&this.window.scrollTo(M[0],M[1])}scrollToAnchor(M){if(!this.supportsScrolling())return;const T=function Lr(D,M){const T=D.getElementById(M)||D.getElementsByName(M)[0];if(T)return T;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const U=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let Z=U.currentNode;for(;Z;){const Ee=Z.shadowRoot;if(Ee){const He=Ee.getElementById(M)||Ee.querySelector(`[name="${M}"]`);if(He)return He}Z=U.nextNode()}}return null}(this.document,M);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(M){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=M)}}scrollToElement(M){const T=M.getBoundingClientRect(),U=T.left+this.window.pageXOffset,Z=T.top+this.window.pageYOffset,Ee=this.offset();this.window.scrollTo(U-Ee[0],Z-Ee[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const M=ji(this.window.history)||ji(Object.getPrototypeOf(this.window.history));return!(!M||!M.writable&&!M.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ji(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class Fr{}},4650:(Dt,be,x)=>{x.d(be,{$8M:()=>ia,$WT:()=>$r,$Z:()=>op,AFp:()=>Xm,AaK:()=>pe,AsE:()=>qh,BQk:()=>kd,CHM:()=>Hn,CRH:()=>Pm,CZH:()=>Kd,CqO:()=>Vp,D6c:()=>YI,EJc:()=>dI,EpF:()=>Up,F4k:()=>Bp,FYo:()=>B,FiY:()=>yt,GfV:()=>Ne,Gpc:()=>J,JOm:()=>zs,KtG:()=>ga,LFG:()=>ct,LSH:()=>pd,Lbi:()=>lI,Lck:()=>e0,MMx:()=>af,NdJ:()=>jh,OlP:()=>qn,Oqu:()=>Yh,P3R:()=>_d,PXZ:()=>TI,Q6J:()=>Uh,QGY:()=>$h,Qsj:()=>z,R0b:()=>pa,RDi:()=>Hl,Rgc:()=>od,SBq:()=>C,Sil:()=>fI,Suo:()=>Mm,TTD:()=>Co,TgZ:()=>Od,VKq:()=>ym,X6Q:()=>PI,XFs:()=>pt,Xpm:()=>Kn,Xts:()=>vi,Y36:()=>ac,YKP:()=>um,YNc:()=>Lp,Yjl:()=>xs,Yz7:()=>ft,Z0I:()=>pn,ZZ4:()=>Nf,_Bn:()=>lm,_UZ:()=>Vh,_Vd:()=>s,_c5:()=>KI,_uU:()=>gg,aQg:()=>xf,c2e:()=>uI,cJS:()=>Fn,cg1:()=>Qh,dDg:()=>DI,dqk:()=>Ot,eFA:()=>h_,eJc:()=>_f,ekj:()=>Kh,eoX:()=>l_,f3M:()=>Ct,g9A:()=>t_,h0i:()=>Ic,hGG:()=>ZI,hij:()=>Ud,iGM:()=>Rm,ifc:()=>ve,ip1:()=>Jm,jDz:()=>dm,kL8:()=>xg,lG2:()=>Fi,lqb:()=>rl,lri:()=>o_,n5z:()=>Ts,oAB:()=>Li,oxw:()=>zp,q4F:()=>qe,qLn:()=>Zs,qOj:()=>xh,qZA:()=>Nd,rWj:()=>a_,sBO:()=>OI,s_b:()=>Wd,soG:()=>Zd,tb:()=>c_,tp0:()=>vn,uIk:()=>Fh,vHH:()=>Se,vpe:()=>ll,wAp:()=>un,xp6:()=>Kf,ynx:()=>xd,z2F:()=>Yd,zSh:()=>jc,zs3:()=>Tu});var v=x(7579),H=x(727),F=x(9751),te=x(6451),oe=x(3099);function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function ge(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function pe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(pe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function _e(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Q=ce({__forward_ref__:ce});function J(e){return e.__forward_ref__=J,e.toString=function(){return pe(this())},e}function se(e){return Ke(e)?e():e}function Ke(e){return"function"==typeof e&&e.hasOwnProperty(Q)&&e.__forward_ref__===J}function Be(e){return e&&!!e.\u0275providers}const wt="https://g.co/ng/security#xss";class Se extends Error{constructor(t,n){super(We(t,n)),this.code=t}}function We(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function $e(e){return"string"==typeof e?e:null==e?"":String(e)}function tt(e,t){throw new Se(-201,!1)}function Je(e,t){null==e&&function nt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ft(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Fn(e){return{providers:e.providers||[],imports:e.imports||[]}}function _n(e){return Mn(e,Qn)||Mn(e,Mt)}function pn(e){return null!==_n(e)}function Mn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Un(e){return e&&(e.hasOwnProperty(bn)||e.hasOwnProperty(On))?e[bn]:null}const Qn=ce({\u0275prov:ce}),bn=ce({\u0275inj:ce}),Mt=ce({ngInjectableDef:ce}),On=ce({ngInjectorDef:ce});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let Zr;function En(e){const t=Zr;return Zr=e,t}function sr(e,t,n){const r=_n(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pt.Optional?null:void 0!==t?t:void tt(pe(e))}const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tn={},Gn="__NG_DI_FLAG__",or="ngTempTokenPath",gr="ngTokenPath",Ii=/\n/gm,In="\u0275",Dr="__source";let nn;function Ft(e){const t=nn;return nn=e,t}function Rr(e,t=pt.Default){if(void 0===nn)throw new Se(-203,!1);return null===nn?sr(e,void 0,t):nn.get(e,t&pt.Optional?null:void 0,t)}function ct(e,t=pt.Default){return(function cr(){return Zr}()||Rr)(se(e),t)}function Ct(e,t=pt.Default){return ct(e,xt(t))}function xt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function jt(e){const t=[];for(let n=0;n<e.length;n++){const r=se(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Se(900,!1);let a,c=pt.Default;for(let p=0;p<r.length;p++){const E=r[p],w=ar(E);"number"==typeof w?-1===w?a=E.token:c|=w:a=E}t.push(ct(a,c))}else t.push(ct(r))}return t}function Jt(e,t){return e[Gn]=t,e.prototype[Gn]=t,e}function ar(e){return e[Gn]}function ie(e){return{toString:e}.toString()}var Me=(()=>((Me=Me||{})[Me.OnPush=0]="OnPush",Me[Me.Default=1]="Default",Me))(),ve=(()=>{return(e=ve||(ve={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",ve;var e})();const _t={},ne=[],re=ce({\u0275cmp:ce}),W=ce({\u0275dir:ce}),ye=ce({\u0275pipe:ce}),ke=ce({\u0275mod:ce}),Ze=ce({\u0275fac:ce}),$t=ce({__NG_ELEMENT_ID__:ce});let yn=0;function Kn(e){return ie(()=>{const n=!0===e.standalone,r={},a={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Me.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||ne,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ve.Emulated,id:"c"+yn++,styles:e.styles||ne,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},c=e.dependencies,p=e.features;return a.inputs=Ln(e.inputs,r),a.outputs=Ln(e.outputs),p&&p.forEach(E=>E(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(ci).filter(Di):null,a.pipeDefs=c?()=>("function"==typeof c?c():c).map(Ir).filter(Di):null,a})}function ci(e){return gn(e)||lr(e)}function Di(e){return null!==e}function Li(e){return ie(()=>({type:e.type,bootstrap:e.bootstrap||ne,declarations:e.declarations||ne,imports:e.imports||ne,exports:e.exports||ne,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ln(e,t){if(null==e)return _t;const n={};for(const r in e)if(e.hasOwnProperty(r)){let a=e[r],c=a;Array.isArray(a)&&(c=a[1],a=a[0]),n[a]=r,t&&(t[a]=c)}return n}const Fi=Kn;function xs(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function gn(e){return e[re]||null}function lr(e){return e[W]||null}function Ir(e){return e[ye]||null}function $r(e){const t=gn(e)||lr(e)||Ir(e);return null!==t&&t.standalone}function ur(e,t){const n=e[ke]||null;if(!n&&!0===t)throw new Error(`Type ${pe(e)} does not have '\u0275mod' property.`);return n}const $n=0,Et=1,Xt=2,jn=3,mr=4,di=5,Vn=6,kr=7,Wn=8,ti=9,Mr=10,Qt=11,hi=12,cs=13,qs=14,ni=15,dr=16,hr=17,Ci=18,Cr=19,fi=20,ds=21,Pn=22,fe=1,ae=2,me=7,je=8,ut=9,bt=10;function Sn(e){return Array.isArray(e)&&"object"==typeof e[fe]}function an(e){return Array.isArray(e)&&!0===e[fe]}function mn(e){return 0!=(4&e.flags)}function dn(e){return e.componentOffset>-1}function Ht(e){return 1==(1&e.flags)}function tr(e){return null!==e.template}function Zn(e){return 0!=(256&e[Xt])}function ii(e,t){return e.hasOwnProperty(Ze)?e[Ze]:null}class Do{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Co(){return xr}function xr(e){return e.type.prototype.ngOnChanges&&(e.setInput=Vi),hn}function hn(){const e=ji(this),t=e?.current;if(t){const n=e.previous;if(n===_t)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Vi(e,t,n,r){const a=this.declaredInputs[n],c=ji(e)||function Lr(e,t){return e[$i]=t}(e,{previous:_t,current:null}),p=c.current||(c.current={}),E=c.previous,w=E[a];p[a]=new Do(w&&w.currentValue,t,E===_t),e[r]=t}Co.ngInherit=!0;const $i="__ngSimpleChanges__";function ji(e){return e[$i]||null}const Pr=function(e,t,n){};function fn(e){for(;Array.isArray(e);)e=e[$n];return e}function Fs(e,t){return fn(t[e])}function wr(e,t){return fn(t[e.index])}function Qi(e,t){return e.data[t]}function br(e,t){const n=t[e];return Sn(n)?n:n[$n]}function Ji(e){return 64==(64&e[Xt])}function fr(e,t){return null==t?null:e[t]}function Nn(e){e[Ci]=0}function Xi(e,t){e[di]+=t;let n=e,r=e[jn];for(;null!==r&&(1===t&&1===n[di]||-1===t&&0===n[di]);)r[di]+=t,n=r,r=r[jn]}const tn={lFrame:Bo(null),bindingsEnabled:!0};function Kt(){return tn.bindingsEnabled}function Qe(){return tn.lFrame.lView}function kt(){return tn.lFrame.tView}function Hn(e){return tn.lFrame.contextLView=e,e[Wn]}function ga(e){return tn.lFrame.contextLView=null,e}function yr(){let e=Fo();for(;null!==e&&64===e.type;)e=e.parent;return e}function Fo(){return tn.lFrame.currentTNode}function Or(e,t){const n=tn.lFrame;n.currentTNode=e,n.isParent=t}function Us(){return tn.lFrame.isParent}function eo(){tn.lFrame.isParent=!1}function bi(){return tn.lFrame.bindingIndex++}function Nr(e){const t=tn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ea(e,t){const n=tn.lFrame;n.bindingIndex=n.bindingRootIndex=e,ro(t)}function ro(e){tn.lFrame.currentDirectiveIndex=e}function io(){return tn.lFrame.currentQueryIndex}function _i(e){tn.lFrame.currentQueryIndex=e}function so(e){const t=e[Et];return 2===t.type?t.declTNode:1===t.type?e[Vn]:null}function Wi(e,t,n){if(n&pt.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||n&pt.Host||(a=so(c),null===a||(c=c[ni],10&a.type))););if(null===a)return!1;t=a,e=c}const r=tn.lFrame=Uo();return r.currentTNode=t,r.lView=e,!0}function zi(e){const t=Uo(),n=e[Et];tn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Uo(){const e=tn.lFrame,t=null===e?null:e.child;return null===t?Bo(e):t}function Bo(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ma(){const e=tn.lFrame;return tn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ka=ma;function To(){const e=ma();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zn(){return tn.lFrame.selectedIndex}function qr(e){tn.lFrame.selectedIndex=e}function Jn(){const e=tn.lFrame;return Qi(e.tView,e.selectedIndex)}function $o(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:E,ngAfterViewInit:w,ngAfterViewChecked:P,ngOnDestroy:V}=c;p&&(e.contentHooks||(e.contentHooks=[])).push(-n,p),E&&((e.contentHooks||(e.contentHooks=[])).push(n,E),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,E)),w&&(e.viewHooks||(e.viewHooks=[])).push(-n,w),P&&((e.viewHooks||(e.viewHooks=[])).push(n,P),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,P)),null!=V&&(e.destroyHooks||(e.destroyHooks=[])).push(n,V)}}function So(e,t,n){_a(e,t,3,n)}function Ki(e,t,n,r){(3&e[Xt])===n&&_a(e,t,n,r)}function js(e,t){let n=e[Xt];(3&n)===t&&(n&=2047,n+=1,e[Xt]=n)}function _a(e,t,n,r){const c=r??-1,p=t.length-1;let E=0;for(let w=void 0!==r?65535&e[Ci]:0;w<p;w++)if("number"==typeof t[w+1]){if(E=t[w],null!=r&&E>=r)break}else t[w]<0&&(e[Ci]+=65536),(E<c||-1==c)&&(D(e,n,t,w),e[Ci]=(4294901760&e[Ci])+w+2),w++}function D(e,t,n,r){const a=n[r]<0,c=n[r+1],E=e[a?-n[r]:n[r]];if(a){if(e[Xt]>>11<e[Ci]>>16&&(3&e[Xt])===t){e[Xt]+=2048,Pr(4,E,c);try{c.call(E)}finally{Pr(5,E,c)}}}else{Pr(4,E,c);try{c.call(E)}finally{Pr(5,E,c)}}}const M=-1;class T{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ln(e,t,n){let r=0;for(;r<n.length;){const a=n[r];if("number"==typeof a){if(0!==a)break;r++;const c=n[r++],p=n[r++],E=n[r++];e.setAttribute(t,p,E,c)}else{const c=a,p=n[++r];Zt(c)?e.setProperty(t,c,p):e.setAttribute(t,c,p),r++}}return r}function rr(e){return 3===e||4===e||6===e}function Zt(e){return 64===e.charCodeAt(0)}function ir(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?n=a:0===n||Tr(e,n,a,null,-1===n||2===n?t[++r]:null)}}return e}function Tr(e,t,n,r,a){let c=0,p=e.length;if(-1===t)p=-1;else for(;c<e.length;){const E=e[c++];if("number"==typeof E){if(E===t){p=-1;break}if(E>t){p=c-1;break}}}for(;c<e.length;){const E=e[c];if("number"==typeof E)break;if(E===n){if(null===r)return void(null!==a&&(e[c+1]=a));if(r===e[c+1])return void(e[c+2]=a)}c++,null!==r&&c++,null!==a&&c++}-1!==p&&(e.splice(p,0,t),c=p+1),e.splice(c++,0,n),null!==r&&e.splice(c++,0,r),null!==a&&e.splice(c++,0,a)}function Br(e){return e!==M}function Sr(e){return 32767&e}function Si(e,t){let n=function yi(e){return e>>16}(e),r=t;for(;n>0;)r=r[ni],n--;return r}let Zi=!0;function Ai(e){const t=Zi;return Zi=e,t}const ya=255,Cs=5;let ao=0;const Qr={};function ws(e,t){const n=ta(e,t);if(-1!==n)return n;const r=t[Et];r.firstCreatePass&&(e.injectorIndex=t.length,Ho(r.data,e),Ho(t,null),Ho(r.blueprint,null));const a=lo(e,t),c=e.injectorIndex;if(Br(a)){const p=Sr(a),E=Si(a,t),w=E[Et].data;for(let P=0;P<8;P++)t[c+P]=E[p+P]|w[p+P]}return t[c+8]=a,c}function Ho(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ta(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function lo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,a=t;for(;null!==a;){if(r=cl(a),null===r)return M;if(n++,a=a[ni],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return M}function Wo(e,t,n){!function jo(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($t)&&(r=n[$t]),null==r&&(r=n[$t]=ao++);const a=r&ya;t.data[e+(a>>Cs)]|=1<<a}(e,t,n)}function zo(e,t,n){if(n&pt.Optional||void 0!==e)return e;tt()}function Ao(e,t,n,r){if(n&pt.Optional&&void 0===r&&(r=null),!(n&(pt.Self|pt.Host))){const a=e[ti],c=En(void 0);try{return a?a.get(t,r,n&pt.Optional):sr(t,r,n&pt.Optional)}finally{En(c)}}return zo(r,0,n)}function bs(e,t,n,r=pt.Default,a){if(null!==e){if(1024&t[Xt]){const p=function Ol(e,t,n,r,a){let c=e,p=t;for(;null!==c&&null!==p&&1024&p[Xt]&&!(256&p[Xt]);){const E=uo(c,p,n,r|pt.Self,Qr);if(E!==Qr)return E;let w=c.parent;if(!w){const P=p[ds];if(P){const V=P.get(n,Qr,r);if(V!==Qr)return V}w=cl(p),p=p[ni]}c=w}return a}(e,t,n,r,Qr);if(p!==Qr)return p}const c=uo(e,t,n,r,Qr);if(c!==Qr)return c}return Ao(t,n,r,a)}function uo(e,t,n,r,a){const c=function va(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty($t)?e[$t]:void 0;return"number"==typeof t?t>=0?t&ya:rs:t}(n);if("function"==typeof c){if(!Wi(t,e,r))return r&pt.Host?zo(a,0,r):Ao(t,n,r,a);try{const p=c(r);if(null!=p||r&pt.Optional)return p;tt()}finally{ka()}}else if("number"==typeof c){let p=null,E=ta(e,t),w=M,P=r&pt.Host?t[dr][Vn]:null;for((-1===E||r&pt.SkipSelf)&&(w=-1===E?lo(e,t):t[E+8],w!==M&&ra(r,!1)?(p=t[Et],E=Sr(w),t=Si(w,t)):E=-1);-1!==E;){const V=t[Et];if(Ar(c,E,V.data)){const G=na(E,t,n,p,r,P);if(G!==Qr)return G}w=t[E+8],w!==M&&ra(r,t[Et].data[E+8]===P)&&Ar(c,E,t)?(p=V,E=Sr(w),t=Si(w,t)):E=-1}}return a}function na(e,t,n,r,a,c){const p=t[Et],E=p.data[e+8],V=Ri(E,p,n,null==r?dn(E)&&Zi:r!=p&&0!=(3&E.type),a&pt.Host&&c===E);return null!==V?Mi(t,p,V,E):Qr}function Ri(e,t,n,r,a){const c=e.providerIndexes,p=t.data,E=1048575&c,w=e.directiveStart,V=c>>20,ue=a?E+V:e.directiveEnd;for(let De=r?E:E+V;De<ue;De++){const Ge=p[De];if(De<w&&n===Ge||De>=w&&Ge.type===n)return De}if(a){const De=p[w];if(De&&tr(De)&&De.type===n)return w}return null}function Mi(e,t,n,r){let a=e[n];const c=t.data;if(function U(e){return e instanceof T}(a)){const p=a;p.resolving&&function Fe(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Se(-200,`Circular dependency in DI detected for ${e}${n}`)}(function rt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$e(e)}(c[n]));const E=Ai(p.canSeeViewProviders);p.resolving=!0;const w=p.injectImpl?En(p.injectImpl):null;Wi(e,r,pt.Default);try{a=e[n]=p.factory(void 0,c,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ts(e,t,n){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(r){const p=xr(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,p),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,p)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==w&&En(w),Ai(E),p.resolving=!1,ka()}}return a}function Ar(e,t,n){return!!(n[t+(e>>Cs)]&1<<e)}function ra(e,t){return!(e&pt.Self||e&pt.Host&&t)}class ns{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return bs(this._tNode,this._lView,t,xt(r),n)}}function rs(){return new ns(yr(),Qe())}function Ts(e){return ie(()=>{const t=e.prototype.constructor,n=t[Ze]||Ea(t),r=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==r;){const c=a[Ze]||Ea(a);if(c&&c!==n)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function Ea(e){return Ke(e)?()=>{const t=Ea(se(e));return t&&t()}:ii(e)}function cl(e){const t=e[Et],n=t.type;return 2===n?t.declTNode:1===n?e[Vn]:null}function ia(e){return function La(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let a=0;for(;a<r;){const c=n[a];if(rr(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<r&&"string"==typeof n[a];)a++;else{if(c===t)return n[a+1];a+=2}}}return null}(yr(),e)}const is="__parameters__";function Ro(e,t,n){return ie(()=>{const r=function co(e){return function(...n){if(e){const r=e(...n);for(const a in r)this[a]=r[a]}}}(t);function a(...c){if(this instanceof a)return r.apply(this,c),this;const p=new a(...c);return E.annotation=p,E;function E(w,P,V){const G=w.hasOwnProperty(is)?w[is]:Object.defineProperty(w,is,{value:[]})[is];for(;G.length<=V;)G.push(null);return(G[V]=G[V]||[]).push(p),w}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class qn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ft({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Hs(e,t){e.forEach(n=>Array.isArray(n)?Hs(n,t):t(n))}function fo(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ms(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Jr(e,t,n){let r=Oi(e,t);return r>=0?e[1|r]=n:(r=~r,function Pi(e,t,n,r){let a=e.length;if(a==t)e.push(n,r);else if(1===a)e.push(r,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Ps(e,t){const n=Oi(e,t);if(n>=0)return e[1|n]}function Oi(e,t){return function Mo(e,t,n){let r=0,a=e.length>>n;for(;a!==r;){const c=r+(a-r>>1),p=e[c<<n];if(t===p)return c<<n;p>t?a=c:r=c+1}return~(a<<n)}(e,t,1)}const yt=Jt(Ro("Optional"),8),vn=Jt(Ro("SkipSelf"),4);var zs=(()=>((zs=zs||{})[zs.Important=1]="Important",zs[zs.DashCase=2]="DashCase",zs))();const Gs=new Map;let fl=0;const Fl="__ngContext__";function zr(e,t){Sn(t)?(e[Fl]=t[fi],function Vu(e){Gs.set(e[fi],e)}(t)):e[Fl]=t}let qa;function au(e,t){return qa(e,t)}function aa(e){const t=e[jn];return an(t)?t[jn]:t}function lu(e){return Ul(e[cs])}function uu(e){return Ul(e[mr])}function Ul(e){for(;null!==e&&!an(e);)e=e[mr];return e}function Sa(e,t,n,r,a){if(null!=r){let c,p=!1;an(r)?c=r:Sn(r)&&(p=!0,r=r[$n]);const E=fn(r);0===e&&null!==n?null==a?Vl(t,n,E):Yo(t,n,E,a||null,!0):1===e&&null!==n?Yo(t,n,E,a||null,!0):2===e?function ls(e,t,n){const r=Cl(e,t);r&&function Dl(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,E,p):3===e&&t.destroyNode(E),null!=c&&function Qu(e,t,n,r,a){const c=n[me];c!==fn(n)&&Sa(t,e,r,c,a);for(let E=bt;E<n.length;E++){const w=n[E];Oo(w[Et],w,e,t,r,c)}}(t,e,c,n,a)}}function yl(e,t,n){return e.createElement(t,n)}function El(e,t){const n=e[ut],r=n.indexOf(t),a=t[jn];512&t[Xt]&&(t[Xt]&=-513,Xi(a,-1)),n.splice(r,1)}function pu(e,t){if(e.length<=bt)return;const n=bt+t,r=e[n];if(r){const a=r[hr];null!==a&&a!==e&&El(a,r),t>0&&(e[n-1][mr]=r[mr]);const c=Ms(e,bt+t);!function du(e,t){Oo(e,t,t[Qt],2,null,null),t[$n]=null,t[Vn]=null}(r[Et],r);const p=c[Cr];null!==p&&p.detachView(c[Et]),r[jn]=null,r[mr]=null,r[Xt]&=-65}return r}function Po(e,t){if(!(128&t[Xt])){const n=t[Qt];n.destroyNode&&Oo(e,t,n,3,null,null),function la(e){let t=e[cs];if(!t)return gu(e[Et],e);for(;t;){let n=null;if(Sn(t))n=t[cs];else{const r=t[bt];r&&(n=r)}if(!n){for(;t&&!t[mr]&&t!==e;)Sn(t)&&gu(t[Et],t),t=t[jn];null===t&&(t=e),Sn(t)&&gu(t[Et],t),n=t&&t[mr]}t=n}}(t)}}function gu(e,t){if(!(128&t[Xt])){t[Xt]&=-65,t[Xt]|=128,function Gu(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const a=t[n[r]];if(!(a instanceof T)){const c=n[r+1];if(Array.isArray(c))for(let p=0;p<c.length;p+=2){const E=a[c[p]],w=c[p+1];Pr(4,E,w);try{w.call(E)}finally{Pr(5,E,w)}}else{Pr(4,a,c);try{c.call(a)}finally{Pr(5,a,c)}}}}}(e,t),function zu(e,t){const n=e.cleanup,r=t[kr];let a=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const p=n[c+3];p>=0?r[a=p]():r[a=-p].unsubscribe(),c+=2}else{const p=r[a=n[c+1]];n[c].call(p)}if(null!==r){for(let c=a+1;c<r.length;c++)(0,r[c])();t[kr]=null}}(e,t),1===t[Et].type&&t[Qt].destroy();const n=t[hr];if(null!==n&&an(t[jn])){n!==t[jn]&&El(n,t);const r=t[Cr];null!==r&&r.detachView(e)}!function pl(e){Gs.delete(e[fi])}(t)}}function Bl(e,t,n){return function Il(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[$n];{const{componentOffset:a}=r;if(a>-1){const{encapsulation:c}=e.data[r.directiveStart+a];if(c===ve.None||c===ve.Emulated)return null}return wr(r,n)}}(e,t.parent,n)}function Yo(e,t,n,r,a){e.insertBefore(t,n,r,a)}function Vl(e,t,n){e.appendChild(t,n)}function Ku(e,t,n,r,a){null!==r?Yo(e,t,n,r,a):Vl(e,t,n)}function Cl(e,t){return e.parentNode(t)}let Ja,el,Os,_u=function mu(e,t,n){return 40&e.type?wr(e,n):null};function Xr(e,t,n,r){const a=Bl(e,r,t),c=t[Qt],E=function qu(e,t,n){return _u(e,t,n)}(r.parent||t[Vn],r,t);if(null!=a)if(Array.isArray(n))for(let w=0;w<n.length;w++)Ku(c,a,n[w],E,!1);else Ku(c,a,n,E,!1);void 0!==Ja&&Ja(c,r,t,n,a)}function ua(e,t){if(null!==t){const n=t.type;if(3&n)return wr(t,e);if(4&n)return ca(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ua(e,r);{const a=e[t.index];return an(a)?ca(-1,a):fn(a)}}if(32&n)return au(t,e)()||fn(e[t.index]);{const r=qo(e,t);return null!==r?Array.isArray(r)?r[0]:ua(aa(e[dr]),r):ua(e,t.next)}}return null}function qo(e,t){return null!==t?e[dr][Vn].projection[t.projection]:null}function ca(e,t){const n=bt+e+1;if(n<t.length){const r=t[n],a=r[Et].firstChild;if(null!==a)return ua(r,a)}return t[me]}function Vr(e,t,n,r,a,c,p){for(;null!=n;){const E=r[n.index],w=n.type;if(p&&0===t&&(E&&zr(fn(E),r),n.flags|=2),32!=(32&n.flags))if(8&w)Vr(e,t,n.child,r,a,c,!1),Sa(t,e,a,E,c);else if(32&w){const P=au(n,r);let V;for(;V=P();)Sa(t,e,a,V,c);Sa(t,e,a,E,c)}else 16&w?da(e,t,r,n,a,c):Sa(t,e,a,E,c);n=p?n.projectionNext:n.next}}function Oo(e,t,n,r,a,c){Vr(n,r,e.firstChild,t,a,c,!1)}function da(e,t,n,r,a,c){const p=n[dr],w=p[Vn].projection[r.projection];if(Array.isArray(w))for(let P=0;P<w.length;P++)Sa(t,e,a,w[P],c);else Vr(e,t,w,p[jn],a,c,!0)}function bl(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ju(e,t,n){const{mergedAttrs:r,classes:a,styles:c}=n;null!==r&&ln(e,t,r),null!==a&&bl(e,t,a),null!==c&&function Oc(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function Hl(e){el=e}function Xu(e){return function ha(){if(void 0===Os&&(Os=null,Ot.trustedTypes))try{Os=Ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Os}()?.createScriptURL(e)||e}class zl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wt})`}}function l(e){return e instanceof zl?e.changingThisBreaksApplicationSecurity:e}function d(e,t){const n=function y(e){return e instanceof zl&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${wt})`)}return n===t}const mo=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ai=(()=>((ai=ai||{})[ai.NONE=0]="NONE",ai[ai.HTML=1]="HTML",ai[ai.STYLE=2]="STYLE",ai[ai.SCRIPT=3]="SCRIPT",ai[ai.URL=4]="URL",ai[ai.RESOURCE_URL=5]="RESOURCE_URL",ai))();function pd(e){const t=No();return t?t.sanitize(ai.URL,e)||"":d(e,"URL")?l(e):function tl(e){return(e=String(e)).match(mo)?e:"unsafe:"+e}($e(e))}function gd(e){const t=No();if(t)return Xu(t.sanitize(ai.RESOURCE_URL,e)||"");if(d(e,"ResourceURL"))return Xu(l(e));throw new Se(904,!1)}function _d(e,t,n){return function oh(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?gd:pd}(t,n)(e)}function No(){const e=Qe();return e&&e[hi]}const vi=new qn("ENVIRONMENT_INITIALIZER"),Ks=new qn("INJECTOR",-1),Yl=new qn("INJECTOR_DEF_TYPES");class yd{get(t,n=Tn){if(n===Tn){const r=new Error(`NullInjectorError: No provider for ${pe(t)}!`);throw r.name="NullInjectorError",r}return n}}function ah(...e){return{\u0275providers:vd(0,e),\u0275fromNgModule:!0}}function vd(e,...t){const n=[],r=new Set;let a;return Hs(t,c=>{const p=c;Uc(p,n,[],r)&&(a||(a=[]),a.push(p))}),void 0!==a&&Ra(a,n),n}function Ra(e,t){for(let n=0;n<e.length;n++){const{providers:a}=e[n];Bc(a,c=>{t.push(c)})}}function Uc(e,t,n,r){if(!(e=se(e)))return!1;let a=null,c=Un(e);const p=!c&&gn(e);if(c||p){if(p&&!p.standalone)return!1;a=e}else{const w=e.ngModule;if(c=Un(w),!c)return!1;a=w}const E=r.has(a);if(p){if(E)return!1;if(r.add(a),p.dependencies){const w="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const P of w)Uc(P,t,n,r)}}else{if(!c)return!1;{if(null!=c.imports&&!E){let P;r.add(a);try{Hs(c.imports,V=>{Uc(V,t,n,r)&&(P||(P=[]),P.push(V))})}finally{}void 0!==P&&Ra(P,t)}if(!E){const P=ii(a)||(()=>new a);t.push({provide:a,useFactory:P,deps:ne},{provide:Yl,useValue:a,multi:!0},{provide:vi,useValue:()=>ct(a),multi:!0})}const w=c.providers;null==w||E||Bc(w,V=>{t.push(V)})}}return a!==e&&void 0!==e.providers}function Bc(e,t){for(let n of e)Be(n)&&(n=n.\u0275providers),Array.isArray(n)?Bc(n,t):t(n)}const lh=ce({provide:String,useValue:ce});function ic(e){return null!==e&&"object"==typeof e&&lh in e}function nl(e){return"function"==typeof e}const jc=new qn("Set Injector scope."),wu={},uh={};let Hc;function bu(){return void 0===Hc&&(Hc=new yd),Hc}class rl{}class Wc extends rl{get destroyed(){return this._destroyed}constructor(t,n,r,a){super(),this.parent=n,this.source=r,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kc(t,p=>this.processProvider(p)),this.records.set(Ks,ql(void 0,this)),a.has("environment")&&this.records.set(rl,ql(void 0,this));const c=this.records.get(jc);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(Yl.multi,ne,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Ft(this),r=En(void 0);try{return t()}finally{Ft(n),En(r)}}get(t,n=Tn,r=pt.Default){this.assertNotDestroyed(),r=xt(r);const a=Ft(this),c=En(void 0);try{if(!(r&pt.SkipSelf)){let E=this.records.get(t);if(void 0===E){const w=function fh(e){return"function"==typeof e||"object"==typeof e&&e instanceof qn}(t)&&_n(t);E=w&&this.injectableDefInScope(w)?ql(zc(t),wu):null,this.records.set(t,E)}if(null!=E)return this.hydrate(t,E)}return(r&pt.Self?bu():this.parent).get(t,n=r&pt.Optional&&n===Tn?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[or]=p[or]||[]).unshift(pe(t)),a)throw p;return function X(e,t,n,r){const a=e[or];throw t[Dr]&&a.unshift(t[Dr]),e.message=function q(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==In?e.slice(2):e;let a=pe(t);if(Array.isArray(t))a=t.map(pe).join(" -> ");else if("object"==typeof t){let c=[];for(let p in t)if(t.hasOwnProperty(p)){let E=t[p];c.push(p+":"+("string"==typeof E?JSON.stringify(E):pe(E)))}a=`{${c.join(", ")}}`}return`${n}${r?"("+r+")":""}[${a}]: ${e.replace(Ii,"\n  ")}`}("\n"+e.message,a,n,r),e[gr]=a,e[or]=null,e}(p,t,"R3InjectorError",this.source)}throw p}finally{En(c),Ft(a)}}resolveInjectorInitializers(){const t=Ft(this),n=En(void 0);try{const r=this.get(vi.multi,ne,pt.Self);for(const a of r)a()}finally{Ft(t),En(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(pe(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(t){let n=nl(t=se(t))?t:se(t&&t.provide);const r=function dh(e){return ic(e)?ql(void 0,e.useValue):ql(Gc(e),wu)}(t);if(nl(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=ql(void 0,wu,!0),a.factory=()=>jt(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===wu&&(n.value=uh,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Ed(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=se(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function zc(e){const t=_n(e),n=null!==t?t.factory:ii(e);if(null!==n)return n;if(e instanceof qn)throw new Se(204,!1);if(e instanceof Function)return function ch(e){const t=e.length;if(t>0)throw function Ws(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Se(204,!1);const n=function er(e){const t=e&&(e[Qn]||e[Mt]);return t?(function vt(e){if(e.hasOwnProperty("name"))return e.name;(""+e).match(/^function\s*([^\s(]+)/)}(e),t):null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Se(204,!1)}function Gc(e,t,n){let r;if(nl(e)){const a=se(e);return ii(a)||zc(a)}if(ic(e))r=()=>se(e.useValue);else if(function $c(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...jt(e.deps||[]));else if(function Vc(e){return!(!e||!e.useExisting)}(e))r=()=>ct(se(e.useExisting));else{const a=se(e&&(e.useClass||e.provide));if(!function hh(e){return!!e.deps}(e))return ii(a)||zc(a);r=()=>new a(...jt(e.deps))}return r}function ql(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Kc(e,t){for(const n of e)Array.isArray(n)?Kc(n,t):n&&Be(n)?Kc(n.\u0275providers,t):t(n)}class ph{}class Id{}class i{resolveComponentFactory(t){throw function gh(e){const t=Error(`No component factory found for ${pe(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let s=(()=>{class e{}return e.NULL=new i,e})();function u(){return m(yr(),Qe())}function m(e,t){return new C(wr(e,t))}let C=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=u,e})();function R(e){return e instanceof C?e.nativeElement:e}class B{}let z=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function ee(){const e=Qe(),n=br(yr().index,e);return(Sn(n)?n:e)[Qt]}(),e})(),Ae=(()=>{class e{}return e.\u0275prov=ft({token:e,providedIn:"root",factory:()=>null}),e})();class Ne{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const qe=new Ne("15.2.2"),At={},Yt="ngOriginalError";function li(e){return e[Yt]}class Zs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&li(t);for(;n&&li(n);)n=li(n);return n||null}}function Rl(e){return e instanceof Function?e():e}function jf(e,t,n){let r=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===r||e.charCodeAt(a+c)<=32)return a}n=a+1}}const Hf="ng-template";function k_(e,t,n){let r=0;for(;r<e.length;){let a=e[r++];if(n&&"class"===a){if(a=e[r],-1!==jf(a.toLowerCase(),t,0))return!0}else if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function Wf(e){return 4===e.type&&e.value!==Hf}function L_(e,t,n){return t===(4!==e.type||n?e.value:Hf)}function F_(e,t,n){let r=4;const a=e.attrs||[],c=function V_(e){for(let t=0;t<e.length;t++)if(rr(e[t]))return t;return e.length}(a);let p=!1;for(let E=0;E<t.length;E++){const w=t[E];if("number"!=typeof w){if(!p)if(4&r){if(r=2|1&r,""!==w&&!L_(e,w,n)||""===w&&1===t.length){if(Pa(r))return!1;p=!0}}else{const P=8&r?w:t[++E];if(8&r&&null!==e.attrs){if(!k_(e.attrs,P,n)){if(Pa(r))return!1;p=!0}continue}const G=U_(8&r?"class":w,a,Wf(e),n);if(-1===G){if(Pa(r))return!1;p=!0;continue}if(""!==P){let ue;ue=G>c?"":a[G+1].toLowerCase();const De=8&r?ue:null;if(De&&-1!==jf(De,P,0)||2&r&&P!==ue){if(Pa(r))return!1;p=!0}}}}else{if(!p&&!Pa(r)&&!Pa(w))return!1;if(p&&Pa(w))continue;p=!1,r=w|1&r}}return Pa(r)||p}function Pa(e){return 0==(1&e)}function U_(e,t,n,r){if(null===t)return-1;let a=0;if(r||!n){let c=!1;for(;a<t.length;){const p=t[a];if(p===e)return a;if(3===p||6===p)c=!0;else{if(1===p||2===p){let E=t[++a];for(;"string"==typeof E;)E=t[++a];continue}if(4===p)break;if(0===p){a+=4;continue}}a+=c?1:2}return-1}return function $_(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function zf(e,t,n=!1){for(let r=0;r<t.length;r++)if(F_(e,t[r],n))return!0;return!1}function Gf(e,t){return e?":not("+t.trim()+")":t}function H_(e){let t=e[0],n=1,r=2,a="",c=!1;for(;n<e.length;){let p=e[n];if("string"==typeof p)if(2&r){const E=e[++n];a+="["+p+(E.length>0?'="'+E+'"':"")+"]"}else 8&r?a+="."+p:4&r&&(a+=" "+p);else""!==a&&!Pa(p)&&(t+=Gf(c,a),a=""),r=p,c=c||!Pa(r);n++}return""!==a&&(t+=Gf(c,a)),t}const An={};function Kf(e){Zf(kt(),Qe(),zn()+e,!1)}function Zf(e,t,n,r){if(!r)if(3==(3&t[Xt])){const c=e.preOrderCheckHooks;null!==c&&So(t,c,n)}else{const c=e.preOrderHooks;null!==c&&Ki(t,c,0,n)}qr(n)}function Jf(e,t=null,n=null,r){const a=Xf(e,t,n,r);return a.resolveInjectorInitializers(),a}function Xf(e,t=null,n=null,r,a=new Set){const c=[n||ne,ah(e)];return r=r||("object"==typeof e?void 0:pe(e)),new Wc(c,t||bu(),r||null,a)}let Tu=(()=>{class e{static create(n,r){if(Array.isArray(n))return Jf({name:""},r,n,"");{const a=n.name??"";return Jf({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=Tn,e.NULL=new yd,e.\u0275prov=ft({token:e,providedIn:"any",factory:()=>ct(Ks)}),e.__NG_ELEMENT_ID__=-1,e})();function ac(e,t=pt.Default){const n=Qe();return null===n?ct(e,t):bs(yr(),n,se(e),t)}function op(){throw new Error("invalid")}function ap(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const c=n[r+1];if(-1!==c){const p=e.data[c];_i(n[r]),p.contentQueries(2,t[c],c)}}}function wd(e,t,n,r,a,c,p,E,w,P,V){const G=t.blueprint.slice();return G[$n]=a,G[Xt]=76|r,(null!==V||e&&1024&e[Xt])&&(G[Xt]|=1024),Nn(G),G[jn]=G[ni]=e,G[Wn]=n,G[Mr]=p||e&&e[Mr],G[Qt]=E||e&&e[Qt],G[hi]=w||e&&e[hi]||null,G[ti]=P||e&&e[ti]||null,G[Vn]=c,G[fi]=function ru(){return fl++}(),G[ds]=V,G[dr]=2==t.type?e[dr]:G,G}function lc(e,t,n,r,a){let c=e.data[t];if(null===c)c=function Ih(e,t,n,r,a){const c=Fo(),p=Us(),w=e.data[t]=function gy(e,t,n,r,a,c){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?c:c&&c.parent,n,t,r,a);return null===e.firstChild&&(e.firstChild=w),null!==c&&(p?null==c.child&&null!==w.parent&&(c.child=w):null===c.next&&(c.next=w,w.prev=c)),w}(e,t,n,r,a),function Xo(){return tn.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=r,c.attrs=a;const p=function Hi(){const e=tn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===p?-1:p.injectorIndex}return Or(c,!0),c}function Zc(e,t,n,r){if(0===n)return-1;const a=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return a}function Dh(e,t,n){zi(t);try{const r=e.viewQuery;null!==r&&Oh(1,r,n);const a=e.template;null!==a&&lp(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ap(e,t),e.staticViewQueries&&Oh(2,e.viewQuery,n);const c=e.components;null!==c&&function hy(e,t){for(let n=0;n<t.length;n++)xy(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Xt]&=-5,To()}}function bd(e,t,n,r){const a=t[Xt];if(128!=(128&a)){zi(t);try{Nn(t),function to(e){return tn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&lp(e,t,n,2,r);const p=3==(3&a);if(p){const P=e.preOrderCheckHooks;null!==P&&So(t,P,null)}else{const P=e.preOrderHooks;null!==P&&Ki(t,P,0,null),js(t,0)}if(function Oy(e){for(let t=lu(e);null!==t;t=uu(t)){if(!t[ae])continue;const n=t[ut];for(let r=0;r<n.length;r++){const a=n[r];512&a[Xt]||Xi(a[jn],1),a[Xt]|=512}}}(t),function Py(e){for(let t=lu(e);null!==t;t=uu(t))for(let n=bt;n<t.length;n++){const r=t[n],a=r[Et];Ji(r)&&bd(a,r,a.template,r[Wn])}}(t),null!==e.contentQueries&&ap(e,t),p){const P=e.contentCheckHooks;null!==P&&So(t,P)}else{const P=e.contentHooks;null!==P&&Ki(t,P,1),js(t,1)}!function cy(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const a=n[r];if(a<0)qr(~a);else{const c=a,p=n[++r],E=n[++r];ea(p,c),E(2,t[c])}}}finally{qr(-1)}}(e,t);const E=e.components;null!==E&&function dy(e,t){for(let n=0;n<t.length;n++)Ny(e,t[n])}(t,E);const w=e.viewQuery;if(null!==w&&Oh(2,w,r),p){const P=e.viewCheckHooks;null!==P&&So(t,P)}else{const P=e.viewHooks;null!==P&&Ki(t,P,2),js(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Xt]&=-41,512&t[Xt]&&(t[Xt]&=-513,Xi(t[jn],-1))}finally{To()}}}function lp(e,t,n,r,a){const c=zn(),p=2&r;try{qr(-1),p&&t.length>Pn&&Zf(e,t,Pn,!1),Pr(p?2:0,a),n(r,a)}finally{qr(c),Pr(p?3:1,a)}}function Ch(e,t,n){if(mn(t)){const a=t.directiveEnd;for(let c=t.directiveStart;c<a;c++){const p=e.data[c];p.contentQueries&&p.contentQueries(1,n[c],c)}}}function wh(e,t,n){Kt()&&(function Iy(e,t,n,r){const a=n.directiveStart,c=n.directiveEnd;dn(n)&&function Ay(e,t,n){const r=wr(t,e),a=up(n),c=e[Mr],p=Td(e,wd(e,a,null,n.onPush?32:16,r,t,c,c.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||ws(n,t),zr(r,t);const p=n.initialInputs;for(let E=a;E<c;E++){const w=e.data[E],P=Mi(t,e,E,n);zr(P,t),null!==p&&Ry(0,E-a,P,w,0,p),tr(w)&&(br(n.index,t)[Wn]=Mi(t,e,E,n))}}(e,t,n,wr(n,t)),64==(64&n.flags)&&gp(e,t,n))}function bh(e,t,n=wr){const r=t.localNames;if(null!==r){let a=t.index+1;for(let c=0;c<r.length;c+=2){const p=r[c+1],E=-1===p?n(t,e):e[p];e[a++]=E}}}function up(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Th(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Th(e,t,n,r,a,c,p,E,w,P){const V=Pn+r,G=V+a,ue=function fy(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:An);return n}(V,G),De="function"==typeof P?P():P;return ue[Et]={type:e,blueprint:ue,template:n,queries:null,viewQuery:E,declTNode:t,data:ue.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:w,consts:De,incompleteFirstPass:!1}}function cp(e,t,n,r){const a=_p(t);null===n?a.push(r):(a.push(n),e.firstCreatePass&&yp(e).push(r,a.length-1))}function dp(e,t,n,r){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const c=e[a];null===r?hp(n,t,a,c):r.hasOwnProperty(a)&&hp(n,t,r[a],c)}return n}function hp(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function fp(e,t){const n=br(t,e);16&n[Xt]||(n[Xt]|=32)}function Sh(e,t,n,r){if(Kt()){const a=null===r?null:{"":-1},c=function Cy(e,t){const n=e.directiveRegistry;let r=null,a=null;if(n)for(let c=0;c<n.length;c++){const p=n[c];if(zf(t,p.selectors,!1))if(r||(r=[]),tr(p))if(null!==p.findHostDirectiveDefs){const E=[];a=a||new Map,p.findHostDirectiveDefs(p,E,a),r.unshift(...E,p),Ah(e,t,E.length)}else r.unshift(p),Ah(e,t,0);else a=a||new Map,p.findHostDirectiveDefs?.(p,r,a),r.push(p)}return null===r?null:[r,a]}(e,n);let p,E;null===c?p=E=null:[p,E]=c,null!==p&&pp(e,t,n,p,a,E),a&&function wy(e,t,n){if(t){const r=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=n[t[a+1]];if(null==c)throw new Se(-301,!1);r.push(t[a],c)}}}(n,r,a)}n.mergedAttrs=ir(n.mergedAttrs,n.attrs)}function pp(e,t,n,r,a,c){for(let P=0;P<r.length;P++)Wo(ws(n,t),e,r[P].type);!function Ty(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let P=0;P<r.length;P++){const V=r[P];V.providersResolver&&V.providersResolver(V)}let p=!1,E=!1,w=Zc(e,t,r.length,null);for(let P=0;P<r.length;P++){const V=r[P];n.mergedAttrs=ir(n.mergedAttrs,V.hostAttrs),Sy(e,n,t,w,V),by(w,V,a),null!==V.contentQueries&&(n.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(n.flags|=64);const G=V.type.prototype;!p&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),p=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),E=!0),w++}!function my(e,t,n){const a=t.directiveEnd,c=e.data,p=t.attrs,E=[];let w=null,P=null;for(let V=t.directiveStart;V<a;V++){const G=c[V],ue=n?n.get(G):null,Ge=ue?ue.outputs:null;w=dp(G.inputs,V,w,ue?ue.inputs:null),P=dp(G.outputs,V,P,Ge);const gt=null===w||null===p||Wf(t)?null:My(w,V,p);E.push(gt)}null!==w&&(w.hasOwnProperty("class")&&(t.flags|=8),w.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=E,t.inputs=w,t.outputs=P}(e,n,c)}function gp(e,t,n){const r=n.directiveStart,a=n.directiveEnd,c=n.index,p=function Is(){return tn.lFrame.currentDirectiveIndex}();try{qr(c);for(let E=r;E<a;E++){const w=e.data[E],P=t[E];ro(E),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Dy(w,P)}}finally{qr(-1),ro(p)}}function Dy(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ah(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function by(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;tr(t)&&(n[""]=e)}}function Sy(e,t,n,r,a){e.data[r]=a;const c=a.factory||(a.factory=ii(a.type)),p=new T(c,tr(a),ac);e.blueprint[r]=p,n[r]=p,function vy(e,t,n,r,a){const c=a.hostBindings;if(c){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const E=~t.index;(function Ey(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(p)!=E&&p.push(E),p.push(n,r,c)}}(e,t,r,Zc(e,n,a.hostVars,An),a)}function il(e,t,n,r,a,c){const p=wr(e,t);!function Rh(e,t,n,r,a,c,p){if(null==c)e.removeAttribute(t,a,n);else{const E=null==p?$e(c):p(c,r||"",a);e.setAttribute(t,a,E,n)}}(t[Qt],p,c,e.value,n,r,a)}function Ry(e,t,n,r,a,c){const p=c[t];if(null!==p){const E=r.setInput;for(let w=0;w<p.length;){const P=p[w++],V=p[w++],G=p[w++];null!==E?r.setInput(n,G,P,V):n[V]=G}}}function My(e,t,n){let r=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===r&&(r=[]);const p=e[c];for(let E=0;E<p.length;E+=2)if(p[E]===t){r.push(c,p[E+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return r}function mp(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function Ny(e,t){const n=br(t,e);if(Ji(n)){const r=n[Et];48&n[Xt]?bd(r,n,r.template,n[Wn]):n[di]>0&&Mh(n)}}function Mh(e){for(let r=lu(e);null!==r;r=uu(r))for(let a=bt;a<r.length;a++){const c=r[a];if(Ji(c))if(512&c[Xt]){const p=c[Et];bd(p,c,p.template,c[Wn])}else c[di]>0&&Mh(c)}const n=e[Et].components;if(null!==n)for(let r=0;r<n.length;r++){const a=br(n[r],e);Ji(a)&&a[di]>0&&Mh(a)}}function xy(e,t){const n=br(t,e),r=n[Et];(function ky(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Dh(r,n,n[Wn])}function Td(e,t){return e[cs]?e[qs][mr]=t:e[cs]=t,e[qs]=t,t}function Ph(e){for(;e;){e[Xt]|=32;const t=aa(e);if(Zn(e)&&!t)return e;e=t}return null}function Sd(e,t,n,r=!0){const a=t[Mr];a.begin&&a.begin();try{bd(e,t,e.template,n)}catch(p){throw r&&Ep(t,p),p}finally{a.end&&a.end()}}function Oh(e,t,n){_i(0),t(e,n)}function _p(e){return e[kr]||(e[kr]=[])}function yp(e){return e.cleanup||(e.cleanup=[])}function Ep(e,t){const n=e[ti],r=n?n.get(Zs,null):null;r&&r.handleError(t)}function Nh(e,t,n,r,a){for(let c=0;c<n.length;){const p=n[c++],E=n[c++],w=t[p],P=e.data[p];null!==P.setInput?P.setInput(w,a,r,E):w[E]=a}}function Ml(e,t,n){const r=Fs(t,e);!function Wu(e,t,n){e.setValue(t,n)}(e[Qt],r,n)}function Ad(e,t,n){let r=n?e.styles:null,a=n?e.classes:null,c=0;if(null!==t)for(let p=0;p<t.length;p++){const E=t[p];"number"==typeof E?c=E:1==c?a=_e(a,E):2==c&&(r=_e(r,E+": "+t[++p]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=a:e.classesWithoutHost=a}function Rd(e,t,n,r,a=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&r.push(fn(c)),an(c))for(let E=bt;E<c.length;E++){const w=c[E],P=w[Et].firstChild;null!==P&&Rd(w[Et],w,P,r)}const p=n.type;if(8&p)Rd(e,t,n.child,r);else if(32&p){const E=au(n,t);let w;for(;w=E();)r.push(w)}else if(16&p){const E=qo(t,n);if(Array.isArray(E))r.push(...E);else{const w=aa(t[dr]);Rd(w[Et],w,E,r,!0)}}n=a?n.projectionNext:n.next}return r}class Yc{get rootNodes(){const t=this._lView,n=t[Et];return Rd(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wn]}set context(t){this._lView[Wn]=t}get destroyed(){return 128==(128&this._lView[Xt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[jn];if(an(t)){const n=t[je],r=n?n.indexOf(this):-1;r>-1&&(pu(t,r),Ms(n,r))}this._attachedToViewContainer=!1}Po(this._lView[Et],this._lView)}onDestroy(t){cp(this._lView[Et],this._lView,null,t)}markForCheck(){Ph(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xt]&=-65}reattach(){this._lView[Xt]|=64}detectChanges(){Sd(this._lView[Et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qa(e,t){Oo(e,t,t[Qt],2,null,null)}(this._lView[Et],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=t}}class Ly extends Yc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Sd(t[Et],t,t[Wn],!1)}checkNoChanges(){}get context(){return null}}class Ip extends s{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=gn(t);return new qc(n,this.ngModule)}}function Dp(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Uy{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=xt(r);const a=this.injector.get(t,At,r);return a!==At||n===At?a:this.parentInjector.get(t,n,r)}}class qc extends Id{get inputs(){return Dp(this.componentDef.inputs)}get outputs(){return Dp(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function W_(e){return e.map(H_).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,a){let c=(a=a||this.ngModule)instanceof rl?a:a?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const p=c?new Uy(t,c):t,E=p.get(B,null);if(null===E)throw new Se(407,!1);const w=p.get(Ae,null),P=E.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",G=r?function py(e,t,n){return e.selectRootElement(t,n===ve.ShadowDom)}(P,r,this.componentDef.encapsulation):yl(P,V,function Fy(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(V)),ue=this.componentDef.onPush?288:272,De=Th(0,null,null,1,0,null,null,null,null,null),Ge=wd(null,De,null,ue,null,null,E,P,w,p,null);let gt,St;zi(Ge);try{const Wt=this.componentDef;let cn,ot=null;Wt.findHostDirectiveDefs?(cn=[],ot=new Map,Wt.findHostDirectiveDefs(Wt,cn,ot),cn.push(Wt)):cn=[Wt];const wn=function Vy(e,t){const n=e[Et],r=Pn;return e[r]=t,lc(n,r,2,"#host",null)}(Ge,G),Kr=function $y(e,t,n,r,a,c,p,E){const w=a[Et];!function jy(e,t,n,r){for(const a of e)t.mergedAttrs=ir(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(Ad(t,t.mergedAttrs,!0),null!==n&&Ju(r,n,t))}(r,e,t,p);const P=c.createRenderer(t,n),V=wd(a,up(n),null,n.onPush?32:16,a[e.index],e,c,P,E||null,null,null);return w.firstCreatePass&&Ah(w,e,r.length-1),Td(a,V),a[e.index]=V}(wn,G,Wt,cn,Ge,E,P);St=Qi(De,Pn),G&&function Wy(e,t,n,r){if(r)ln(e,n,["ng-version",qe.full]);else{const{attrs:a,classes:c}=function z_(e){const t=[],n=[];let r=1,a=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++r]):8===a&&n.push(c);else{if(!Pa(a))break;a=c}r++}return{attrs:t,classes:n}}(t.selectors[0]);a&&ln(e,n,a),c&&c.length>0&&bl(e,n,c.join(" "))}}(P,Wt,G,r),void 0!==n&&function zy(e,t,n){const r=e.projection=[];for(let a=0;a<t.length;a++){const c=n[a];r.push(null!=c?Array.from(c):null)}}(St,this.ngContentSelectors,n),gt=function Hy(e,t,n,r,a,c){const p=yr(),E=a[Et],w=wr(p,a);pp(E,a,p,n,null,r);for(let V=0;V<n.length;V++)zr(Mi(a,E,p.directiveStart+V,p),a);gp(E,a,p),w&&zr(w,a);const P=Mi(a,E,p.directiveStart+p.componentOffset,p);if(e[Wn]=a[Wn]=P,null!==c)for(const V of c)V(P,t);return Ch(E,p,e),P}(Kr,Wt,cn,ot,Ge,[Gy]),Dh(De,Ge,null)}finally{To()}return new By(this.componentType,gt,m(St,Ge),Ge,St)}}class By extends ph{constructor(t,n,r,a,c){super(),this.location=r,this._rootLView=a,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new Ly(a),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let a;if(null!==r&&(a=r[t])){const c=this._rootLView;Nh(c[Et],c,a,t,n),fp(c,this._tNode.index)}}get injector(){return new ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Gy(){const e=yr();$o(Qe()[Et],e)}function xh(e){let t=function Cp(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let a;if(tr(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Se(903,!1);a=t.\u0275dir}if(a){if(n){r.push(a);const p=e;p.inputs=kh(e.inputs),p.declaredInputs=kh(e.declaredInputs),p.outputs=kh(e.outputs);const E=a.hostBindings;E&&qy(e,E);const w=a.viewQuery,P=a.contentQueries;if(w&&Zy(e,w),P&&Yy(e,P),ge(e.inputs,a.inputs),ge(e.declaredInputs,a.declaredInputs),ge(e.outputs,a.outputs),tr(a)&&a.data.animation){const V=e.data;V.animation=(V.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let p=0;p<c.length;p++){const E=c[p];E&&E.ngInherit&&E(e),E===xh&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Ky(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const a=e[r];a.hostVars=t+=a.hostVars,a.hostAttrs=ir(a.hostAttrs,n=ir(n,a.hostAttrs))}}(r)}function kh(e){return e===_t?{}:e===ne?[]:e}function Zy(e,t){const n=e.viewQuery;e.viewQuery=n?(r,a)=>{t(r,a),n(r,a)}:t}function Yy(e,t){const n=e.contentQueries;e.contentQueries=n?(r,a,c)=>{t(r,a,c),n(r,a,c)}:t}function qy(e,t){const n=e.hostBindings;e.hostBindings=n?(r,a)=>{t(r,a),n(r,a)}:t}function Md(e){return!!Lh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Lh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ys(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Fh(e,t,n,r){const a=Qe();return Ys(a,bi(),t)&&(kt(),il(Jn(),a,e,t,n,r)),Fh}function dc(e,t,n,r,a,c){const E=function Su(e,t,n,r){const a=Ys(e,t,n);return Ys(e,t+1,r)||a}(e,function mi(){return tn.lFrame.bindingIndex}(),n,a);return Nr(2),E?t+$e(n)+r+$e(a)+c:An}function Lp(e,t,n,r,a,c,p,E){const w=Qe(),P=kt(),V=e+Pn,G=P.firstCreatePass?function ov(e,t,n,r,a,c,p,E,w){const P=t.consts,V=lc(t,e,4,p||null,fr(P,E));Sh(t,n,V,fr(P,w)),$o(t,V);const G=V.tView=Th(2,V,r,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,P);return null!==t.queries&&(t.queries.template(t,V),G.queries=t.queries.embeddedTView(V)),V}(V,P,w,t,n,r,a,c,p):P.data[V];Or(G,!1);const ue=w[Qt].createComment("");Xr(P,w,ue,G),zr(ue,w),Td(w,w[V]=mp(ue,w,ue,G)),Ht(G)&&wh(P,w,G),null!=p&&bh(w,G,E)}function Uh(e,t,n){const r=Qe();return Ys(r,bi(),t)&&function Qo(e,t,n,r,a,c,p,E){const w=wr(t,n);let V,P=t.inputs;!E&&null!=P&&(V=P[r])?(Nh(e,n,V,r,a),dn(t)&&fp(n,t.index)):3&t.type&&(r=function _y(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),a=null!=p?p(a,t.value||"",r):a,c.setProperty(w,r,a))}(kt(),Jn(),r,e,t,r[Qt],n,!1),Uh}function Bh(e,t,n,r,a){const p=a?"class":"style";Nh(e,n,t.inputs[p],p,r)}function Od(e,t,n,r){const a=Qe(),c=kt(),p=Pn+e,E=a[Qt],w=c.firstCreatePass?function uv(e,t,n,r,a,c){const p=t.consts,w=lc(t,e,2,r,fr(p,a));return Sh(t,n,w,fr(p,c)),null!==w.attrs&&Ad(w,w.attrs,!1),null!==w.mergedAttrs&&Ad(w,w.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,w),w}(p,c,a,t,n,r):c.data[p],P=a[p]=yl(E,t,function pr(){return tn.lFrame.currentNamespace}()),V=Ht(w);return Or(w,!0),Ju(E,P,w),32!=(32&w.flags)&&Xr(c,a,P,w),0===function pi(){return tn.lFrame.elementDepthCount}()&&zr(P,a),function gi(){tn.lFrame.elementDepthCount++}(),V&&(wh(c,a,w),Ch(c,w,a)),null!==r&&bh(a,w),Od}function Nd(){let e=yr();Us()?eo():(e=e.parent,Or(e,!1));const t=e;!function es(){tn.lFrame.elementDepthCount--}();const n=kt();return n.firstCreatePass&&($o(n,e),mn(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ht(e){return 0!=(8&e.flags)}(t)&&Bh(n,t,Qe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function rn(e){return 0!=(16&e.flags)}(t)&&Bh(n,t,Qe(),t.stylesWithoutHost,!1),Nd}function Vh(e,t,n,r){return Od(e,t,n,r),Nd(),Vh}function xd(e,t,n){const r=Qe(),a=kt(),c=e+Pn,p=a.firstCreatePass?function cv(e,t,n,r,a){const c=t.consts,p=fr(c,r),E=lc(t,e,8,"ng-container",p);return null!==p&&Ad(E,p,!0),Sh(t,n,E,fr(c,a)),null!==t.queries&&t.queries.elementStart(t,E),E}(c,a,r,t,n):a.data[c];Or(p,!0);const E=r[c]=r[Qt].createComment("");return Xr(a,r,E,p),zr(E,r),Ht(p)&&(wh(a,r,p),Ch(a,p,r)),null!=n&&bh(r,p),xd}function kd(){let e=yr();const t=kt();return Us()?eo():(e=e.parent,Or(e,!1)),t.firstCreatePass&&($o(t,e),mn(e)&&t.queries.elementEnd(e)),kd}function Up(){return Qe()}function $h(e){return!!e&&"function"==typeof e.then}function Bp(e){return!!e&&"function"==typeof e.subscribe}const Vp=Bp;function jh(e,t,n,r){const a=Qe(),c=kt(),p=yr();return function jp(e,t,n,r,a,c,p){const E=Ht(r),P=e.firstCreatePass&&yp(e),V=t[Wn],G=_p(t);let ue=!0;if(3&r.type||p){const gt=wr(r,t),St=p?p(gt):gt,Wt=G.length,cn=p?wn=>p(fn(wn[r.index])):r.index;let ot=null;if(!p&&E&&(ot=function dv(e,t,n,r){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const p=a[c];if(p===n&&a[c+1]===r){const E=t[kr],w=a[c+2];return E.length>w?E[w]:null}"string"==typeof p&&(c+=2)}return null}(e,t,a,r.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=c,ot.__ngLastListenerFn__=c,ue=!1;else{c=Wp(r,t,V,c,!1);const wn=n.listen(St,a,c);G.push(c,wn),P&&P.push(a,cn,Wt,Wt+1)}}else c=Wp(r,t,V,c,!1);const De=r.outputs;let Ge;if(ue&&null!==De&&(Ge=De[a])){const gt=Ge.length;if(gt)for(let St=0;St<gt;St+=2){const Kr=t[Ge[St]][Ge[St+1]].subscribe(c),Ei=G.length;G.push(c,Kr),P&&P.push(a,r.index,Ei,-(Ei+1))}}}(c,a,a[Qt],p,e,t,r),jh}function Hp(e,t,n,r){try{return Pr(6,t,n),!1!==n(r)}catch(a){return Ep(e,a),!1}finally{Pr(7,t,n)}}function Wp(e,t,n,r,a){return function c(p){if(p===Function)return r;Ph(e.componentOffset>-1?br(e.index,t):t);let w=Hp(t,n,r,p),P=c.__ngNextListenerFn__;for(;P;)w=Hp(t,n,P,p)&&w,P=P.__ngNextListenerFn__;return a&&!1===w&&(p.preventDefault(),p.returnValue=!1),w}}function zp(e=1){return function Vo(e){return(tn.lFrame.contextLView=function ul(e,t){for(;e>0;)t=t[ni],e--;return t}(e,tn.lFrame.contextLView))[Wn]}(e)}function Ld(e,t){return e<<17|t<<2}function Jl(e){return e>>17&32767}function Wh(e){return 2|e}function Au(e){return(131068&e)>>2}function zh(e,t){return-131069&e|t<<2}function Gh(e){return 1|e}function tg(e,t,n,r,a){const c=e[n+1],p=null===t;let E=r?Jl(c):Au(c),w=!1;for(;0!==E&&(!1===w||p);){const V=e[E+1];Ev(e[E],t)&&(w=!0,e[E+1]=r?Gh(V):Wh(V)),E=r?Jl(V):Au(V)}w&&(e[n+1]=r?Wh(c):Gh(c))}function Ev(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Oi(e,t)>=0}function Kh(e,t){return function Oa(e,t,n,r){const a=Qe(),c=kt(),p=Nr(2);c.firstUpdatePass&&function cg(e,t,n,r){const a=e.data;if(null===a[n+1]){const c=a[zn()],p=function ug(e,t){return t>=e.expandoStartIndex}(e,n);(function pg(e,t){return 0!=(e.flags&(t?8:16))})(c,r)&&null===t&&!p&&(t=!1),t=function Rv(e,t,n,r){const a=function Ds(e){const t=tn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let c=r?t.residualClasses:t.residualStyles;if(null===a)0===(r?t.classBindings:t.styleBindings)&&(n=Jc(n=Zh(null,e,t,n,r),t.attrs,r),c=null);else{const p=t.directiveStylingLast;if(-1===p||e[p]!==a)if(n=Zh(a,e,t,n,r),null===c){let w=function Mv(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Au(r))return e[Jl(r)]}(e,t,r);void 0!==w&&Array.isArray(w)&&(w=Zh(null,e,t,w[1],r),w=Jc(w,t.attrs,r),function Pv(e,t,n,r){e[Jl(n?t.classBindings:t.styleBindings)]=r}(e,t,r,w))}else c=function Ov(e,t,n){let r;const a=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<a;c++)r=Jc(r,e[c].hostAttrs,n);return Jc(r,t.attrs,n)}(e,t,r)}return void 0!==c&&(r?t.residualClasses=c:t.residualStyles=c),n}(a,c,t,r),function yv(e,t,n,r,a,c){let p=c?t.classBindings:t.styleBindings,E=Jl(p),w=Au(p);e[r]=n;let V,P=!1;if(Array.isArray(n)?(V=n[1],(null===V||Oi(n,V)>0)&&(P=!0)):V=n,a)if(0!==w){const ue=Jl(e[E+1]);e[r+1]=Ld(ue,E),0!==ue&&(e[ue+1]=zh(e[ue+1],r)),e[E+1]=function mv(e,t){return 131071&e|t<<17}(e[E+1],r)}else e[r+1]=Ld(E,0),0!==E&&(e[E+1]=zh(e[E+1],r)),E=r;else e[r+1]=Ld(w,0),0===E?E=r:e[w+1]=zh(e[w+1],r),w=r;P&&(e[r+1]=Wh(e[r+1])),tg(e,V,r,!0),tg(e,V,r,!1),function vv(e,t,n,r,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&Oi(c,t)>=0&&(n[r+1]=Gh(n[r+1]))}(t,V,e,r,c),p=Ld(E,w),c?t.classBindings=p:t.styleBindings=p}(a,c,t,n,p,r)}}(c,e,p,r),t!==An&&Ys(a,p,t)&&function hg(e,t,n,r,a,c,p,E){if(!(3&t.type))return;const w=e.data,P=w[E+1],V=function _v(e){return 1==(1&e)}(P)?fg(w,t,n,a,Au(P),p):void 0;Fd(V)||(Fd(c)||function gv(e){return 2==(2&e)}(P)&&(c=fg(w,null,n,a,E,p)),function vu(e,t,n,r,a){if(t)a?e.addClass(n,r):e.removeClass(n,r);else{let c=-1===r.indexOf("-")?void 0:zs.DashCase;null==a?e.removeStyle(n,r,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=zs.Important),e.setStyle(n,r,a,c))}}(r,p,Fs(zn(),n),a,c))}(c,c.data[zn()],a,a[Qt],e,a[p+1]=function kv(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=pe(l(e)))),e}(t,n),r,p)}(e,t,null,!0),Kh}function Zh(e,t,n,r,a){let c=null;const p=n.directiveEnd;let E=n.directiveStylingLast;for(-1===E?E=n.directiveStart:E++;E<p&&(c=t[E],r=Jc(r,c.hostAttrs,a),c!==e);)E++;return null!==e&&(n.directiveStylingLast=E),r}function Jc(e,t,n){const r=n?1:2;let a=-1;if(null!==t)for(let c=0;c<t.length;c++){const p=t[c];"number"==typeof p?a=p:a===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Jr(e,p,!!n||t[++c]))}return void 0===e?null:e}function fg(e,t,n,r,a,c){const p=null===t;let E;for(;a>0;){const w=e[a],P=Array.isArray(w),V=P?w[1]:w,G=null===V;let ue=n[a+1];ue===An&&(ue=G?ne:void 0);let De=G?Ps(ue,r):V===r?ue:void 0;if(P&&!Fd(De)&&(De=Ps(w,r)),Fd(De)&&(E=De,p))return E;const Ge=e[a+1];a=p?Jl(Ge):Au(Ge)}if(null!==t){let w=c?t.residualClasses:t.residualStyles;null!=w&&(E=Ps(w,r))}return E}function Fd(e){return void 0!==e}function gg(e,t=""){const n=Qe(),r=kt(),a=e+Pn,c=r.firstCreatePass?lc(r,a,1,t,null):r.data[a],p=n[a]=function cu(e,t){return e.createText(t)}(n[Qt],t);Xr(r,n,p,c),Or(c,!1)}function Yh(e){return Ud("",e,""),Yh}function Ud(e,t,n){const r=Qe(),a=function cc(e,t,n,r){return Ys(e,bi(),n)?t+$e(n)+r:An}(r,e,t,n);return a!==An&&Ml(r,zn(),a),Ud}function qh(e,t,n,r,a){const c=Qe(),p=dc(c,e,t,n,r,a);return p!==An&&Ml(c,zn(),p),qh}const Ru=void 0;var tE=["en",[["a","p"],["AM","PM"],Ru],[["AM","PM"],Ru,Ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ru,"{1} 'at' {0}",Ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eE(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let vc={};function Qh(e){const t=function nE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=kg(t);if(n)return n;const r=t.split("-")[0];if(n=kg(r),n)return n;if("en"===r)return tE;throw new Se(701,!1)}function xg(e){return Qh(e)[un.PluralCase]}function kg(e){return e in vc||(vc[e]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[e]),vc[e]}var un=(()=>((un=un||{})[un.LocaleId=0]="LocaleId",un[un.DayPeriodsFormat=1]="DayPeriodsFormat",un[un.DayPeriodsStandalone=2]="DayPeriodsStandalone",un[un.DaysFormat=3]="DaysFormat",un[un.DaysStandalone=4]="DaysStandalone",un[un.MonthsFormat=5]="MonthsFormat",un[un.MonthsStandalone=6]="MonthsStandalone",un[un.Eras=7]="Eras",un[un.FirstDayOfWeek=8]="FirstDayOfWeek",un[un.WeekendRange=9]="WeekendRange",un[un.DateFormat=10]="DateFormat",un[un.TimeFormat=11]="TimeFormat",un[un.DateTimeFormat=12]="DateTimeFormat",un[un.NumberSymbols=13]="NumberSymbols",un[un.NumberFormats=14]="NumberFormats",un[un.CurrencyCode=15]="CurrencyCode",un[un.CurrencySymbol=16]="CurrencySymbol",un[un.CurrencyName=17]="CurrencyName",un[un.Currencies=18]="Currencies",un[un.Directionality=19]="Directionality",un[un.PluralCase=20]="PluralCase",un[un.ExtraData=21]="ExtraData",un))();const Ec="en-US";let Lg=Ec;function ef(e,t,n,r,a){if(e=se(e),Array.isArray(e))for(let c=0;c<e.length;c++)ef(e[c],t,n,r,a);else{const c=kt(),p=Qe();let E=nl(e)?e:se(e.provide),w=Gc(e);const P=yr(),V=1048575&P.providerIndexes,G=P.directiveStart,ue=P.providerIndexes>>20;if(nl(e)||!e.multi){const De=new T(w,a,ac),Ge=nf(E,t,a?V:V+ue,G);-1===Ge?(Wo(ws(P,p),c,E),tf(c,e,t.length),t.push(E),P.directiveStart++,P.directiveEnd++,a&&(P.providerIndexes+=1048576),n.push(De),p.push(De)):(n[Ge]=De,p[Ge]=De)}else{const De=nf(E,t,V+ue,G),Ge=nf(E,t,V,V+ue),St=Ge>=0&&n[Ge];if(a&&!St||!a&&!(De>=0&&n[De])){Wo(ws(P,p),c,E);const Wt=function XE(e,t,n,r,a){const c=new T(e,n,ac);return c.multi=[],c.index=t,c.componentProviders=0,am(c,a,r&&!n),c}(a?JE:QE,n.length,a,r,w);!a&&St&&(n[Ge].providerFactory=Wt),tf(c,e,t.length,0),t.push(E),P.directiveStart++,P.directiveEnd++,a&&(P.providerIndexes+=1048576),n.push(Wt),p.push(Wt)}else tf(c,e,De>-1?De:Ge,am(n[a?Ge:De],w,!a&&r));!a&&r&&St&&n[Ge].componentProviders++}}}function tf(e,t,n,r){const a=nl(t),c=function Cu(e){return!!e.useClass}(t);if(a||c){const w=(c?se(t.useClass):t).prototype.ngOnDestroy;if(w){const P=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const V=P.indexOf(n);-1===V?P.push(n,[r,w]):P[V+1].push(r,w)}else P.push(n,w)}}}function am(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function nf(e,t,n,r){for(let a=n;a<r;a++)if(t[a]===e)return a;return-1}function QE(e,t,n,r){return rf(this.multi,[])}function JE(e,t,n,r){const a=this.multi;let c;if(this.providerFactory){const p=this.providerFactory.componentProviders,E=Mi(n,n[Et],this.providerFactory.index,r);c=E.slice(0,p),rf(a,c);for(let w=p;w<E.length;w++)c.push(E[w])}else c=[],rf(a,c);return c}function rf(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function lm(e,t=[]){return n=>{n.providersResolver=(r,a)=>function qE(e,t,n){const r=kt();if(r.firstCreatePass){const a=tr(e);ef(n,r.data,r.blueprint,a,!0),ef(t,r.data,r.blueprint,a,!1)}}(r,a?a(e):e,t)}}class Ic{}class um{}function e0(e,t){return new cm(e,t??null)}class cm extends Ic{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ip(this);const r=ur(t);this._bootstrapComponents=Rl(r.bootstrap),this._r3Injector=Xf(t,n,[{provide:Ic,useValue:this},{provide:s,useValue:this.componentFactoryResolver}],pe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class sf extends um{constructor(t){super(),this.moduleType=t}create(t){return new cm(this.moduleType,t)}}class t0 extends Ic{constructor(t,n,r){super(),this.componentFactoryResolver=new Ip(this),this.instance=null;const a=new Wc([...t,{provide:Ic,useValue:this},{provide:s,useValue:this.componentFactoryResolver}],n||bu(),r,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function af(e,t,n=null){return new t0(e,t,n).injector}let n0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=vd(0,n.type),a=r.length>0?af([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,a)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ft({token:e,providedIn:"environment",factory:()=>new e(ct(rl))}),e})();function dm(e){e.getStandaloneInjector=t=>t.get(n0).getOrCreateStandaloneInjector(e)}function ym(e,t,n,r){return function vm(e,t,n,r,a,c){const p=t+n;return Ys(e,p,a)?function sl(e,t,n){return e[t]=n}(e,p+1,c?r.call(c,a):r(a)):function id(e,t){const n=e[t];return n===An?void 0:n}(e,p+1)}(Qe(),function Yn(){const e=tn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,r)}function uf(e){return t=>{setTimeout(e,void 0,t)}}const ll=class A0 extends v.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let a=t,c=n||(()=>null),p=r;if(t&&"object"==typeof t){const w=t;a=w.next?.bind(w),c=w.error?.bind(w),p=w.complete?.bind(w)}this.__isAsync&&(c=uf(c),a&&(a=uf(a)),p&&(p=uf(p)));const E=super.subscribe({next:a,error:c,complete:p});return t instanceof H.w0&&t.add(E),E}};function R0(){return this._results[Symbol.iterator]()}class cf{get changes(){return this._changes||(this._changes=new ll)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=cf.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=R0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const a=function Wr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function $a(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let a=e[r],c=t[r];if(n&&(a=n(a),c=n(c)),c!==a)return!1}return!0}(r._results,a,n))&&(r._results=a,r.length=a.length,r.last=a[this.length-1],r.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let od=(()=>{class e{}return e.__NG_ELEMENT_ID__=O0,e})();const M0=od,P0=class extends M0{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,a=wd(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);a[hr]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[Cr];return null!==p&&(a[Cr]=p.createEmbeddedView(r)),Dh(r,a,t),new Yc(a)}};function O0(){return Hd(yr(),Qe())}function Hd(e,t){return 4&e.type?new P0(t,e,m(e,t)):null}let Wd=(()=>{class e{}return e.__NG_ELEMENT_ID__=N0,e})();function N0(){return Tm(yr(),Qe())}const x0=Wd,wm=class extends x0{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return m(this._hostTNode,this._hostLView)}get injector(){return new ns(this._hostTNode,this._hostLView)}get parentInjector(){const t=lo(this._hostTNode,this._hostLView);if(Br(t)){const n=Si(t,this._hostLView),r=Sr(t);return new ns(n[Et].data[r+8],n)}return new ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=bm(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-bt}createEmbeddedView(t,n,r){let a,c;"number"==typeof r?a=r:null!=r&&(a=r.index,c=r.injector);const p=t.createEmbeddedView(n||{},c);return this.insert(p,a),p}createComponent(t,n,r,a,c){const p=t&&!function Yi(e){return"function"==typeof e}(t);let E;if(p)E=n;else{const G=n||{};E=G.index,r=G.injector,a=G.projectableNodes,c=G.environmentInjector||G.ngModuleRef}const w=p?t:new qc(gn(t)),P=r||this.parentInjector;if(!c&&null==w.ngModule){const ue=(p?P:this.parentInjector).get(rl,null);ue&&(c=ue)}const V=w.create(P,a,void 0,c);return this.insert(V.hostView,E),V}insert(t,n){const r=t._lView,a=r[Et];if(function ms(e){return an(e[jn])}(r)){const V=this.indexOf(t);if(-1!==V)this.detach(V);else{const G=r[jn],ue=new wm(G,G[Vn],G[jn]);ue.detach(ue.indexOf(t))}}const c=this._adjustIndex(n),p=this._lContainer;!function fu(e,t,n,r){const a=bt+r,c=n.length;r>0&&(n[a-1][mr]=t),r<c-bt?(t[mr]=n[a],fo(n,bt+r,t)):(n.push(t),t[mr]=null),t[jn]=n;const p=t[hr];null!==p&&n!==p&&function vl(e,t){const n=e[ut];t[dr]!==t[jn][jn][dr]&&(e[ae]=!0),null===n?e[ut]=[t]:n.push(t)}(p,t);const E=t[Cr];null!==E&&E.insertView(e),t[Xt]|=64}(a,r,p,c);const E=ca(c,p),w=r[Qt],P=Cl(w,p[me]);return null!==P&&function hu(e,t,n,r,a,c){r[$n]=a,r[Vn]=t,Oo(e,r,n,1,a,c)}(a,p[Vn],w,r,P,E),t.attachToViewContainerRef(),fo(df(p),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=bm(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=pu(this._lContainer,n);r&&(Ms(df(this._lContainer),n),Po(r[Et],r))}detach(t){const n=this._adjustIndex(t,-1),r=pu(this._lContainer,n);return r&&null!=Ms(df(this._lContainer),n)?new Yc(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function bm(e){return e[je]}function df(e){return e[je]||(e[je]=[])}function Tm(e,t){let n;const r=t[e.index];if(an(r))n=r;else{let a;if(8&e.type)a=fn(r);else{const c=t[Qt];a=c.createComment("");const p=wr(e,t);Yo(c,Cl(c,p),a,function Yu(e,t){return e.nextSibling(t)}(c,p),!1)}t[e.index]=n=mp(r,t,a,e),Td(t,n)}return new wm(n,e,t)}class hf{constructor(t){this.queryList=t,this.matches=null}clone(){return new hf(this.queryList)}setDirty(){this.queryList.setDirty()}}class ff{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let c=0;c<r;c++){const p=n.getByIndex(c);a.push(this.queries[p.indexInDeclarationView].clone())}return new ff(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==xm(t,n).matches&&this.queries[n].setDirty()}}class Sm{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class pf{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const a=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,a);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new pf(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gf{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new gf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){const c=r[a];this.matchTNodeWithReadOption(t,n,k0(n,c)),this.matchTNodeWithReadOption(t,n,Ri(n,t,c,!1,!1))}else r===od?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ri(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const a=this.metadata.read;if(null!==a)if(a===C||a===Wd||a===od&&4&n.type)this.addMatch(n.index,-2);else{const c=Ri(n,t,a,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function k0(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function F0(e,t,n,r){return-1===n?function L0(e,t){return 11&e.type?m(e,t):4&e.type?Hd(e,t):null}(t,e):-2===n?function U0(e,t,n){return n===C?m(t,e):n===od?Hd(t,e):n===Wd?Tm(t,e):void 0}(e,t,r):Mi(e,e[Et],n,t)}function Am(e,t,n,r){const a=t[Cr].queries[r];if(null===a.matches){const c=e.data,p=n.matches,E=[];for(let w=0;w<p.length;w+=2){const P=p[w];E.push(P<0?null:F0(t,c[P],p[w+1],n.metadata.read))}a.matches=E}return a.matches}function mf(e,t,n,r){const a=e.queries.getByIndex(n),c=a.matches;if(null!==c){const p=Am(e,t,a,n);for(let E=0;E<c.length;E+=2){const w=c[E];if(w>0)r.push(p[E/2]);else{const P=c[E+1],V=t[-w];for(let G=bt;G<V.length;G++){const ue=V[G];ue[hr]===ue[jn]&&mf(ue[Et],ue,P,r)}if(null!==V[ut]){const G=V[ut];for(let ue=0;ue<G.length;ue++){const De=G[ue];mf(De[Et],De,P,r)}}}}}return r}function Rm(e){const t=Qe(),n=kt(),r=io();_i(r+1);const a=xm(n,r);if(e.dirty&&function Lo(e){return 4==(4&e[Xt])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const c=a.crossesNgTemplate?mf(n,t,r,[]):Am(n,t,a,r);e.reset(c,R),e.notifyOnChanges()}return!0}return!1}function Mm(e,t,n,r){const a=kt();if(a.firstCreatePass){const c=yr();(function Nm(e,t,n){null===e.queries&&(e.queries=new pf),e.queries.track(new gf(t,n))})(a,new Sm(t,n,r),c.index),function $0(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}!function Om(e,t,n){const r=new cf(4==(4&n));cp(e,t,r,r.destroy),null===t[Cr]&&(t[Cr]=new ff),t[Cr].queries.push(new hf(r))}(a,Qe(),n)}function Pm(){return function V0(e,t){return e[Cr].queries[t].queryList}(Qe(),io())}function xm(e,t){return e.queries.getByIndex(t)}function _f(e){return!!ur(e)}function Gd(...e){}const Jm=new qn("Application Initializer");let Kd=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Gd,this.reject=Gd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const c=this.appInits[a]();if($h(c))n.push(c);else if(Vp(c)){const p=new Promise((E,w)=>{c.subscribe({complete:E,error:w})});n.push(p)}}Promise.all(n).then(()=>{r()}).catch(a=>{this.reject(a)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ct(Jm,8))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Xm=new qn("AppId",{providedIn:"root",factory:function e_(){return`${Df()}${Df()}${Df()}`}});function Df(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const t_=new qn("Platform Initializer"),lI=new qn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let uI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Zd=new qn("LocaleId",{providedIn:"root",factory:()=>Ct(Zd,pt.Optional|pt.SkipSelf)||function cI(){return typeof $localize<"u"&&$localize.locale||Ec}()}),dI=new qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let fI=(()=>{class e{compileModuleSync(n){return new sf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),c=Rl(ur(n).declarations).reduce((p,E)=>{const w=gn(E);return w&&p.push(new qc(w)),p},[]);return new hI(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const mI=(()=>Promise.resolve(0))();function Cf(e){typeof Zone>"u"?mI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class pa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ll(!1),this.onMicrotaskEmpty=new ll(!1),this.onStable=new ll(!1),this.onError=new ll(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&n,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function _I(){let e=Ot.requestAnimationFrame,t=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function EI(e){const t=()=>{!function vI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ot,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,bf(e),e.isCheckStableRunning=!0,wf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),bf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,a,c,p,E)=>{try{return i_(e),n.invokeTask(a,c,p,E)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),s_(e)}},onInvoke:(n,r,a,c,p,E,w)=>{try{return i_(e),n.invoke(a,c,p,E,w)}finally{e.shouldCoalesceRunChangeDetection&&t(),s_(e)}},onHasTask:(n,r,a,c)=>{n.hasTask(a,c),r===a&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,bf(e),wf(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,r,a,c)=>(n.handleError(a,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pa.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(pa.isInAngularZone())throw new Se(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,a){const c=this._inner,p=c.scheduleEventTask("NgZoneEvent: "+a,t,yI,Gd,Gd);try{return c.runTask(p,n,r)}finally{c.cancelTask(p)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const yI={};function wf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function i_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function s_(e){e._nesting--,wf(e)}class II{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ll,this.onMicrotaskEmpty=new ll,this.onStable=new ll,this.onError=new ll}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,a){return t.apply(n,r)}}const o_=new qn(""),a_=new qn("");let Tf,DI=(()=>{class e{constructor(n,r,a){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Tf||(function CI(e){Tf=e}(a),a.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pa.assertNotInAngularZone(),Cf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cf(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,a){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==c),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:a})}whenStable(n,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(ct(pa),ct(l_),ct(a_))},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})(),l_=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Tf?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Pl=!1;let Xl=null;const u_=new qn("AllowMultipleToken"),Sf=new qn("PlatformDestroyListeners"),c_=new qn("appBootstrapListener");class TI{constructor(t,n){this.name=t,this.token=n}}function h_(e,t,n=[]){const r=`Platform: ${t}`,a=new qn(r);return(c=[])=>{let p=Af();if(!p||p.injector.get(u_,!1)){const E=[...n,...c,{provide:a,useValue:!0}];e?e(E):function SI(e){if(Xl&&!Xl.get(u_,!1))throw new Se(400,!1);Xl=e;const t=e.get(p_);(function d_(e){const t=e.get(t_,null);t&&t.forEach(n=>n())})(e)}(function f_(e=[],t){return Tu.create({name:t,providers:[{provide:jc,useValue:"platform"},{provide:Sf,useValue:new Set([()=>Xl=null])},...e]})}(E,r))}return function RI(e){const t=Af();if(!t)throw new Se(401,!1);return t}()}}function Af(){return Xl?.get(p_)??null}let p_=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function m_(e,t){let n;return n="noop"===e?new II:("zone.js"===e?void 0:e)||new pa(t),n}(r?.ngZone,function g_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),c=[{provide:pa,useValue:a}];return a.run(()=>{const p=Tu.create({providers:c,parent:this.injector,name:n.moduleType.name}),E=n.create(p),w=E.injector.get(Zs,null);if(!w)throw new Se(402,!1);return a.runOutsideAngular(()=>{const P=a.onError.subscribe({next:V=>{w.handleError(V)}});E.onDestroy(()=>{qd(this._modules,E),P.unsubscribe()})}),function __(e,t,n){try{const r=n();return $h(r)?r.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(w,a,()=>{const P=E.injector.get(Kd);return P.runInitializers(),P.donePromise.then(()=>(function Fg(e){Je(e,"Expected localeId to be defined"),"string"==typeof e&&(Lg=e.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Zd,Ec)||Ec),this._moduleDoBootstrap(E),E))})})}bootstrapModule(n,r=[]){const a=y_({},r);return function wI(e,t,n){const r=new sf(n);return Promise.resolve(r)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(n){const r=n.injector.get(Yd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new Se(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Sf,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ct(Tu))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function y_(e,t){return Array.isArray(t)?t.reduce(y_,e):{...e,...t}}let Yd=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,a){this._zone=n,this._injector=r,this._exceptionHandler=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new F.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),p=new F.y(E=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{pa.assertNotInAngularZone(),Cf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{pa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{w.unsubscribe(),P.unsubscribe()}});this.isStable=(0,te.T)(c,p.pipe((0,oe.B)()))}bootstrap(n,r){const a=n instanceof Id;if(!this._injector.get(Kd).done){!a&&$r(n);throw new Se(405,Pl)}let p;p=a?n:this._injector.get(s).resolveComponentFactory(n),this.componentTypes.push(p.componentType);const E=function bI(e){return e.isBoundToModule}(p)?void 0:this._injector.get(Ic),P=p.create(Tu.NULL,[],r||p.selector,E),V=P.location.nativeElement,G=P.injector.get(o_,null);return G?.registerApplication(V),P.onDestroy(()=>{this.detachView(P.hostView),qd(this.components,P),G?.unregisterApplication(V)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;qd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(c_,[]);r.push(...this._bootstrapListeners),r.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Se(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(ct(pa),ct(rl),ct(Zs))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function qd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function PI(){return!1}let OI=(()=>{class e{}return e.__NG_ELEMENT_ID__=NI,e})();function NI(e){return function xI(e,t,n){if(dn(e)&&!n){const r=br(e.index,t);return new Yc(r,r)}return 47&e.type?new Yc(t[dr],t):null}(yr(),Qe(),16==(16&e))}class C_{constructor(){}supports(t){return Md(t)}create(t){return new VI(t)}}const BI=(e,t)=>t;class VI{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||BI}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,a=0,c=null;for(;n||r;){const p=!r||n&&n.currentIndex<b_(r,a,c)?n:r,E=b_(p,a,c),w=p.currentIndex;if(p===r)a--,r=r._nextRemoved;else if(n=n._next,null==p.previousIndex)a++;else{c||(c=[]);const P=E-a,V=w-a;if(P!=V){for(let ue=0;ue<P;ue++){const De=ue<c.length?c[ue]:c[ue]=0,Ge=De+ue;V<=Ge&&Ge<P&&(c[ue]=De+1)}c[p.previousIndex]=V-P}}E!==w&&t(p,E,w)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Md(t))throw new Se(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,p,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let E=0;E<this.length;E++)c=t[E],p=this._trackByFn(E,c),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,c,p,E)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,p,E),r=!0),n=n._next}else a=0,function rv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,E=>{p=this._trackByFn(a,E),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,E,p,a)),Object.is(n.item,E)||this._addIdentityChange(n,E)):(n=this._mismatch(n,E,p,a),r=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,a)):t=this._addAfter(new $I(n,r),c,a),t}_verifyReinsertion(t,n,r,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new w_),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new w_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class $I{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jI{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class w_{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new jI,this.map.set(n,r)),r.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function b_(e,t,n){const r=e.previousIndex;if(null===r)return r;let a=0;return n&&r<n.length&&(a=n[r]),r+t+a}class T_{constructor(){}supports(t){return t instanceof Map||Lh(t)}create(){return new HI}}class HI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Lh(t)))throw new Se(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(a,r);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const c=a._prev,p=a._next;return c&&(c._next=p),p&&(p._prev=c),a._next=null,a._prev=null,a}const r=new WI(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class WI{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function S_(){return new Nf([new C_])}let Nf=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||S_()),deps:[[e,new vn,new yt]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(null!=r)return r;throw new Se(901,!1)}}return e.\u0275prov=ft({token:e,providedIn:"root",factory:S_}),e})();function A_(){return new xf([new T_])}let xf=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||A_()),deps:[[e,new vn,new yt]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(r)return r;throw new Se(901,!1)}}return e.\u0275prov=ft({token:e,providedIn:"root",factory:A_}),e})();const KI=h_(null,"core",[]);let ZI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ct(Yd))},e.\u0275mod=Li({type:e}),e.\u0275inj=Fn({}),e})();function YI(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},1481:(Dt,be,x)=>{x.d(be,{Dx:()=>Ot,b2:()=>Zr,q6:()=>bn});var v=x(6895),H=x(4650);class F extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class te extends F{static makeCurrent(){(0,v.HT)(new te)}onAndCancel(re,W,ye){return re.addEventListener(W,ye,!1),()=>{re.removeEventListener(W,ye,!1)}}dispatchEvent(re,W){re.dispatchEvent(W)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,W){return(W=W||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,W){return"window"===W?window:"document"===W?re:"body"===W?re.body:null}getBaseHref(re){const W=function ce(){return oe=oe||document.querySelector("base"),oe?oe.getAttribute("href"):null}();return null==W?null:function pe(ne){ge=ge||document.createElement("a"),ge.setAttribute("href",ne);const re=ge.pathname;return"/"===re.charAt(0)?re:`/${re}`}(W)}resetBaseElement(){oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,v.Mx)(document.cookie,re)}}let ge,oe=null;const _e=new H.OlP("TRANSITION_ID"),J=[{provide:H.ip1,useFactory:function Q(ne,re,W){return()=>{W.get(H.CZH).donePromise.then(()=>{const ye=(0,v.q)(),ke=re.querySelectorAll(`style[ng-transition="${ne}"]`);for(let Ze=0;Ze<ke.length;Ze++)ye.remove(ke[Ze])})}},deps:[_e,v.K0,H.zs3],multi:!0}];let Ke=(()=>{class ne{build(){return new XMLHttpRequest}}return ne.\u0275fac=function(W){return new(W||ne)},ne.\u0275prov=H.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const Be=new H.OlP("EventManagerPlugins");let at=(()=>{class ne{constructor(W,ye){this._zone=ye,this._eventNameToPlugin=new Map,W.forEach(ke=>{ke.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,ye,ke){return this._findPluginFor(ye).addEventListener(W,ye,ke)}addGlobalEventListener(W,ye,ke){return this._findPluginFor(ye).addGlobalEventListener(W,ye,ke)}getZone(){return this._zone}_findPluginFor(W){const ye=this._eventNameToPlugin.get(W);if(ye)return ye;const ke=this._plugins;for(let Ze=0;Ze<ke.length;Ze++){const $t=ke[Ze];if($t.supports(W))return this._eventNameToPlugin.set(W,$t),$t}throw new Error(`No event manager plugin found for event ${W}`)}}return ne.\u0275fac=function(W){return new(W||ne)(H.LFG(Be),H.LFG(H.R0b))},ne.\u0275prov=H.Yz7({token:ne,factory:ne.\u0275fac}),ne})();class wt{constructor(re){this._doc=re}addGlobalEventListener(re,W,ye){const ke=(0,v.q)().getGlobalEventTarget(this._doc,re);if(!ke)throw new Error(`Unsupported event target ${ke} for event ${W}`);return this.addEventListener(ke,W,ye)}}let Se=(()=>{class ne{constructor(){this.usageCount=new Map}addStyles(W){for(const ye of W)1===this.changeUsageCount(ye,1)&&this.onStyleAdded(ye)}removeStyles(W){for(const ye of W)0===this.changeUsageCount(ye,-1)&&this.onStyleRemoved(ye)}onStyleRemoved(W){}onStyleAdded(W){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(W,ye){const ke=this.usageCount;let Ze=ke.get(W)??0;return Ze+=ye,Ze>0?ke.set(W,Ze):ke.delete(W),Ze}ngOnDestroy(){for(const W of this.getAllStyles())this.onStyleRemoved(W);this.usageCount.clear()}}return ne.\u0275fac=function(W){return new(W||ne)},ne.\u0275prov=H.Yz7({token:ne,factory:ne.\u0275fac}),ne})(),We=(()=>{class ne extends Se{constructor(W){super(),this.doc=W,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(W){for(const ye of this.hostNodes)this.addStyleToHost(ye,W)}onStyleRemoved(W){const ye=this.styleRef;ye.get(W)?.forEach(Ze=>Ze.remove()),ye.delete(W)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const ye of this.getAllStyles())this.addStyleToHost(W,ye)}removeHost(W){this.hostNodes.delete(W)}addStyleToHost(W,ye){const ke=this.doc.createElement("style");ke.textContent=ye,W.appendChild(ke);const Ze=this.styleRef.get(ye);Ze?Ze.push(ke):this.styleRef.set(ye,[ke])}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}}return ne.\u0275fac=function(W){return new(W||ne)(H.LFG(v.K0))},ne.\u0275prov=H.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const $e={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rt=/%COMP%/g,Y=new H.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ye(ne,re){return re.flat(100).map(W=>W.replace(rt,ne))}function it(ne){return re=>{if("__ngUnwrap__"===re)return ne;!1===ne(re)&&(re.preventDefault(),re.returnValue=!1)}}let lt=(()=>{class ne{constructor(W,ye,ke,Ze){this.eventManager=W,this.sharedStylesHost=ye,this.appId=ke,this.removeStylesOnCompDestory=Ze,this.rendererByCompId=new Map,this.defaultRenderer=new N(W)}createRenderer(W,ye){if(!W||!ye)return this.defaultRenderer;const ke=this.getOrCreateRenderer(W,ye);return ke instanceof Je?ke.applyToHost(W):ke instanceof Ue&&ke.applyStyles(),ke}getOrCreateRenderer(W,ye){const ke=this.rendererByCompId;let Ze=ke.get(ye.id);if(!Ze){const $t=this.eventManager,yn=this.sharedStylesHost,Kn=this.removeStylesOnCompDestory;switch(ye.encapsulation){case H.ifc.Emulated:Ze=new Je($t,yn,ye,this.appId,Kn);break;case H.ifc.ShadowDom:return new xe($t,yn,W,ye);default:Ze=new Ue($t,yn,ye,Kn)}Ze.onDestroy=()=>ke.delete(ye.id),ke.set(ye.id,Ze)}return Ze}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ne.\u0275fac=function(W){return new(W||ne)(H.LFG(at),H.LFG(We),H.LFG(H.AFp),H.LFG(Y))},ne.\u0275prov=H.Yz7({token:ne,factory:ne.\u0275fac}),ne})();class N{constructor(re){this.eventManager=re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,W){return W?document.createElementNS($e[W]||W,re):document.createElement(re)}createComment(re){return document.createComment(re)}createText(re){return document.createTextNode(re)}appendChild(re,W){(Ce(re)?re.content:re).appendChild(W)}insertBefore(re,W,ye){re&&(Ce(re)?re.content:re).insertBefore(W,ye)}removeChild(re,W){re&&re.removeChild(W)}selectRootElement(re,W){let ye="string"==typeof re?document.querySelector(re):re;if(!ye)throw new Error(`The selector "${re}" did not match any elements`);return W||(ye.textContent=""),ye}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,W,ye,ke){if(ke){W=ke+":"+W;const Ze=$e[ke];Ze?re.setAttributeNS(Ze,W,ye):re.setAttribute(W,ye)}else re.setAttribute(W,ye)}removeAttribute(re,W,ye){if(ye){const ke=$e[ye];ke?re.removeAttributeNS(ke,W):re.removeAttribute(`${ye}:${W}`)}else re.removeAttribute(W)}addClass(re,W){re.classList.add(W)}removeClass(re,W){re.classList.remove(W)}setStyle(re,W,ye,ke){ke&(H.JOm.DashCase|H.JOm.Important)?re.style.setProperty(W,ye,ke&H.JOm.Important?"important":""):re.style[W]=ye}removeStyle(re,W,ye){ye&H.JOm.DashCase?re.style.removeProperty(W):re.style[W]=""}setProperty(re,W,ye){re[W]=ye}setValue(re,W){re.nodeValue=W}listen(re,W,ye){return"string"==typeof re?this.eventManager.addGlobalEventListener(re,W,it(ye)):this.eventManager.addEventListener(re,W,it(ye))}}function Ce(ne){return"TEMPLATE"===ne.tagName&&void 0!==ne.content}class xe extends N{constructor(re,W,ye,ke){super(re),this.sharedStylesHost=W,this.hostEl=ye,this.shadowRoot=ye.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ze=Ye(ke.id,ke.styles);for(const $t of Ze){const yn=document.createElement("style");yn.textContent=$t,this.shadowRoot.appendChild(yn)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}appendChild(re,W){return super.appendChild(this.nodeOrShadowRoot(re),W)}insertBefore(re,W,ye){return super.insertBefore(this.nodeOrShadowRoot(re),W,ye)}removeChild(re,W){return super.removeChild(this.nodeOrShadowRoot(re),W)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ue extends N{constructor(re,W,ye,ke,Ze=ye.id){super(re),this.sharedStylesHost=W,this.removeStylesOnCompDestory=ke,this.rendererUsageCount=0,this.styles=Ye(Ze,ye.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Je extends Ue{constructor(re,W,ye,ke,Ze){const $t=ke+"-"+ye.id;super(re,W,ye,Ze,$t),this.contentAttr=function Re(ne){return"_ngcontent-%COMP%".replace(rt,ne)}($t),this.hostAttr=function st(ne){return"_nghost-%COMP%".replace(rt,ne)}($t)}applyToHost(re){this.applyStyles(),this.setAttribute(re,this.hostAttr,"")}createElement(re,W){const ye=super.createElement(re,W);return super.setAttribute(ye,this.contentAttr,""),ye}}let nt=(()=>{class ne extends wt{constructor(W){super(W)}supports(W){return!0}addEventListener(W,ye,ke){return W.addEventListener(ye,ke,!1),()=>this.removeEventListener(W,ye,ke)}removeEventListener(W,ye,ke){return W.removeEventListener(ye,ke)}}return ne.\u0275fac=function(W){return new(W||ne)(H.LFG(v.K0))},ne.\u0275prov=H.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const Bt=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vt={alt:ne=>ne.altKey,control:ne=>ne.ctrlKey,meta:ne=>ne.metaKey,shift:ne=>ne.shiftKey};let ft=(()=>{class ne extends wt{constructor(W){super(W)}supports(W){return null!=ne.parseEventName(W)}addEventListener(W,ye,ke){const Ze=ne.parseEventName(ye),$t=ne.eventCallback(Ze.fullKey,ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(W,Ze.domEventName,$t))}static parseEventName(W){const ye=W.toLowerCase().split("."),ke=ye.shift();if(0===ye.length||"keydown"!==ke&&"keyup"!==ke)return null;const Ze=ne._normalizeKey(ye.pop());let $t="",yn=ye.indexOf("code");if(yn>-1&&(ye.splice(yn,1),$t="code."),Bt.forEach(us=>{const ci=ye.indexOf(us);ci>-1&&(ye.splice(ci,1),$t+=us+".")}),$t+=Ze,0!=ye.length||0===Ze.length)return null;const Kn={};return Kn.domEventName=ke,Kn.fullKey=$t,Kn}static matchEventFullKeyCode(W,ye){let ke=dt[W.key]||W.key,Ze="";return ye.indexOf("code.")>-1&&(ke=W.code,Ze="code."),!(null==ke||!ke)&&(ke=ke.toLowerCase()," "===ke?ke="space":"."===ke&&(ke="dot"),Bt.forEach($t=>{$t!==ke&&(0,Vt[$t])(W)&&(Ze+=$t+".")}),Ze+=ke,Ze===ye)}static eventCallback(W,ye,ke){return Ze=>{ne.matchEventFullKeyCode(Ze,W)&&ke.runGuarded(()=>ye(Ze))}}static _normalizeKey(W){return"esc"===W?"escape":W}}return ne.\u0275fac=function(W){return new(W||ne)(H.LFG(v.K0))},ne.\u0275prov=H.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const bn=(0,H.eFA)(H._c5,"browser",[{provide:H.Lbi,useValue:v.bD},{provide:H.g9A,useValue:function er(){te.makeCurrent()},multi:!0},{provide:v.K0,useFactory:function Un(){return(0,H.RDi)(document),document},deps:[]}]),Mt=new H.OlP(""),On=[{provide:H.rWj,useClass:class se{addToWindow(re){H.dqk.getAngularTestability=(ye,ke=!0)=>{const Ze=re.findTestabilityInTree(ye,ke);if(null==Ze)throw new Error("Could not find testability for element.");return Ze},H.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),H.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),H.dqk.frameworkStabilizers||(H.dqk.frameworkStabilizers=[]),H.dqk.frameworkStabilizers.push(ye=>{const ke=H.dqk.getAllAngularTestabilities();let Ze=ke.length,$t=!1;const yn=function(Kn){$t=$t||Kn,Ze--,0==Ze&&ye($t)};ke.forEach(function(Kn){Kn.whenStable(yn)})})}findTestabilityInTree(re,W,ye){return null==W?null:re.getTestability(W)??(ye?(0,v.q)().isShadowRoot(W)?this.findTestabilityInTree(re,W.host,!0):this.findTestabilityInTree(re,W.parentElement,!0):null)}},deps:[]},{provide:H.lri,useClass:H.dDg,deps:[H.R0b,H.eoX,H.rWj]},{provide:H.dDg,useClass:H.dDg,deps:[H.R0b,H.eoX,H.rWj]}],pt=[{provide:H.zSh,useValue:"root"},{provide:H.qLn,useFactory:function vt(){return new H.qLn},deps:[]},{provide:Be,useClass:nt,multi:!0,deps:[v.K0,H.R0b,H.Lbi]},{provide:Be,useClass:ft,multi:!0,deps:[v.K0]},{provide:lt,useClass:lt,deps:[at,We,H.AFp,Y]},{provide:H.FYo,useExisting:lt},{provide:Se,useExisting:We},{provide:We,useClass:We,deps:[v.K0]},{provide:at,useClass:at,deps:[Be,H.R0b]},{provide:v.JF,useClass:Ke,deps:[]},[]];let Zr=(()=>{class ne{constructor(W){}static withServerTransition(W){return{ngModule:ne,providers:[{provide:H.AFp,useValue:W.appId},{provide:_e,useExisting:H.AFp},J]}}}return ne.\u0275fac=function(W){return new(W||ne)(H.LFG(Mt,12))},ne.\u0275mod=H.oAB({type:ne}),ne.\u0275inj=H.cJS({providers:[...pt,...On],imports:[v.ez,H.hGG]}),ne})(),Ot=(()=>{class ne{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}}return ne.\u0275fac=function(W){return new(W||ne)(H.LFG(v.K0))},ne.\u0275prov=H.Yz7({token:ne,factory:function(W){let ye=null;return ye=W?new W:function Bn(){return new Ot((0,H.LFG)(v.K0))}(),ye},providedIn:"root"}),ne})();typeof window<"u"&&window},9051:(Dt,be,x)=>{x.d(be,{gz:()=>ks,F0:()=>Ar,rH:()=>ns,Bz:()=>wa,lC:()=>Pr});var v=x(4650),H=x(8996),F=x(9646),te=x(7579);class oe extends te.x{constructor(_){super(),this._value=_}get value(){return this.getValue()}_subscribe(_){const h=super._subscribe(_);return!h.closed&&_.next(this._value),h}getValue(){const{hasError:_,thrownError:h,_value:I}=this;if(_)throw h;return this._throwIfClosed(),I}next(_){super.next(this._value=_)}}var ce=x(6805),ge=x(9751),pe=x(4742),_e=x(4671),Q=x(3268),J=x(7669),se=x(1810),Ke=x(5403),Be=x(9672);function at(...g){const _=(0,J.yG)(g),h=(0,J.jO)(g),{args:I,keys:S}=(0,pe.D)(g);if(0===I.length)return(0,H.D)([],_);const k=new ge.y(function wt(g,_,h=_e.y){return I=>{Se(_,()=>{const{length:S}=g,k=new Array(S);let j=S,de=S;for(let Le=0;Le<S;Le++)Se(_,()=>{const yt=(0,H.D)(g[Le],_);let It=!1;yt.subscribe((0,Ke.x)(I,vn=>{k[Le]=vn,It||(It=!0,de--),de||I.next(h(k.slice()))},()=>{--j||I.complete()}))},I)},I)}}(I,_,S?j=>(0,se.n)(S,j):_e.y));return h?k.pipe((0,Q.Z)(h)):k}function Se(g,_,h){g?(0,Be.f)(h,g,_):_()}var We=x(7272),$e=x(8421);function rt(g){return new ge.y(_=>{(0,$e.Xf)(g()).subscribe(_)})}var Fe=x(9635),Pe=x(576);function ze(g,_){const h=(0,Pe.m)(g)?g:()=>g,I=S=>S.error(h());return new ge.y(_?S=>_.schedule(I,0,S):I)}var tt=x(515),et=x(727),Y=x(4482);function Re(){return(0,Y.e)((g,_)=>{let h=null;g._refCount++;const I=(0,Ke.x)(_,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(h=null);const S=g._connection,k=h;h=null,S&&(!k||S===k)&&S.unsubscribe(),_.unsubscribe()});g.subscribe(I),I.closed||(h=g.connect())})}class st extends ge.y{constructor(_,h){super(),this.source=_,this.subjectFactory=h,this._subject=null,this._refCount=0,this._connection=null,(0,Y.A)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new et.w0;const h=this.getSubject();_.add(this.source.subscribe((0,Ke.x)(h,void 0,()=>{this._teardown(),h.complete()},I=>{this._teardown(),h.error(I)},()=>this._teardown()))),_.closed&&(this._connection=null,_=et.w0.EMPTY)}return _}refCount(){return Re()(this)}}var Ye=x(6895),it=x(4004),lt=x(3900),N=x(5698),Te=x(8675),Ie=x(9300),Ce=x(5577),xe=x(590);function Ue(g,_){return(0,Pe.m)(_)?(0,Ce.z)(g,_,1):(0,Ce.z)(g,1)}var Je=x(8505);function nt(g){return(0,Y.e)((_,h)=>{let k,I=null,S=!1;I=_.subscribe((0,Ke.x)(h,void 0,void 0,j=>{k=(0,$e.Xf)(g(j,nt(g)(_))),I?(I.unsubscribe(),I=null,k.subscribe(h)):S=!0})),S&&(I.unsubscribe(),I=null,k.subscribe(h))})}var Bt=x(5026);function dt(g){return g<=0?()=>tt.E:(0,Y.e)((_,h)=>{let I=[];_.subscribe((0,Ke.x)(h,S=>{I.push(S),g<I.length&&I.shift()},()=>{for(const S of I)h.next(S);h.complete()},void 0,()=>{I=null}))})}var Vt=x(8068),ft=x(6590);function Ut(g,_){const h=arguments.length>=2;return I=>I.pipe(g?(0,Ie.h)((S,k)=>g(S,k,I)):_e.y,dt(1),h?(0,ft.d)(_):(0,Vt.T)(()=>new ce.K))}function pn(g){return(0,Y.e)((_,h)=>{try{_.subscribe(h)}finally{h.add(g)}})}var Mn=x(8189),er=x(1481);const vt="primary",Un=Symbol("RouteTitle");class Qn{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const h=this.params[_];return Array.isArray(h)?h[0]:h}return null}getAll(_){if(this.has(_)){const h=this.params[_];return Array.isArray(h)?h:[h]}return[]}get keys(){return Object.keys(this.params)}}function bn(g){return new Qn(g)}function Mt(g,_,h){const I=h.path.split("/");if(I.length>g.length||"full"===h.pathMatch&&(_.hasChildren()||I.length<g.length))return null;const S={};for(let k=0;k<I.length;k++){const j=I[k],de=g[k];if(j.startsWith(":"))S[j.substring(1)]=de;else if(j!==de.path)return null}return{consumed:g.slice(0,I.length),posParams:S}}function pt(g,_){const h=g?Object.keys(g):void 0,I=_?Object.keys(_):void 0;if(!h||!I||h.length!=I.length)return!1;let S;for(let k=0;k<h.length;k++)if(S=h[k],!Zr(g[S],_[S]))return!1;return!0}function Zr(g,_){if(Array.isArray(g)&&Array.isArray(_)){if(g.length!==_.length)return!1;const h=[...g].sort(),I=[..._].sort();return h.every((S,k)=>I[k]===S)}return g===_}function cr(g){return Array.prototype.concat.apply([],g)}function En(g){return g.length>0?g[g.length-1]:null}function Bn(g,_){for(const h in g)g.hasOwnProperty(h)&&_(g[h],h)}function Ot(g){return(0,v.CqO)(g)?g:(0,v.QGY)(g)?(0,H.D)(Promise.resolve(g)):(0,F.of)(g)}const Rt=!1,Nt={exact:function or(g,_,h){if(!Ve(g.segments,_.segments)||!Dr(g.segments,_.segments,h)||g.numberOfChildren!==_.numberOfChildren)return!1;for(const I in _.children)if(!g.children[I]||!or(g.children[I],_.children[I],h))return!1;return!0},subset:Ii},kn={exact:function Gn(g,_){return pt(g,_)},subset:function gr(g,_){return Object.keys(_).length<=Object.keys(g).length&&Object.keys(_).every(h=>Zr(g[h],_[h]))},ignored:()=>!0};function Tn(g,_,h){return Nt[h.paths](g.root,_.root,h.matrixParams)&&kn[h.queryParams](g.queryParams,_.queryParams)&&!("exact"===h.fragment&&g.fragment!==_.fragment)}function Ii(g,_,h){return In(g,_,_.segments,h)}function In(g,_,h,I){if(g.segments.length>h.length){const S=g.segments.slice(0,h.length);return!(!Ve(S,h)||_.hasChildren()||!Dr(S,h,I))}if(g.segments.length===h.length){if(!Ve(g.segments,h)||!Dr(g.segments,h,I))return!1;for(const S in _.children)if(!g.children[S]||!Ii(g.children[S],_.children[S],I))return!1;return!0}{const S=h.slice(0,g.segments.length),k=h.slice(g.segments.length);return!!(Ve(g.segments,S)&&Dr(g.segments,S,I)&&g.children[vt])&&In(g.children[vt],_,k,I)}}function Dr(g,_,h){return _.every((I,S)=>kn[h](g[S].parameters,I.parameters))}class nn{constructor(_=new Ft([],{}),h={},I=null){this.root=_,this.queryParams=h,this.fragment=I}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return Jt.serialize(this)}}class Ft{constructor(_,h){this.segments=_,this.children=h,this.parent=null,Bn(h,(I,S)=>I.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ar(this)}}class Rr{constructor(_,h){this.path=_,this.parameters=h}get parameterMap(){return this._parameterMap||(this._parameterMap=bn(this.parameters)),this._parameterMap}toString(){return re(this)}}function Ve(g,_){return g.length===_.length&&g.every((h,I)=>h.path===_[I].path)}let xt=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=v.Yz7({token:g,factory:function(){return new jt},providedIn:"root"}),g})();class jt{parse(_){const h=new ci(_);return new nn(h.parseRootSegment(),h.parseQueryParams(),h.parseFragment())}serialize(_){const h=`/${X(_.root,!0)}`,I=function ye(g){const _=Object.keys(g).map(h=>{const I=g[h];return Array.isArray(I)?I.map(S=>`${ie(h)}=${ie(S)}`).join("&"):`${ie(h)}=${ie(I)}`}).filter(h=>!!h);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${h}${I}${"string"==typeof _.fragment?`#${function Me(g){return encodeURI(g)}(_.fragment)}`:""}`}}const Jt=new jt;function ar(g){return g.segments.map(_=>re(_)).join("/")}function X(g,_){if(!g.hasChildren())return ar(g);if(_){const h=g.children[vt]?X(g.children[vt],!1):"",I=[];return Bn(g.children,(S,k)=>{k!==vt&&I.push(`${k}:${X(S,!1)}`)}),I.length>0?`${h}(${I.join("//")})`:h}{const h=function Ct(g,_){let h=[];return Bn(g.children,(I,S)=>{S===vt&&(h=h.concat(_(I,S)))}),Bn(g.children,(I,S)=>{S!==vt&&(h=h.concat(_(I,S)))}),h}(g,(I,S)=>S===vt?[X(g.children[vt],!1)]:[`${S}:${X(I,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[vt]?`${ar(g)}/${h[0]}`:`${ar(g)}/(${h.join("//")})`}}function q(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ie(g){return q(g).replace(/%3B/gi,";")}function ve(g){return q(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _t(g){return decodeURIComponent(g)}function ne(g){return _t(g.replace(/\+/g,"%20"))}function re(g){return`${ve(g.path)}${function W(g){return Object.keys(g).map(_=>`;${ve(_)}=${ve(g[_])}`).join("")}(g.parameters)}`}const ke=/^[^\/()?;=#]+/;function Ze(g){const _=g.match(ke);return _?_[0]:""}const $t=/^[^=?&#]+/,Kn=/^[^&#]+/;class ci{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let h={};this.peekStartsWith("/(")&&(this.capture("/"),h=this.parseParens(!0));let I={};return this.peekStartsWith("(")&&(I=this.parseParens(!1)),(_.length>0||Object.keys(h).length>0)&&(I[vt]=new Ft(_,h)),I}parseSegment(){const _=Ze(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new v.vHH(4009,Rt);return this.capture(_),new Rr(_t(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const h=Ze(this.remaining);if(!h)return;this.capture(h);let I="";if(this.consumeOptional("=")){const S=Ze(this.remaining);S&&(I=S,this.capture(I))}_[_t(h)]=_t(I)}parseQueryParam(_){const h=function yn(g){const _=g.match($t);return _?_[0]:""}(this.remaining);if(!h)return;this.capture(h);let I="";if(this.consumeOptional("=")){const j=function us(g){const _=g.match(Kn);return _?_[0]:""}(this.remaining);j&&(I=j,this.capture(I))}const S=ne(h),k=ne(I);if(_.hasOwnProperty(S)){let j=_[S];Array.isArray(j)||(j=[j],_[S]=j),j.push(k)}else _[S]=k}parseParens(_){const h={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const I=Ze(this.remaining),S=this.remaining[I.length];if("/"!==S&&")"!==S&&";"!==S)throw new v.vHH(4010,Rt);let k;I.indexOf(":")>-1?(k=I.slice(0,I.indexOf(":")),this.capture(k),this.capture(":")):_&&(k=vt);const j=this.parseChildren();h[k]=1===Object.keys(j).length?j[vt]:new Ft([],j),this.consumeOptional("//")}return h}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new v.vHH(4011,Rt)}}function Di(g){return g.segments.length>0?new Ft([],{[vt]:g}):g}function Li(g){const _={};for(const I of Object.keys(g.children)){const k=Li(g.children[I]);(k.segments.length>0||k.hasChildren())&&(_[I]=k)}return function xo(g){if(1===g.numberOfChildren&&g.children[vt]){const _=g.children[vt];return new Ft(g.segments.concat(_.segments),_.children)}return g}(new Ft(g.segments,_))}function Ln(g){return g instanceof nn}const Fi=!1;function Ir(g,_,h,I,S){if(0===h.length)return $n(_.root,_.root,_.root,I,S);const k=function jn(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new Xt(!0,0,g);let _=0,h=!1;const I=g.reduce((S,k,j)=>{if("object"==typeof k&&null!=k){if(k.outlets){const de={};return Bn(k.outlets,(Le,yt)=>{de[yt]="string"==typeof Le?Le.split("/"):Le}),[...S,{outlets:de}]}if(k.segmentPath)return[...S,k.segmentPath]}return"string"!=typeof k?[...S,k]:0===j?(k.split("/").forEach((de,Le)=>{0==Le&&"."===de||(0==Le&&""===de?h=!0:".."===de?_++:""!=de&&S.push(de))}),S):[...S,k]},[]);return new Xt(h,_,I)}(h);return k.toRoot()?$n(_.root,_.root,new Ft([],{}),I,S):function j(Le){const yt=function Vn(g,_,h,I){if(g.isAbsolute)return new mr(_.root,!0,0);if(-1===I)return new mr(h,h===_.root,0);return function kr(g,_,h){let I=g,S=_,k=h;for(;k>S;){if(k-=S,I=I.parent,!I)throw new v.vHH(4005,Fi&&"Invalid number of '../'");S=I.segments.length}return new mr(I,!1,S-k)}(h,I+($r(g.commands[0])?0:1),g.numberOfDoubleDots)}(k,_,g.snapshot?._urlSegment,Le),It=yt.processChildren?Mr(yt.segmentGroup,yt.index,k.commands):ti(yt.segmentGroup,yt.index,k.commands);return $n(_.root,yt.segmentGroup,It,I,S)}(g.snapshot?._lastPathIndex)}function $r(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function ur(g){return"object"==typeof g&&null!=g&&g.outlets}function $n(g,_,h,I,S){let j,k={};I&&Bn(I,(Le,yt)=>{k[yt]=Array.isArray(Le)?Le.map(It=>`${It}`):`${Le}`}),j=g===_?h:Et(g,_,h);const de=Di(Li(j));return new nn(de,k,S)}function Et(g,_,h){const I={};return Bn(g.children,(S,k)=>{I[k]=S===_?h:Et(S,_,h)}),new Ft(g.segments,I)}class Xt{constructor(_,h,I){if(this.isAbsolute=_,this.numberOfDoubleDots=h,this.commands=I,_&&I.length>0&&$r(I[0]))throw new v.vHH(4003,Fi&&"Root segment cannot have matrix parameters");const S=I.find(ur);if(S&&S!==En(I))throw new v.vHH(4004,Fi&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mr{constructor(_,h,I){this.segmentGroup=_,this.processChildren=h,this.index=I}}function ti(g,_,h){if(g||(g=new Ft([],{})),0===g.segments.length&&g.hasChildren())return Mr(g,_,h);const I=function Qt(g,_,h){let I=0,S=_;const k={match:!1,pathIndex:0,commandIndex:0};for(;S<g.segments.length;){if(I>=h.length)return k;const j=g.segments[S],de=h[I];if(ur(de))break;const Le=`${de}`,yt=I<h.length-1?h[I+1]:null;if(S>0&&void 0===Le)break;if(Le&&yt&&"object"==typeof yt&&void 0===yt.outlets){if(!ni(Le,yt,j))return k;I+=2}else{if(!ni(Le,{},j))return k;I++}S++}return{match:!0,pathIndex:S,commandIndex:I}}(g,_,h),S=h.slice(I.commandIndex);if(I.match&&I.pathIndex<g.segments.length){const k=new Ft(g.segments.slice(0,I.pathIndex),{});return k.children[vt]=new Ft(g.segments.slice(I.pathIndex),g.children),Mr(k,0,S)}return I.match&&0===S.length?new Ft(g.segments,{}):I.match&&!g.hasChildren()?hi(g,_,h):I.match?Mr(g,0,S):hi(g,_,h)}function Mr(g,_,h){if(0===h.length)return new Ft(g.segments,{});{const I=function Wn(g){return ur(g[0])?g[0].outlets:{[vt]:g}}(h),S={};return!I[vt]&&g.children[vt]&&1===g.numberOfChildren&&0===g.children[vt].segments.length?Mr(g.children[vt],_,h):(Bn(I,(k,j)=>{"string"==typeof k&&(k=[k]),null!==k&&(S[j]=ti(g.children[j],_,k))}),Bn(g.children,(k,j)=>{void 0===I[j]&&(S[j]=k)}),new Ft(g.segments,S))}}function hi(g,_,h){const I=g.segments.slice(0,_);let S=0;for(;S<h.length;){const k=h[S];if(ur(k)){const Le=cs(k.outlets);return new Ft(I,Le)}if(0===S&&$r(h[0])){I.push(new Rr(g.segments[_].path,qs(h[0]))),S++;continue}const j=ur(k)?k.outlets[vt]:`${k}`,de=S<h.length-1?h[S+1]:null;j&&de&&$r(de)?(I.push(new Rr(j,qs(de))),S+=2):(I.push(new Rr(j,{})),S++)}return new Ft(I,{})}function cs(g){const _={};return Bn(g,(h,I)=>{"string"==typeof h&&(h=[h]),null!==h&&(_[I]=hi(new Ft([],{}),0,h))}),_}function qs(g){const _={};return Bn(g,(h,I)=>_[I]=`${h}`),_}function ni(g,_,h){return g==h.path&&pt(_,h.parameters)}const dr="imperative";class hr{constructor(_,h){this.id=_,this.url=h}}class Ci extends hr{constructor(_,h,I="imperative",S=null){super(_,h),this.type=0,this.navigationTrigger=I,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cr extends hr{constructor(_,h,I){super(_,h),this.urlAfterRedirects=I,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fi extends hr{constructor(_,h,I,S){super(_,h),this.reason=I,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ds extends hr{constructor(_,h,I,S){super(_,h),this.reason=I,this.code=S,this.type=16}}class Pn extends hr{constructor(_,h,I,S){super(_,h),this.error=I,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ui extends hr{constructor(_,h,I,S){super(_,h),this.urlAfterRedirects=I,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fe extends hr{constructor(_,h,I,S){super(_,h),this.urlAfterRedirects=I,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ae extends hr{constructor(_,h,I,S,k){super(_,h),this.urlAfterRedirects=I,this.state=S,this.shouldActivate=k,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class me extends hr{constructor(_,h,I,S){super(_,h),this.urlAfterRedirects=I,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends hr{constructor(_,h,I,S){super(_,h),this.urlAfterRedirects=I,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bt{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class en{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sn{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mn{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dn{constructor(_,h,I){this.routerEvent=_,this.position=h,this.anchor=I,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Zn=(()=>{class g{createUrlTree(h,I,S,k,j,de){return Ir(h||I.root,S,k,j,de)}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac}),g})(),Qs=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=v.Yz7({token:g,factory:function(_){return Zn.\u0275fac(_)},providedIn:"root"}),g})();class hs{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const h=this.pathFromRoot(_);return h.length>1?h[h.length-2]:null}children(_){const h=Js(_,this._root);return h?h.children.map(I=>I.value):[]}firstChild(_){const h=Js(_,this._root);return h&&h.children.length>0?h.children[0].value:null}siblings(_){const h=Rn(_,this._root);return h.length<2?[]:h[h.length-2].children.map(S=>S.value).filter(S=>S!==_)}pathFromRoot(_){return Rn(_,this._root).map(h=>h.value)}}function Js(g,_){if(g===_.value)return _;for(const h of _.children){const I=Js(g,h);if(I)return I}return null}function Rn(g,_){if(g===_.value)return[_];for(const h of _.children){const I=Rn(g,h);if(I.length)return I.unshift(_),I}return[]}class Gt{constructor(_,h){this.value=_,this.children=h}toString(){return`TreeNode(${this.value})`}}function nr(g){const _={};return g&&g.children.forEach(h=>_[h.value.outlet]=h),_}class vo extends hs{constructor(_,h){super(_),this.snapshot=h,Bi(this,_)}toString(){return this.snapshot.toString()}}function Eo(g,_){const h=function ri(g,_){const j=new jr([],{},{},"",{},vt,_,null,g.root,-1,{});return new gs("",new Gt(j,[]))}(g,_),I=new oe([new Rr("",{})]),S=new oe({}),k=new oe({}),j=new oe({}),de=new oe(""),Le=new ks(I,S,j,de,k,vt,_,h.root);return Le.snapshot=h.root,new vo(new Gt(Le,[]),h)}class ks{constructor(_,h,I,S,k,j,de,Le){this.url=_,this.params=h,this.queryParams=I,this.fragment=S,this.data=k,this.outlet=j,this.component=de,this.title=this.data?.pipe((0,it.U)(yt=>yt[Un]))??(0,F.of)(void 0),this._futureSnapshot=Le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(_=>bn(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(_=>bn(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fs(g,_="emptyOnly"){const h=g.pathFromRoot;let I=0;if("always"!==_)for(I=h.length-1;I>=1;){const S=h[I],k=h[I-1];if(S.routeConfig&&""===S.routeConfig.path)I--;else{if(k.component)break;I--}}return function ps(g){return g.reduce((_,h)=>({params:{..._.params,...h.params},data:{..._.data,...h.data},resolve:{...h.data,..._.resolve,...h.routeConfig?.data,...h._resolvedData}}),{params:{},data:{},resolve:{}})}(h.slice(I))}class jr{get title(){return this.data?.[Un]}constructor(_,h,I,S,k,j,de,Le,yt,It,vn){this.url=_,this.params=h,this.queryParams=I,this.fragment=S,this.data=k,this.outlet=j,this.component=de,this.routeConfig=Le,this._urlSegment=yt,this._lastPathIndex=It,this._resolve=vn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(I=>I.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gs extends hs{constructor(_,h){super(h),this.url=_,Bi(this,h)}toString(){return wi(this._root)}}function Bi(g,_){_.value._routerState=g,_.children.forEach(h=>Bi(g,h))}function wi(g){const _=g.children.length>0?` { ${g.children.map(wi).join(", ")} } `:"";return`${g.value}${_}`}function Hr(g){if(g.snapshot){const _=g.snapshot,h=g._futureSnapshot;g.snapshot=h,pt(_.queryParams,h.queryParams)||g.queryParams.next(h.queryParams),_.fragment!==h.fragment&&g.fragment.next(h.fragment),pt(_.params,h.params)||g.params.next(h.params),function On(g,_){if(g.length!==_.length)return!1;for(let h=0;h<g.length;++h)if(!pt(g[h],_[h]))return!1;return!0}(_.url,h.url)||g.url.next(h.url),pt(_.data,h.data)||g.data.next(h.data)}else g.snapshot=g._futureSnapshot,g.data.next(g._futureSnapshot.data)}function Io(g,_){const h=pt(g.params,_.params)&&function ct(g,_){return Ve(g,_)&&g.every((h,I)=>pt(h.parameters,_[I].parameters))}(g.url,_.url);return h&&!(!g.parent!=!_.parent)&&(!g.parent||Io(g.parent,_.parent))}function ii(g,_,h){if(h&&g.shouldReuseRoute(_.value,h.value.snapshot)){const I=h.value;I._futureSnapshot=_.value;const S=function Do(g,_,h){return _.children.map(I=>{for(const S of h.children)if(g.shouldReuseRoute(I.value,S.value.snapshot))return ii(g,I,S);return ii(g,I)})}(g,_,h);return new Gt(I,S)}{if(g.shouldAttach(_.value)){const k=g.retrieve(_.value);if(null!==k){const j=k.route;return j.value._futureSnapshot=_.value,j.children=_.children.map(de=>ii(g,de)),j}}const I=function Co(g){return new ks(new oe(g.url),new oe(g.params),new oe(g.queryParams),new oe(g.fragment),new oe(g.data),g.outlet,g.component,g)}(_.value),S=_.children.map(k=>ii(g,k));return new Gt(I,S)}}const xr="ngNavigationCancelingError";function hn(g,_){const{redirectTo:h,navigationBehaviorOptions:I}=Ln(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,S=Vi(!1,0,_);return S.url=h,S.navigationBehaviorOptions=I,S}function Vi(g,_,h){const I=new Error("NavigationCancelingError: "+(g||""));return I[xr]=!0,I.cancellationCode=_,h&&(I.url=h),I}function $i(g){return ji(g)&&Ln(g.url)}function ji(g){return g&&g[xr]}class Lr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yr,this.attachRef=null}}let Yr=(()=>{class g{constructor(){this.contexts=new Map}onChildOutletCreated(h,I){const S=this.getOrCreateContext(h);S.outlet=I,this.contexts.set(h,S)}onChildOutletDestroyed(h){const I=this.getContext(h);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const h=this.contexts;return this.contexts=new Map,h}onOutletReAttached(h){this.contexts=h}getOrCreateContext(h){let I=this.getContext(h);return I||(I=new Lr,this.contexts.set(h,I)),I}getContext(h){return this.contexts.get(h)||null}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const Fr=!1;let Pr=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=vt,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.parentContexts=(0,v.f3M)(Yr),this.location=(0,v.f3M)(v.s_b),this.changeDetector=(0,v.f3M)(v.sBO),this.environmentInjector=(0,v.f3M)(v.lqb)}ngOnChanges(h){if(h.name){const{firstChange:I,previousValue:S}=h.name;if(I)return;this.isTrackedInParentContexts(S)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(S)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(h){return this.parentContexts.getContext(h)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const h=this.parentContexts.getContext(this.name);h?.route&&(h.attachRef?this.attach(h.attachRef,h.route):this.activateWith(h.route,h.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,Fr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,Fr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,Fr);this.location.detach();const h=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(h.instance),h}attach(h,I){this.activated=h,this._activatedRoute=I,this.location.insert(h.hostView),this.attachEvents.emit(h.instance)}deactivate(){if(this.activated){const h=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(h)}}activateWith(h,I){if(this.isActivated)throw new v.vHH(4013,Fr);this._activatedRoute=h;const S=this.location,j=h.snapshot.component,de=this.parentContexts.getOrCreateContext(this.name).children,Le=new _r(h,de,S.injector);if(I&&function ko(g){return!!g.resolveComponentFactory}(I)){const yt=I.resolveComponentFactory(j);this.activated=S.createComponent(yt,S.length,Le)}else this.activated=S.createComponent(j,{index:S.length,injector:Le,environmentInjector:I??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275dir=v.lG2({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[v.TTD]}),g})();class _r{constructor(_,h,I){this.route=_,this.childContexts=h,this.parent=I}get(_,h){return _===ks?this.route:_===Yr?this.childContexts:this.parent.get(_,h)}}let fn=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275cmp=v.Xpm({type:g,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(h,I){1&h&&v._UZ(0,"router-outlet")},dependencies:[Pr],encapsulation:2}),g})();function Ls(g,_){return g.providers&&!g._injector&&(g._injector=(0,v.MMx)(g.providers,_,`Route: ${g.path}`)),g._injector??_}function ms(g){const _=g.children&&g.children.map(ms),h=_?{...g,children:_}:{...g};return!h.component&&!h.loadComponent&&(_||h.loadChildren)&&h.outlet&&h.outlet!==vt&&(h.component=fn),h}function fr(g){return g.outlet||vt}function Nn(g,_){const h=g.filter(I=>fr(I)===_);return h.push(...g.filter(I=>fr(I)!==_)),h}function Xi(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let _=g.parent;_;_=_.parent){const h=_.routeConfig;if(h?._loadedInjector)return h._loadedInjector;if(h?._injector)return h._injector}return null}class _s{constructor(_,h,I,S){this.routeReuseStrategy=_,this.futureState=h,this.currState=I,this.forwardEvent=S}activate(_){const h=this.futureState._root,I=this.currState?this.currState._root:null;this.deactivateChildRoutes(h,I,_),Hr(this.futureState.root),this.activateChildRoutes(h,I,_)}deactivateChildRoutes(_,h,I){const S=nr(h);_.children.forEach(k=>{const j=k.value.outlet;this.deactivateRoutes(k,S[j],I),delete S[j]}),Bn(S,(k,j)=>{this.deactivateRouteAndItsChildren(k,I)})}deactivateRoutes(_,h,I){const S=_.value,k=h?h.value:null;if(S===k)if(S.component){const j=I.getContext(S.outlet);j&&this.deactivateChildRoutes(_,h,j.children)}else this.deactivateChildRoutes(_,h,I);else k&&this.deactivateRouteAndItsChildren(h,I)}deactivateRouteAndItsChildren(_,h){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,h):this.deactivateRouteAndOutlet(_,h)}detachAndStoreRouteSubtree(_,h){const I=h.getContext(_.value.outlet),S=I&&_.value.component?I.children:h,k=nr(_);for(const j of Object.keys(k))this.deactivateRouteAndItsChildren(k[j],S);if(I&&I.outlet){const j=I.outlet.detach(),de=I.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:j,route:_,contexts:de})}}deactivateRouteAndOutlet(_,h){const I=h.getContext(_.value.outlet),S=I&&_.value.component?I.children:h,k=nr(_);for(const j of Object.keys(k))this.deactivateRouteAndItsChildren(k[j],S);I&&I.outlet&&(I.outlet.deactivate(),I.children.onOutletDeactivated(),I.attachRef=null,I.resolver=null,I.route=null)}activateChildRoutes(_,h,I){const S=nr(h);_.children.forEach(k=>{this.activateRoutes(k,S[k.value.outlet],I),this.forwardEvent(new mn(k.value.snapshot))}),_.children.length&&this.forwardEvent(new Sn(_.value.snapshot))}activateRoutes(_,h,I){const S=_.value,k=h?h.value:null;if(Hr(S),S===k)if(S.component){const j=I.getOrCreateContext(S.outlet);this.activateChildRoutes(_,h,j.children)}else this.activateChildRoutes(_,h,I);else if(S.component){const j=I.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const de=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),j.children.onOutletReAttached(de.contexts),j.attachRef=de.componentRef,j.route=de.route.value,j.outlet&&j.outlet.attach(de.componentRef,de.route.value),Hr(de.route.value),this.activateChildRoutes(_,null,j.children)}else{const de=Xi(S.snapshot),Le=de?.get(v._Vd)??null;j.attachRef=null,j.route=S,j.resolver=Le,j.injector=de,j.outlet&&j.outlet.activateWith(S,j.injector),this.activateChildRoutes(_,null,j.children)}}else this.activateChildRoutes(_,null,I)}}class Xs{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class pi{constructor(_,h){this.component=_,this.route=h}}function gi(g,_,h){const I=g._root;return ys(I,_?_._root:null,h,[I.value])}function Kt(g,_){const h=Symbol(),I=_.get(g,h);return I===h?"function"!=typeof g||(0,v.Z0I)(g)?_.get(g):g:I}function ys(g,_,h,I,S={canDeactivateChecks:[],canActivateChecks:[]}){const k=nr(_);return g.children.forEach(j=>{(function vs(g,_,h,I,S={canDeactivateChecks:[],canActivateChecks:[]}){const k=g.value,j=_?_.value:null,de=h?h.getContext(g.value.outlet):null;if(j&&k.routeConfig===j.routeConfig){const Le=function Qe(g,_,h){if("function"==typeof h)return h(g,_);switch(h){case"pathParamsChange":return!Ve(g.url,_.url);case"pathParamsOrQueryParamsChange":return!Ve(g.url,_.url)||!pt(g.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Io(g,_)||!pt(g.queryParams,_.queryParams);default:return!Io(g,_)}}(j,k,k.routeConfig.runGuardsAndResolvers);Le?S.canActivateChecks.push(new Xs(I)):(k.data=j.data,k._resolvedData=j._resolvedData),ys(g,_,k.component?de?de.children:null:h,I,S),Le&&de&&de.outlet&&de.outlet.isActivated&&S.canDeactivateChecks.push(new pi(de.outlet.component,j))}else j&&kt(_,de,S),S.canActivateChecks.push(new Xs(I)),ys(g,null,k.component?de?de.children:null:h,I,S)})(j,k[j.value.outlet],h,I.concat([j.value]),S),delete k[j.value.outlet]}),Bn(k,(j,de)=>kt(j,h.getContext(de),S)),S}function kt(g,_,h){const I=nr(g),S=g.value;Bn(I,(k,j)=>{kt(k,S.component?_?_.children.getContext(j):null:_,h)}),h.canDeactivateChecks.push(new pi(S.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,S))}function Hn(g){return"function"==typeof g}function Es(g){return g instanceof ce.K||"EmptyError"===g?.name}const Bs=Symbol("INITIAL_VALUE");function Yn(){return(0,lt.w)(g=>at(g.map(_=>_.pipe((0,N.q)(1),(0,Te.O)(Bs)))).pipe((0,it.U)(_=>{for(const h of _)if(!0!==h){if(h===Bs)return Bs;if(!1===h||h instanceof nn)return h}return!0}),(0,Ie.h)(_=>_!==Bs),(0,N.q)(1)))}function Ds(g){return(0,Fe.z)((0,Je.b)(_=>{if(Ln(_))throw hn(0,_)}),(0,it.U)(_=>!0===_))}const _i={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function so(g,_,h,I,S){const k=Wi(g,_,h);return k.matched?function io(g,_,h,I){const S=_.canMatch;if(!S||0===S.length)return(0,F.of)(!0);const k=S.map(j=>{const de=Kt(j,g);return Ot(function Us(g){return g&&Hn(g.canMatch)}(de)?de.canMatch(_,h):g.runInContext(()=>de(_,h)))});return(0,F.of)(k).pipe(Yn(),Ds())}(I=Ls(_,I),_,h).pipe((0,it.U)(j=>!0===j?k:{..._i})):(0,F.of)(k)}function Wi(g,_,h){if(""===_.path)return"full"===_.pathMatch&&(g.hasChildren()||h.length>0)?{..._i}:{matched:!0,consumedSegments:[],remainingSegments:h,parameters:{},positionalParamSegments:{}};const S=(_.matcher||Mt)(h,g,_);if(!S)return{..._i};const k={};Bn(S.posParams,(de,Le)=>{k[Le]=de.path});const j=S.consumed.length>0?{...k,...S.consumed[S.consumed.length-1].parameters}:k;return{matched:!0,consumedSegments:S.consumed,remainingSegments:h.slice(S.consumed.length),parameters:j,positionalParamSegments:S.posParams??{}}}function zi(g,_,h,I){if(h.length>0&&function ma(g,_,h){return h.some(I=>To(g,_,I)&&fr(I)!==vt)}(g,h,I)){const k=new Ft(_,function Bo(g,_,h,I){const S={};S[vt]=I,I._sourceSegment=g,I._segmentIndexShift=_.length;for(const k of h)if(""===k.path&&fr(k)!==vt){const j=new Ft([],{});j._sourceSegment=g,j._segmentIndexShift=_.length,S[fr(k)]=j}return S}(g,_,I,new Ft(h,g.children)));return k._sourceSegment=g,k._segmentIndexShift=_.length,{segmentGroup:k,slicedSegments:[]}}if(0===h.length&&function ka(g,_,h){return h.some(I=>To(g,_,I))}(g,h,I)){const k=new Ft(g.segments,function Uo(g,_,h,I,S){const k={};for(const j of I)if(To(g,h,j)&&!S[fr(j)]){const de=new Ft([],{});de._sourceSegment=g,de._segmentIndexShift=_.length,k[fr(j)]=de}return{...S,...k}}(g,_,h,I,g.children));return k._sourceSegment=g,k._segmentIndexShift=_.length,{segmentGroup:k,slicedSegments:h}}const S=new Ft(g.segments,g.children);return S._sourceSegment=g,S._segmentIndexShift=_.length,{segmentGroup:S,slicedSegments:h}}function To(g,_,h){return(!(g.hasChildren()||_.length>0)||"full"!==h.pathMatch)&&""===h.path}function Vo(g,_,h,I){return!!(fr(g)===I||I!==vt&&To(_,h,g))&&("**"===g.path||Wi(_,g,h).matched)}function ul(g,_,h){return 0===_.length&&!g.children[h]}const zn=!1;class qr{constructor(_){this.segmentGroup=_||null}}class Jn{constructor(_){this.urlTree=_}}function Vs(g){return ze(new qr(g))}function $s(g){return ze(new Jn(g))}class ts{constructor(_,h,I,S,k){this.injector=_,this.configLoader=h,this.urlSerializer=I,this.urlTree=S,this.config=k,this.allowRedirects=!0}apply(){const _=zi(this.urlTree.root,[],[],this.config).segmentGroup,h=new Ft(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,h,vt).pipe((0,it.U)(k=>this.createUrlTree(Li(k),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nt(k=>{if(k instanceof Jn)return this.allowRedirects=!1,this.match(k.urlTree);throw k instanceof qr?this.noMatchError(k):k}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,vt).pipe((0,it.U)(S=>this.createUrlTree(Li(S),_.queryParams,_.fragment))).pipe(nt(S=>{throw S instanceof qr?this.noMatchError(S):S}))}noMatchError(_){return new v.vHH(4002,zn)}createUrlTree(_,h,I){const S=Di(_);return new nn(S,h,I)}expandSegmentGroup(_,h,I,S){return 0===I.segments.length&&I.hasChildren()?this.expandChildren(_,h,I).pipe((0,it.U)(k=>new Ft([],k))):this.expandSegment(_,I,h,I.segments,S,!0)}expandChildren(_,h,I){const S=[];for(const k of Object.keys(I.children))"primary"===k?S.unshift(k):S.push(k);return(0,H.D)(S).pipe(Ue(k=>{const j=I.children[k],de=Nn(h,k);return this.expandSegmentGroup(_,de,j,k).pipe((0,it.U)(Le=>({segment:Le,outlet:k})))}),(0,Bt.R)((k,j)=>(k[j.outlet]=j.segment,k),{}),Ut())}expandSegment(_,h,I,S,k,j){return(0,H.D)(I).pipe(Ue(de=>this.expandSegmentAgainstRoute(_,h,I,de,S,k,j).pipe(nt(yt=>{if(yt instanceof qr)return(0,F.of)(null);throw yt}))),(0,xe.P)(de=>!!de),nt((de,Le)=>{if(Es(de))return ul(h,S,k)?(0,F.of)(new Ft([],{})):Vs(h);throw de}))}expandSegmentAgainstRoute(_,h,I,S,k,j,de){return Vo(S,h,k,j)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(_,h,S,k,j):de&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,h,I,S,k,j):Vs(h):Vs(h)}expandSegmentAgainstRouteUsingRedirect(_,h,I,S,k,j){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,I,S,j):this.expandRegularSegmentAgainstRouteUsingRedirect(_,h,I,S,k,j)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,h,I,S){const k=this.applyRedirectCommands([],I.redirectTo,{});return I.redirectTo.startsWith("/")?$s(k):this.lineralizeSegments(I,k).pipe((0,Ce.z)(j=>{const de=new Ft(j,{});return this.expandSegment(_,de,h,j,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,h,I,S,k,j){const{matched:de,consumedSegments:Le,remainingSegments:yt,positionalParamSegments:It}=Wi(h,S,k);if(!de)return Vs(h);const vn=this.applyRedirectCommands(Le,S.redirectTo,It);return S.redirectTo.startsWith("/")?$s(vn):this.lineralizeSegments(S,vn).pipe((0,Ce.z)(b=>this.expandSegment(_,h,I,b.concat(yt),j,!1)))}matchSegmentAgainstRoute(_,h,I,S,k){return"**"===I.path?(_=Ls(I,_),I.loadChildren?(I._loadedRoutes?(0,F.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):this.configLoader.loadChildren(_,I)).pipe((0,it.U)(de=>(I._loadedRoutes=de.routes,I._loadedInjector=de.injector,new Ft(S,{})))):(0,F.of)(new Ft(S,{}))):so(h,I,S,_).pipe((0,lt.w)(({matched:j,consumedSegments:de,remainingSegments:Le})=>j?this.getChildConfig(_=I._injector??_,I,S).pipe((0,Ce.z)(It=>{const vn=It.injector??_,b=It.routes,{segmentGroup:A,slicedSegments:L}=zi(h,de,Le,b),K=new Ft(A.segments,A.children);if(0===L.length&&K.hasChildren())return this.expandChildren(vn,b,K).pipe((0,it.U)(Tt=>new Ft(de,Tt)));if(0===b.length&&0===L.length)return(0,F.of)(new Ft(de,{}));const le=fr(I)===k;return this.expandSegment(vn,K,b,L,le?vt:k,!0).pipe((0,it.U)(Xe=>new Ft(de.concat(Xe.segments),Xe.children)))})):Vs(h)))}getChildConfig(_,h,I){return h.children?(0,F.of)({routes:h.children,injector:_}):h.loadChildren?void 0!==h._loadedRoutes?(0,F.of)({routes:h._loadedRoutes,injector:h._loadedInjector}):function ro(g,_,h,I){const S=_.canLoad;if(void 0===S||0===S.length)return(0,F.of)(!0);const k=S.map(j=>{const de=Kt(j,g);return Ot(function yr(g){return g&&Hn(g.canLoad)}(de)?de.canLoad(_,h):g.runInContext(()=>de(_,h)))});return(0,F.of)(k).pipe(Yn(),Ds())}(_,h,I).pipe((0,Ce.z)(S=>S?this.configLoader.loadChildren(_,h).pipe((0,Je.b)(k=>{h._loadedRoutes=k.routes,h._loadedInjector=k.injector})):function Gi(g){return ze(Vi(zn,3))}())):(0,F.of)({routes:[],injector:_})}lineralizeSegments(_,h){let I=[],S=h.root;for(;;){if(I=I.concat(S.segments),0===S.numberOfChildren)return(0,F.of)(I);if(S.numberOfChildren>1||!S.children[vt])return _.redirectTo,ze(new v.vHH(4e3,zn));S=S.children[vt]}}applyRedirectCommands(_,h,I){return this.applyRedirectCreateUrlTree(h,this.urlSerializer.parse(h),_,I)}applyRedirectCreateUrlTree(_,h,I,S){const k=this.createSegmentGroup(_,h.root,I,S);return new nn(k,this.createQueryParams(h.queryParams,this.urlTree.queryParams),h.fragment)}createQueryParams(_,h){const I={};return Bn(_,(S,k)=>{if("string"==typeof S&&S.startsWith(":")){const de=S.substring(1);I[k]=h[de]}else I[k]=S}),I}createSegmentGroup(_,h,I,S){const k=this.createSegments(_,h.segments,I,S);let j={};return Bn(h.children,(de,Le)=>{j[Le]=this.createSegmentGroup(_,de,I,S)}),new Ft(k,j)}createSegments(_,h,I,S){return h.map(k=>k.path.startsWith(":")?this.findPosParam(_,k,S):this.findOrReturn(k,I))}findPosParam(_,h,I){const S=I[h.path.substring(1)];if(!S)throw new v.vHH(4001,zn);return S}findOrReturn(_,h){let I=0;for(const S of h){if(S.path===_.path)return h.splice(I),S;I++}return _}}class Ki{}class D{constructor(_,h,I,S,k,j,de){this.injector=_,this.rootComponentType=h,this.config=I,this.urlTree=S,this.url=k,this.paramsInheritanceStrategy=j,this.urlSerializer=de}recognize(){const _=zi(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,vt).pipe((0,it.U)(h=>{if(null===h)return null;const I=new jr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),S=new Gt(I,h),k=new gs(this.url,S);return this.inheritParamsAndData(k._root),k}))}inheritParamsAndData(_){const h=_.value,I=fs(h,this.paramsInheritanceStrategy);h.params=Object.freeze(I.params),h.data=Object.freeze(I.data),_.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(_,h,I,S){return 0===I.segments.length&&I.hasChildren()?this.processChildren(_,h,I):this.processSegment(_,h,I,I.segments,S)}processChildren(_,h,I){return(0,H.D)(Object.keys(I.children)).pipe(Ue(S=>{const k=I.children[S],j=Nn(h,S);return this.processSegmentGroup(_,j,k,S)}),(0,Bt.R)((S,k)=>S&&k?(S.push(...k),S):null),function Fn(g,_=!1){return(0,Y.e)((h,I)=>{let S=0;h.subscribe((0,Ke.x)(I,k=>{const j=g(k,S++);(j||_)&&I.next(k),!j&&I.complete()}))})}(S=>null!==S),(0,ft.d)(null),Ut(),(0,it.U)(S=>{if(null===S)return null;const k=Z(S);return function M(g){g.sort((_,h)=>_.value.outlet===vt?-1:h.value.outlet===vt?1:_.value.outlet.localeCompare(h.value.outlet))}(k),k}))}processSegment(_,h,I,S,k){return(0,H.D)(h).pipe(Ue(j=>this.processSegmentAgainstRoute(j._injector??_,j,I,S,k)),(0,xe.P)(j=>!!j),nt(j=>{if(Es(j))return ul(I,S,k)?(0,F.of)([]):(0,F.of)(null);throw j}))}processSegmentAgainstRoute(_,h,I,S,k){if(h.redirectTo||!Vo(h,I,S,k))return(0,F.of)(null);let j;if("**"===h.path){const de=S.length>0?En(S).parameters:{},Le=ht(I)+S.length,yt=new jr(S,de,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dn(h),fr(h),h.component??h._loadedComponent??null,h,He(I),Le,xn(h));j=(0,F.of)({snapshot:yt,consumedSegments:[],remainingSegments:[]})}else j=so(I,h,S,_).pipe((0,it.U)(({matched:de,consumedSegments:Le,remainingSegments:yt,parameters:It})=>{if(!de)return null;const vn=ht(I)+Le.length;return{snapshot:new jr(Le,It,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dn(h),fr(h),h.component??h._loadedComponent??null,h,He(I),vn,xn(h)),consumedSegments:Le,remainingSegments:yt}}));return j.pipe((0,lt.w)(de=>{if(null===de)return(0,F.of)(null);const{snapshot:Le,consumedSegments:yt,remainingSegments:It}=de;_=h._injector??_;const vn=h._loadedInjector??_,b=function T(g){return g.children?g.children:g.loadChildren?g._loadedRoutes:[]}(h),{segmentGroup:A,slicedSegments:L}=zi(I,yt,It,b.filter(le=>void 0===le.redirectTo));if(0===L.length&&A.hasChildren())return this.processChildren(vn,b,A).pipe((0,it.U)(le=>null===le?null:[new Gt(Le,le)]));if(0===b.length&&0===L.length)return(0,F.of)([new Gt(Le,[])]);const K=fr(h)===k;return this.processSegment(vn,b,A,L,K?vt:k).pipe((0,it.U)(le=>null===le?null:[new Gt(Le,le)]))}))}}function U(g){const _=g.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function Z(g){const _=[],h=new Set;for(const I of g){if(!U(I)){_.push(I);continue}const S=_.find(k=>I.value.routeConfig===k.value.routeConfig);void 0!==S?(S.children.push(...I.children),h.add(S)):_.push(I)}for(const I of h){const S=Z(I.children);_.push(new Gt(I.value,S))}return _.filter(I=>!h.has(I))}function He(g){let _=g;for(;_._sourceSegment;)_=_._sourceSegment;return _}function ht(g){let _=g,h=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,h+=_._segmentIndexShift??0;return h-1}function Dn(g){return g.data||{}}function xn(g){return g.resolve||{}}function Sr(g){return"string"==typeof g.title||null===g.title}function yi(g){return(0,lt.w)(_=>{const h=g(_);return h?(0,H.D)(h).pipe((0,it.U)(()=>_)):(0,F.of)(_)})}const Ai=new v.OlP("ROUTES");let oo=(()=>{class g{constructor(h,I){this.injector=h,this.compiler=I,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(h){if(this.componentLoaders.get(h))return this.componentLoaders.get(h);if(h._loadedComponent)return(0,F.of)(h._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(h);const I=Ot(h.loadComponent()).pipe((0,it.U)(Cs),(0,Je.b)(k=>{this.onLoadEndListener&&this.onLoadEndListener(h),h._loadedComponent=k}),pn(()=>{this.componentLoaders.delete(h)})),S=new st(I,()=>new te.x).pipe(Re());return this.componentLoaders.set(h,S),S}loadChildren(h,I){if(this.childrenLoaders.get(I))return this.childrenLoaders.get(I);if(I._loadedRoutes)return(0,F.of)({routes:I._loadedRoutes,injector:I._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(I);const k=this.loadModuleFactoryOrRoutes(I.loadChildren).pipe((0,it.U)(de=>{this.onLoadEndListener&&this.onLoadEndListener(I);let Le,yt,It=!1;Array.isArray(de)?yt=de:(Le=de.create(h).injector,yt=cr(Le.get(Ai,[],v.XFs.Self|v.XFs.Optional)));return{routes:yt.map(ms),injector:Le}}),pn(()=>{this.childrenLoaders.delete(I)})),j=new st(k,()=>new te.x).pipe(Re());return this.childrenLoaders.set(I,j),j}loadModuleFactoryOrRoutes(h){return Ot(h()).pipe((0,it.U)(Cs),(0,Ce.z)(S=>S instanceof v.YKP||Array.isArray(S)?(0,F.of)(S):(0,H.D)(this.compiler.compileModuleAsync(S))))}}return g.\u0275fac=function(h){return new(h||g)(v.LFG(v.zs3),v.LFG(v.Sil))},g.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function Cs(g){return function ya(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let Qr=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new te.x,this.configLoader=(0,v.f3M)(oo),this.environmentInjector=(0,v.f3M)(v.lqb),this.urlSerializer=(0,v.f3M)(xt),this.rootContexts=(0,v.f3M)(Yr),this.navigationId=0,this.afterPreactivation=()=>(0,F.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=S=>this.events.next(new bt(S)),this.configLoader.onLoadStartListener=S=>this.events.next(new ut(S))}complete(){this.transitions?.complete()}handleNavigationRequest(h){const I=++this.navigationId;this.transitions?.next({...this.transitions.value,...h,id:I})}setupNavigations(h){return this.transitions=new oe({id:0,targetPageId:0,currentUrlTree:h.currentUrlTree,currentRawUrl:h.currentUrlTree,extractedUrl:h.urlHandlingStrategy.extract(h.currentUrlTree),urlAfterRedirects:h.urlHandlingStrategy.extract(h.currentUrlTree),rawUrl:h.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dr,restoredState:null,currentSnapshot:h.routerState.snapshot,targetSnapshot:null,currentRouterState:h.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ie.h)(I=>0!==I.id),(0,it.U)(I=>({...I,extractedUrl:h.urlHandlingStrategy.extract(I.rawUrl)})),(0,lt.w)(I=>{let S=!1,k=!1;return(0,F.of)(I).pipe((0,Je.b)(j=>{this.currentNavigation={id:j.id,initialUrl:j.rawUrl,extractedUrl:j.extractedUrl,trigger:j.source,extras:j.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,lt.w)(j=>{const de=h.browserUrlTree.toString(),Le=!h.navigated||j.extractedUrl.toString()!==de||de!==h.currentUrlTree.toString();if(!Le&&"reload"!==(j.extras.onSameUrlNavigation??h.onSameUrlNavigation)){const It="";return this.events.next(new ds(j.id,h.serializeUrl(I.rawUrl),It,0)),h.rawUrlTree=j.rawUrl,j.resolve(null),tt.E}if(h.urlHandlingStrategy.shouldProcessUrl(j.rawUrl))return jo(j.source)&&(h.browserUrlTree=j.extractedUrl),(0,F.of)(j).pipe((0,lt.w)(It=>{const vn=this.transitions?.getValue();return this.events.next(new Ci(It.id,this.urlSerializer.serialize(It.extractedUrl),It.source,It.restoredState)),vn!==this.transitions?.getValue()?tt.E:Promise.resolve(It)}),function $o(g,_,h,I){return(0,lt.w)(S=>function pr(g,_,h,I,S){return new ts(g,_,h,I,S).apply()}(g,_,h,S.extractedUrl,I).pipe((0,it.U)(k=>({...S,urlAfterRedirects:k}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,h.config),(0,Je.b)(It=>{this.currentNavigation={...this.currentNavigation,finalUrl:It.urlAfterRedirects},I.urlAfterRedirects=It.urlAfterRedirects}),function ln(g,_,h,I,S){return(0,Ce.z)(k=>function _a(g,_,h,I,S,k,j="emptyOnly"){return new D(g,_,h,I,S,j,k).recognize().pipe((0,lt.w)(de=>null===de?function js(g){return new ge.y(_=>_.error(g))}(new Ki):(0,F.of)(de)))}(g,_,h,k.urlAfterRedirects,I.serialize(k.urlAfterRedirects),I,S).pipe((0,it.U)(j=>({...k,targetSnapshot:j}))))}(this.environmentInjector,this.rootComponentType,h.config,this.urlSerializer,h.paramsInheritanceStrategy),(0,Je.b)(It=>{if(I.targetSnapshot=It.targetSnapshot,"eager"===h.urlUpdateStrategy){if(!It.extras.skipLocationChange){const b=h.urlHandlingStrategy.merge(It.urlAfterRedirects,It.rawUrl);h.setBrowserUrl(b,It)}h.browserUrlTree=It.urlAfterRedirects}const vn=new Ui(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects),It.targetSnapshot);this.events.next(vn)}));if(Le&&h.urlHandlingStrategy.shouldProcessUrl(h.rawUrlTree)){const{id:It,extractedUrl:vn,source:b,restoredState:A,extras:L}=j,K=new Ci(It,this.urlSerializer.serialize(vn),b,A);this.events.next(K);const le=Eo(vn,this.rootComponentType).snapshot;return I={...j,targetSnapshot:le,urlAfterRedirects:vn,extras:{...L,skipLocationChange:!1,replaceUrl:!1}},(0,F.of)(I)}{const It="";return this.events.next(new ds(j.id,h.serializeUrl(I.extractedUrl),It,1)),h.rawUrlTree=j.rawUrl,j.resolve(null),tt.E}}),(0,Je.b)(j=>{const de=new fe(j.id,this.urlSerializer.serialize(j.extractedUrl),this.urlSerializer.serialize(j.urlAfterRedirects),j.targetSnapshot);this.events.next(de)}),(0,it.U)(j=>I={...j,guards:gi(j.targetSnapshot,j.currentSnapshot,this.rootContexts)}),function mi(g,_){return(0,Ce.z)(h=>{const{targetSnapshot:I,currentSnapshot:S,guards:{canActivateChecks:k,canDeactivateChecks:j}}=h;return 0===j.length&&0===k.length?(0,F.of)({...h,guardsResult:!0}):function to(g,_,h,I){return(0,H.D)(g).pipe((0,Ce.z)(S=>function Is(g,_,h,I,S){const k=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!k||0===k.length)return(0,F.of)(!0);const j=k.map(de=>{const Le=Xi(_)??S,yt=Kt(de,Le);return Ot(function Or(g){return g&&Hn(g.canDeactivate)}(yt)?yt.canDeactivate(g,_,h,I):Le.runInContext(()=>yt(g,_,h,I))).pipe((0,xe.P)())});return(0,F.of)(j).pipe(Yn())}(S.component,S.route,h,_,I)),(0,xe.P)(S=>!0!==S,!0))}(j,I,S,g).pipe((0,Ce.z)(de=>de&&function ga(g){return"boolean"==typeof g}(de)?function bi(g,_,h,I){return(0,H.D)(_).pipe(Ue(S=>(0,We.z)(function Xo(g,_){return null!==g&&_&&_(new en(g)),(0,F.of)(!0)}(S.route.parent,I),function Nr(g,_){return null!==g&&_&&_(new an(g)),(0,F.of)(!0)}(S.route,I),function ea(g,_,h){const I=_[_.length-1],k=_.slice(0,_.length-1).reverse().map(j=>function es(g){const _=g.routeConfig?g.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:g,guards:_}:null}(j)).filter(j=>null!==j).map(j=>rt(()=>{const de=j.guards.map(Le=>{const yt=Xi(j.node)??h,It=Kt(Le,yt);return Ot(function Hi(g){return g&&Hn(g.canActivateChild)}(It)?It.canActivateChild(I,g):yt.runInContext(()=>It(I,g))).pipe((0,xe.P)())});return(0,F.of)(de).pipe(Yn())}));return(0,F.of)(k).pipe(Yn())}(g,S.path,h),function no(g,_,h){const I=_.routeConfig?_.routeConfig.canActivate:null;if(!I||0===I.length)return(0,F.of)(!0);const S=I.map(k=>rt(()=>{const j=Xi(_)??h,de=Kt(k,j);return Ot(function Fo(g){return g&&Hn(g.canActivate)}(de)?de.canActivate(_,g):j.runInContext(()=>de(_,g))).pipe((0,xe.P)())}));return(0,F.of)(S).pipe(Yn())}(g,S.route,h))),(0,xe.P)(S=>!0!==S,!0))}(I,k,g,_):(0,F.of)(de)),(0,it.U)(de=>({...h,guardsResult:de})))})}(this.environmentInjector,j=>this.events.next(j)),(0,Je.b)(j=>{if(I.guardsResult=j.guardsResult,Ln(j.guardsResult))throw hn(0,j.guardsResult);const de=new ae(j.id,this.urlSerializer.serialize(j.extractedUrl),this.urlSerializer.serialize(j.urlAfterRedirects),j.targetSnapshot,!!j.guardsResult);this.events.next(de)}),(0,Ie.h)(j=>!!j.guardsResult||(h.restoreHistory(j),this.cancelNavigationTransition(j,"",3),!1)),yi(j=>{if(j.guards.canActivateChecks.length)return(0,F.of)(j).pipe((0,Je.b)(de=>{const Le=new me(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(Le)}),(0,lt.w)(de=>{let Le=!1;return(0,F.of)(de).pipe(function rr(g,_){return(0,Ce.z)(h=>{const{targetSnapshot:I,guards:{canActivateChecks:S}}=h;if(!S.length)return(0,F.of)(h);let k=0;return(0,H.D)(S).pipe(Ue(j=>function Zt(g,_,h,I){const S=g.routeConfig,k=g._resolve;return void 0!==S?.title&&!Sr(S)&&(k[Un]=S.title),function ir(g,_,h,I){const S=function Tr(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}(g);if(0===S.length)return(0,F.of)({});const k={};return(0,H.D)(S).pipe((0,Ce.z)(j=>function Br(g,_,h,I){const S=Xi(_)??I,k=Kt(g,S);return Ot(k.resolve?k.resolve(_,h):S.runInContext(()=>k(_,h)))}(g[j],_,h,I).pipe((0,xe.P)(),(0,Je.b)(de=>{k[j]=de}))),dt(1),function _n(g){return(0,it.U)(()=>g)}(k),nt(j=>Es(j)?tt.E:ze(j)))}(k,g,_,I).pipe((0,it.U)(j=>(g._resolvedData=j,g.data=fs(g,h).resolve,S&&Sr(S)&&(g.data[Un]=S.title),null)))}(j.route,I,g,_)),(0,Je.b)(()=>k++),dt(1),(0,Ce.z)(j=>k===S.length?(0,F.of)(h):tt.E))})}(h.paramsInheritanceStrategy,this.environmentInjector),(0,Je.b)({next:()=>Le=!0,complete:()=>{Le||(h.restoreHistory(de),this.cancelNavigationTransition(de,"",2))}}))}),(0,Je.b)(de=>{const Le=new je(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(Le)}))}),yi(j=>{const de=Le=>{const yt=[];Le.routeConfig?.loadComponent&&!Le.routeConfig._loadedComponent&&yt.push(this.configLoader.loadComponent(Le.routeConfig).pipe((0,Je.b)(It=>{Le.component=It}),(0,it.U)(()=>{})));for(const It of Le.children)yt.push(...de(It));return yt};return at(de(j.targetSnapshot.root)).pipe((0,ft.d)(),(0,N.q)(1))}),yi(()=>this.afterPreactivation()),(0,it.U)(j=>{const de=function Jo(g,_,h){const I=ii(g,_._root,h?h._root:void 0);return new vo(I,_)}(h.routeReuseStrategy,j.targetSnapshot,j.currentRouterState);return I={...j,targetRouterState:de}}),(0,Je.b)(j=>{h.currentUrlTree=j.urlAfterRedirects,h.rawUrlTree=h.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),h.routerState=j.targetRouterState,"deferred"===h.urlUpdateStrategy&&(j.extras.skipLocationChange||h.setBrowserUrl(h.rawUrlTree,j),h.browserUrlTree=j.urlAfterRedirects)}),((g,_,h)=>(0,it.U)(I=>(new _s(_,I.targetRouterState,I.currentRouterState,h).activate(g),I)))(this.rootContexts,h.routeReuseStrategy,j=>this.events.next(j)),(0,Je.b)({next:j=>{S=!0,this.lastSuccessfulNavigation=this.currentNavigation,h.navigated=!0,this.events.next(new Cr(j.id,this.urlSerializer.serialize(j.extractedUrl),this.urlSerializer.serialize(h.currentUrlTree))),h.titleStrategy?.updateTitle(j.targetRouterState.snapshot),j.resolve(!0)},complete:()=>{S=!0}}),pn(()=>{S||k||this.cancelNavigationTransition(I,"",1),this.currentNavigation?.id===I.id&&(this.currentNavigation=null)}),nt(j=>{if(k=!0,ji(j)){$i(j)||(h.navigated=!0,h.restoreHistory(I,!0));const de=new fi(I.id,this.urlSerializer.serialize(I.extractedUrl),j.message,j.cancellationCode);if(this.events.next(de),$i(j)){const Le=h.urlHandlingStrategy.merge(j.url,h.rawUrlTree),yt={skipLocationChange:I.extras.skipLocationChange,replaceUrl:"eager"===h.urlUpdateStrategy||jo(I.source)};h.scheduleNavigation(Le,dr,null,yt,{resolve:I.resolve,reject:I.reject,promise:I.promise})}else I.resolve(!1)}else{h.restoreHistory(I,!0);const de=new Pn(I.id,this.urlSerializer.serialize(I.extractedUrl),j,I.targetSnapshot??void 0);this.events.next(de);try{I.resolve(h.errorHandler(j))}catch(Le){I.reject(Le)}}return tt.E}))}))}cancelNavigationTransition(h,I,S){const k=new fi(h.id,this.urlSerializer.serialize(h.extractedUrl),I,S);this.events.next(k),h.resolve(!1)}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function jo(g){return g!==dr}let ws=(()=>{class g{buildTitle(h){let I,S=h.root;for(;void 0!==S;)I=this.getResolvedTitleForRoute(S)??I,S=S.children.find(k=>k.outlet===vt);return I}getResolvedTitleForRoute(h){return h.data[Un]}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=v.Yz7({token:g,factory:function(){return(0,v.f3M)(Ho)},providedIn:"root"}),g})(),Ho=(()=>{class g extends ws{constructor(h){super(),this.title=h}updateTitle(h){const I=this.buildTitle(h);void 0!==I&&this.title.setTitle(I)}}return g.\u0275fac=function(h){return new(h||g)(v.LFG(er.Dx))},g.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),ta=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=v.Yz7({token:g,factory:function(){return(0,v.f3M)(Wo)},providedIn:"root"}),g})();class lo{shouldDetach(_){return!1}store(_,h){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,h){return _.routeConfig===h.routeConfig}}let Wo=(()=>{class g extends lo{}return g.\u0275fac=function(){let _;return function(I){return(_||(_=v.n5z(g)))(I||g)}}(),g.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const zo=new v.OlP("",{providedIn:"root",factory:()=>({})});let Ao=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=v.Yz7({token:g,factory:function(){return(0,v.f3M)(bs)},providedIn:"root"}),g})(),bs=(()=>{class g{shouldProcessUrl(h){return!0}extract(h){return h}merge(h,I){return h}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function na(g){throw g}function Ri(g,_,h){return _.parse("/")}const Mi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},va={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ar=(()=>{class g{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,v.f3M)(v.c2e),this.isNgZoneEnabled=!1,this.options=(0,v.f3M)(zo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||na,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ri,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,v.f3M)(Ao),this.routeReuseStrategy=(0,v.f3M)(ta),this.urlCreationStrategy=(0,v.f3M)(Qs),this.titleStrategy=(0,v.f3M)(ws),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=cr((0,v.f3M)(Ai,{optional:!0})??[]),this.navigationTransitions=(0,v.f3M)(Qr),this.urlSerializer=(0,v.f3M)(xt),this.location=(0,v.f3M)(Ye.Ye),this.isNgZoneEnabled=(0,v.f3M)(v.R0b)instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Eo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(h=>{this.lastSuccessfulId=h.id,this.currentPageId=h.targetPageId},h=>{this.console.warn(`Unhandled Navigation Error: ${h}`)})}resetRootComponentType(h){this.routerState.root.component=h,this.navigationTransitions.rootComponentType=h}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const h=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),dr,h)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(h=>{const I="popstate"===h.type?"popstate":"hashchange";"popstate"===I&&setTimeout(()=>{this.navigateToSyncWithBrowser(h.url,I,h.state)},0)}))}navigateToSyncWithBrowser(h,I,S){const k={replaceUrl:!0},j=S?.navigationId?S:null;if(S){const Le={...S};delete Le.navigationId,delete Le.\u0275routerPageId,0!==Object.keys(Le).length&&(k.state=Le)}const de=this.parseUrl(h);this.scheduleNavigation(de,I,j,k)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(h){this.config=h.map(ms),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(h,I={}){const{relativeTo:S,queryParams:k,fragment:j,queryParamsHandling:de,preserveFragment:Le}=I,yt=Le?this.currentUrlTree.fragment:j;let It=null;switch(de){case"merge":It={...this.currentUrlTree.queryParams,...k};break;case"preserve":It=this.currentUrlTree.queryParams;break;default:It=k||null}return null!==It&&(It=this.removeEmptyProps(It)),this.urlCreationStrategy.createUrlTree(S,this.routerState,this.currentUrlTree,h,It,yt??null)}navigateByUrl(h,I={skipLocationChange:!1}){const S=Ln(h)?h:this.parseUrl(h),k=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(k,dr,null,I)}navigate(h,I={skipLocationChange:!1}){return function ra(g){for(let _=0;_<g.length;_++){const h=g[_];if(null==h)throw new v.vHH(4008,false)}}(h),this.navigateByUrl(this.createUrlTree(h,I),I)}serializeUrl(h){return this.urlSerializer.serialize(h)}parseUrl(h){let I;try{I=this.urlSerializer.parse(h)}catch(S){I=this.malformedUriErrorHandler(S,this.urlSerializer,h)}return I}isActive(h,I){let S;if(S=!0===I?{...Mi}:!1===I?{...va}:I,Ln(h))return Tn(this.currentUrlTree,h,S);const k=this.parseUrl(h);return Tn(this.currentUrlTree,k,S)}removeEmptyProps(h){return Object.keys(h).reduce((I,S)=>{const k=h[S];return null!=k&&(I[S]=k),I},{})}scheduleNavigation(h,I,S,k,j){if(this.disposed)return Promise.resolve(!1);let de,Le,yt,It;return j?(de=j.resolve,Le=j.reject,yt=j.promise):yt=new Promise((vn,b)=>{de=vn,Le=b}),It="computed"===this.canceledNavigationResolution?S&&S.\u0275routerPageId?S.\u0275routerPageId:k.replaceUrl||k.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:It,source:I,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:h,extras:k,resolve:de,reject:Le,promise:yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yt.catch(vn=>Promise.reject(vn))}setBrowserUrl(h,I){const S=this.urlSerializer.serialize(h),k={...I.extras.state,...this.generateNgRouterState(I.id,I.targetPageId)};this.location.isCurrentPathEqualTo(S)||I.extras.replaceUrl?this.location.replaceState(S,"",k):this.location.go(S,"",k)}restoreHistory(h,I=!1){if("computed"===this.canceledNavigationResolution){const S=this.currentPageId-h.targetPageId;"popstate"!==h.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===S?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===S&&(this.resetState(h),this.browserUrlTree=h.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(S)}else"replace"===this.canceledNavigationResolution&&(I&&this.resetState(h),this.resetUrlToCurrentUrlTree())}resetState(h){this.routerState=h.currentRouterState,this.currentUrlTree=h.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,h.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(h,I){return"computed"===this.canceledNavigationResolution?{navigationId:h,\u0275routerPageId:I}:{navigationId:h}}}return g.\u0275fac=function(h){return new(h||g)},g.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),ns=(()=>{class g{constructor(h,I,S,k,j,de){this.router=h,this.route=I,this.tabIndexAttribute=S,this.renderer=k,this.el=j,this.locationStrategy=de,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new te.x;const Le=j.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Le||"area"===Le,this.isAnchorElement?this.subscription=h.events.subscribe(yt=>{yt instanceof Cr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(h){this._preserveFragment=(0,v.D6c)(h)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(h){this._skipLocationChange=(0,v.D6c)(h)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(h){this._replaceUrl=(0,v.D6c)(h)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(h){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",h)}ngOnChanges(h){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(h){null!=h?(this.commands=Array.isArray(h)?h:[h],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(h,I,S,k,j){return!!(null===this.urlTree||this.isAnchorElement&&(0!==h||I||S||k||j||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const h=null===this.href?null:(0,v.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",h)}applyAttributeValue(h,I){const S=this.renderer,k=this.el.nativeElement;null!==I?S.setAttribute(k,h,I):S.removeAttribute(k,h)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return g.\u0275fac=function(h){return new(h||g)(v.Y36(Ar),v.Y36(ks),v.$8M("tabindex"),v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(Ye.S$))},g.\u0275dir=v.lG2({type:g,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(h,I){1&h&&v.NdJ("click",function(k){return I.onClick(k.button,k.ctrlKey,k.shiftKey,k.altKey,k.metaKey)}),2&h&&v.uIk("target",I.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[v.TTD]}),g})();class Ea{}let ia=(()=>{class g{constructor(h,I,S,k,j){this.router=h,this.injector=S,this.preloadingStrategy=k,this.loader=j}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ie.h)(h=>h instanceof Cr),Ue(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(h,I){const S=[];for(const k of I){k.providers&&!k._injector&&(k._injector=(0,v.MMx)(k.providers,h,`Route: ${k.path}`));const j=k._injector??h,de=k._loadedInjector??j;k.loadChildren&&!k._loadedRoutes&&void 0===k.canLoad||k.loadComponent&&!k._loadedComponent?S.push(this.preloadConfig(j,k)):(k.children||k._loadedRoutes)&&S.push(this.processRoutes(de,k.children??k._loadedRoutes))}return(0,H.D)(S).pipe((0,Mn.J)())}preloadConfig(h,I){return this.preloadingStrategy.preload(I,()=>{let S;S=I.loadChildren&&void 0===I.canLoad?this.loader.loadChildren(h,I):(0,F.of)(null);const k=S.pipe((0,Ce.z)(j=>null===j?(0,F.of)(void 0):(I._loadedRoutes=j.routes,I._loadedInjector=j.injector,this.processRoutes(j.injector??h,j.routes))));if(I.loadComponent&&!I._loadedComponent){const j=this.loader.loadComponent(I);return(0,H.D)([k,j]).pipe((0,Mn.J)())}return k})}}return g.\u0275fac=function(h){return new(h||g)(v.LFG(Ar),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(Ea),v.LFG(oo))},g.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const Ss=new v.OlP("");let is=(()=>{class g{constructor(h,I,S,k,j={}){this.urlSerializer=h,this.transitions=I,this.viewportScroller=S,this.zone=k,this.options=j,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},j.scrollPositionRestoration=j.scrollPositionRestoration||"disabled",j.anchorScrolling=j.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(h=>{h instanceof Ci?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=h.navigationTrigger,this.restoredId=h.restoredState?h.restoredState.navigationId:0):h instanceof Cr&&(this.lastId=h.id,this.scheduleScrollEvent(h,this.urlSerializer.parse(h.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(h=>{h instanceof dn&&(h.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(h.position):h.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(h.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(h,I){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dn(h,"popstate"===this.lastSource?this.store[this.restoredId]:null,I))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return g.\u0275fac=function(h){v.$Z()},g.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac}),g})();var vr=(()=>((vr=vr||{})[vr.COMPLETE=0]="COMPLETE",vr[vr.FAILED=1]="FAILED",vr[vr.REDIRECTING=2]="REDIRECTING",vr))();const co=!1;function ho(g,_){return{\u0275kind:g,\u0275providers:_}}const qn=new v.OlP("",{providedIn:"root",factory:()=>!1});function hl(){const g=(0,v.f3M)(v.zs3);return _=>{const h=g.get(v.z2F);if(_!==h.components[0])return;const I=g.get(Ar),S=g.get(Ia);1===g.get(Da)&&I.initialNavigation(),g.get(xl,null,v.XFs.Optional)?.setUpPreloading(),g.get(Ss,null,v.XFs.Optional)?.init(),I.resetRootComponentType(h.componentTypes[0]),S.closed||(S.next(),S.unsubscribe())}}const Ia=new v.OlP(co?"bootstrap done indicator":"",{factory:()=>new te.x}),Da=new v.OlP(co?"initial navigation":"",{providedIn:"root",factory:()=>1});function Ca(){let g=[];return g=co?[{provide:v.Xts,multi:!0,useFactory:()=>{const _=(0,v.f3M)(Ar);return()=>_.events.subscribe(h=>{console.group?.(`Router Event: ${h.constructor.name}`),console.log(function Ht(g){if(!("type"in g))return`Unknown Router Event: ${g.constructor.name}`;switch(g.type){case 14:return`ActivationEnd(path: '${g.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${g.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${g.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${g.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state}, shouldActivate: ${g.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 2:return`NavigationCancel(id: ${g.id}, url: '${g.url}')`;case 16:return`NavigationSkipped(id: ${g.id}, url: '${g.url}')`;case 1:return`NavigationEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${g.id}, url: '${g.url}', error: ${g.error})`;case 0:return`NavigationStart(id: ${g.id}, url: '${g.url}')`;case 6:return`ResolveEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 5:return`ResolveStart(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 10:return`RouteConfigLoadEnd(path: ${g.route.path})`;case 9:return`RouteConfigLoadStart(path: ${g.route.path})`;case 4:return`RoutesRecognized(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 15:return`Scroll(anchor: '${g.anchor}', position: '${g.position?`${g.position[0]}, ${g.position[1]}`:null}')`}}(h)),console.log(h),console.groupEnd?.()})}}]:[],ho(1,g)}const xl=new v.OlP(co?"router preloader":"");function Er(g){return ho(0,[{provide:xl,useExisting:ia},{provide:Ea,useExisting:g}])}const Wr=!1,fo=new v.OlP(Wr?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Ms=[Ye.Ye,{provide:xt,useClass:jt},Ar,Yr,{provide:ks,useFactory:function Ua(g){return g.routerState.root},deps:[Ar]},oo,Wr?{provide:qn,useValue:!0}:[]];function Ws(){return new v.PXZ("Router",Ar)}let wa=(()=>{class g{constructor(h){}static forRoot(h,I){return{ngModule:g,providers:[Ms,Wr&&I?.enableTracing?Ca().\u0275providers:[],{provide:Ai,multi:!0,useValue:h},{provide:fo,useFactory:Jr,deps:[[Ar,new v.FiY,new v.tp0]]},{provide:zo,useValue:I||{}},I?.useHash?{provide:Ye.S$,useClass:Ye.Do}:{provide:Ye.S$,useClass:Ye.b0},{provide:Ss,useFactory:()=>{const g=(0,v.f3M)(Ye.EM),_=(0,v.f3M)(v.R0b),h=(0,v.f3M)(zo),I=(0,v.f3M)(Qr),S=(0,v.f3M)(xt);return h.scrollOffset&&g.setOffset(h.scrollOffset),new is(S,I,g,_,h)}},I?.preloadingStrategy?Er(I.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:Ws},I?.initialNavigation?Ps(I):[],[{provide:Oi,useFactory:hl},{provide:v.tb,multi:!0,useExisting:Oi}]]}}static forChild(h){return{ngModule:g,providers:[{provide:Ai,multi:!0,useValue:h}]}}}return g.\u0275fac=function(h){return new(h||g)(v.LFG(fo,8))},g.\u0275mod=v.oAB({type:g}),g.\u0275inj=v.cJS({imports:[fn]}),g})();function Jr(g){if(Wr&&g)throw new v.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ps(g){return["disabled"===g.initialNavigation?ho(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const _=(0,v.f3M)(Ar);return()=>{_.setUpLocationChangeListener()}}},{provide:Da,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?ho(2,[{provide:Da,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:_=>{const h=_.get(Ye.V_,Promise.resolve());return()=>h.then(()=>new Promise(I=>{const S=_.get(Ar),k=_.get(Ia);(function Fa(g,_){g.events.pipe((0,Ie.h)(h=>h instanceof Cr||h instanceof fi||h instanceof Pn||h instanceof ds),(0,it.U)(h=>h instanceof Cr||h instanceof ds?vr.COMPLETE:h instanceof fi&&(0===h.code||1===h.code)?vr.REDIRECTING:vr.FAILED),(0,Ie.h)(h=>h!==vr.REDIRECTING),(0,N.q)(1)).subscribe(()=>{_()})})(S,()=>{I(!0)}),_.get(Qr).afterPreactivation=()=>(I(!0),k.closed?(0,F.of)(void 0):k),S.initialNavigation()}))}}]).\u0275providers:[]]}const Oi=new v.OlP(Wr?"Router Initializer":"")},3942:(Dt,be,x)=>{x.d(be,{Z:()=>at});var v=x(2090),H=x(4859),F=x(9681),te=x(1877);class oe{constructor(Se,We){this._delegate=Se,this.firebase=We,(0,F._addComponent)(Se,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(Se,We=F._DEFAULT_ENTRY_NAME){var $e;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(Se);return!rt.isInitialized()&&"EXPLICIT"===(null===($e=rt.getComponent())||void 0===$e?void 0:$e.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:We})}_removeServiceInstance(Se,We=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(We)}_addComponent(Se){(0,F._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,F._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function _e(){const wt=function pe(wt){const Se={},We={__esModule:!0,initializeApp:function Fe(et,Y={}){const Re=F.initializeApp(et,Y);if((0,v.r3)(Se,Re.name))return Se[Re.name];const st=new wt(Re,We);return Se[Re.name]=st,st},app:rt,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function ze(et){const Y=et.name,Re=Y.replace("-compat","");if(F._registerComponent(et)&&"PUBLIC"===et.type){const st=(Ye=rt())=>{if("function"!=typeof Ye[Re])throw ge.create("invalid-app-argument",{appName:Y});return Ye[Re]()};void 0!==et.serviceProps&&(0,v.ZB)(st,et.serviceProps),We[Re]=st,wt.prototype[Re]=function(...Ye){return this._getService.bind(this,Y).apply(this,et.multipleInstances?Ye:[])}}return"PUBLIC"===et.type?We[Re]:null},removeApp:function $e(et){delete Se[et]},useAsService:function tt(et,Y){return"serverAuth"===Y?null:Y},modularAPIs:F}};function rt(et){if(!(0,v.r3)(Se,et=et||F._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:et});return Se[et]}return We.default=We,Object.defineProperty(We,"apps",{get:function Pe(){return Object.keys(Se).map(et=>Se[et])}}),rt.App=wt,We}(oe);return wt.INTERNAL=Object.assign(Object.assign({},wt.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function Se(We){(0,v.ZB)(wt,We)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),wt}(),J=new te.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const wt=self.firebase.SDK_VERSION;wt&&wt.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const at=Q;!function Be(wt){(0,F.registerVersion)("@firebase/app-compat","0.2.4",wt)}()},9681:(Dt,be,x)=>{x.r(be),x.d(be,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>er,_DEFAULT_ENTRY_NAME:()=>xe,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>dt,_apps:()=>Je,_clearComponents:()=>Fn,_components:()=>nt,_getProvider:()=>ft,_registerComponent:()=>Vt,_removeServiceInstance:()=>Ut,deleteApp:()=>bn,getApp:()=>Un,getApps:()=>Qn,initializeApp:()=>vt,onLog:()=>pt,registerVersion:()=>On,setLogLevel:()=>Zr});var v=x(5861),H=x(4859),F=x(1877),te=x(2090),oe=x(8766);class ce{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(Ct=>{if(function ge(ct){return"VERSION"===ct.getComponent()?.type}(Ct)){const xt=Ct.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(Ct=>Ct).join(" ")}}const pe="@firebase/app",Q=new F.Yd("@firebase/app"),xe="[DEFAULT]",Ue={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,nt=new Map;function Bt(ct,Ve){try{ct.container.addComponent(Ve)}catch(Ct){Q.debug(`Component ${Ve.name} failed to register with FirebaseApp ${ct.name}`,Ct)}}function dt(ct,Ve){ct.container.addOrOverwriteComponent(Ve)}function Vt(ct){const Ve=ct.name;if(nt.has(Ve))return Q.debug(`There were multiple attempts to register component ${Ve}.`),!1;nt.set(Ve,ct);for(const Ct of Je.values())Bt(Ct,ct);return!0}function ft(ct,Ve){const Ct=ct.container.getProvider("heartbeat").getImmediate({optional:!0});return Ct&&Ct.triggerHeartbeat(),ct.container.getProvider(Ve)}function Ut(ct,Ve,Ct=xe){ft(ct,Ve).clearInstance(Ct)}function Fn(){nt.clear()}const pn=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mn{constructor(Ve,Ct,xt){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},Ct),this._name=Ct.name,this._automaticDataCollectionEnabled=Ct.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw pn.create("app-deleted",{appName:this._name})}}const er="9.17.2";function vt(ct,Ve={}){let Ct=ct;"object"!=typeof Ve&&(Ve={name:Ve});const xt=Object.assign({name:xe,automaticDataCollectionEnabled:!1},Ve),jt=xt.name;if("string"!=typeof jt||!jt)throw pn.create("bad-app-name",{appName:String(jt)});if(Ct||(Ct=(0,te.aH)()),!Ct)throw pn.create("no-options");const Jt=Je.get(jt);if(Jt){if((0,te.vZ)(Ct,Jt.options)&&(0,te.vZ)(xt,Jt.config))return Jt;throw pn.create("duplicate-app",{appName:jt})}const ar=new H.H0(jt);for(const q of nt.values())ar.addComponent(q);const X=new Mn(Ct,xt,ar);return Je.set(jt,X),X}function Un(ct=xe){const Ve=Je.get(ct);if(!Ve&&ct===xe)return vt();if(!Ve)throw pn.create("no-app",{appName:ct});return Ve}function Qn(){return Array.from(Je.values())}function bn(ct){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,v.Z)(function*(ct){const Ve=ct.name;Je.has(Ve)&&(Je.delete(Ve),yield Promise.all(ct.container.getProviders().map(Ct=>Ct.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function On(ct,Ve,Ct){var xt;let jt=null!==(xt=Ue[ct])&&void 0!==xt?xt:ct;Ct&&(jt+=`-${Ct}`);const Jt=jt.match(/\s|\//),ar=Ve.match(/\s|\//);if(Jt||ar){const X=[`Unable to register library "${jt}" with version "${Ve}":`];return Jt&&X.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),Jt&&ar&&X.push("and"),ar&&X.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void Q.warn(X.join(" "))}Vt(new H.wA(`${jt}-version`,()=>({library:jt,version:Ve}),"VERSION"))}function pt(ct,Ve){if(null!==ct&&"function"!=typeof ct)throw pn.create("invalid-log-argument");(0,F.Am)(ct,Ve)}function Zr(ct){(0,F.Ub)(ct)}const cr="firebase-heartbeat-database",En=1,sr="firebase-heartbeat-store";let Bn=null;function Ot(){return Bn||(Bn=(0,oe.X3)(cr,En,{upgrade:(ct,Ve)=>{0===Ve&&ct.createObjectStore(sr)}}).catch(ct=>{throw pn.create("idb-open",{originalErrorMessage:ct.message})})),Bn}function Nt(){return(Nt=(0,v.Z)(function*(ct){try{return(yield Ot()).transaction(sr).objectStore(sr).get(Gn(ct))}catch(Ve){if(Ve instanceof te.ZR)Q.warn(Ve.message);else{const Ct=pn.create("idb-get",{originalErrorMessage:Ve?.message});Q.warn(Ct.message)}}})).apply(this,arguments)}function kn(ct,Ve){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,v.Z)(function*(ct,Ve){try{const xt=(yield Ot()).transaction(sr,"readwrite");return yield xt.objectStore(sr).put(Ve,Gn(ct)),xt.done}catch(Ct){if(Ct instanceof te.ZR)Q.warn(Ct.message);else{const xt=pn.create("idb-set",{originalErrorMessage:Ct?.message});Q.warn(xt.message)}}})).apply(this,arguments)}function Gn(ct){return`${ct.name}!${ct.options.appId}`}class Ii{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const Ct=this.container.getProvider("app").getImmediate();this._storage=new nn(Ct),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var Ve=this;return(0,v.Z)(function*(){const xt=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=In();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Ve._heartbeatsCache.heartbeats.some(Jt=>Jt.date===jt))return Ve._heartbeatsCache.heartbeats.push({date:jt,agent:xt}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(Jt=>{const ar=new Date(Jt.date).valueOf();return Date.now()-ar<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,v.Z)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const Ct=In(),{heartbeatsToSend:xt,unsentEntries:jt}=function Dr(ct,Ve=1024){const Ct=[];let xt=ct.slice();for(const jt of ct){const Jt=Ct.find(ar=>ar.agent===jt.agent);if(Jt){if(Jt.dates.push(jt.date),Ft(Ct)>Ve){Jt.dates.pop();break}}else if(Ct.push({agent:jt.agent,dates:[jt.date]}),Ft(Ct)>Ve){Ct.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:Ct,unsentEntries:xt}}(Ve._heartbeatsCache.heartbeats),Jt=(0,te.L)(JSON.stringify({version:2,heartbeats:xt}));return Ve._heartbeatsCache.lastSentHeartbeatDate=Ct,jt.length>0?(Ve._heartbeatsCache.heartbeats=jt,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),Jt})()}}function In(){return(new Date).toISOString().substring(0,10)}class nn{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,v.Z)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function Rt(ct){return Nt.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var Ct=this;return(0,v.Z)(function*(){var xt;if(yield Ct._canUseIndexedDBPromise){const Jt=yield Ct.read();return kn(Ct.app,{lastSentHeartbeatDate:null!==(xt=Ve.lastSentHeartbeatDate)&&void 0!==xt?xt:Jt.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var Ct=this;return(0,v.Z)(function*(){var xt;if(yield Ct._canUseIndexedDBPromise){const Jt=yield Ct.read();return kn(Ct.app,{lastSentHeartbeatDate:null!==(xt=Ve.lastSentHeartbeatDate)&&void 0!==xt?xt:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...Ve.heartbeats]})}})()}}function Ft(ct){return(0,te.L)(JSON.stringify({version:2,heartbeats:ct})).length}!function Rr(ct){Vt(new H.wA("platform-logger",Ve=>new ce(Ve),"PRIVATE")),Vt(new H.wA("heartbeat",Ve=>new Ii(Ve),"PRIVATE")),On(pe,"0.9.4",ct),On(pe,"0.9.4","esm2017"),On("fire-js","")}("")},4859:(Dt,be,x)=>{x.d(be,{H0:()=>pe,wA:()=>F,zt:()=>oe});var v=x(5861),H=x(2090);class F{constructor(Q,J,se){this.name=Q,this.instanceFactory=J,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const te="[DEFAULT]";class oe{constructor(Q,J){this.name=Q,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const J=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(J)){const se=new H.BH;if(this.instancesDeferred.set(J,se),this.isInitialized(J)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:J});Ke&&se.resolve(Ke)}catch{}}return this.instancesDeferred.get(J).promise}getImmediate(Q){var J;const se=this.normalizeInstanceIdentifier(Q?.identifier),Ke=null!==(J=Q?.optional)&&void 0!==J&&J;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Be){if(Ke)return null;throw Be}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function ge(_e){return"EAGER"===_e.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[J,se]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(J);try{const Be=this.getOrInitializeService({instanceIdentifier:Ke});se.resolve(Be)}catch{}}}}clearInstance(Q=te){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,v.Z)(function*(){const J=Array.from(Q.instances.values());yield Promise.all([...J.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...J.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=te){return this.instances.has(Q)}getOptions(Q=te){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:J={}}=Q,se=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:se,options:J});for(const[Be,at]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Be)&&at.resolve(Ke);return Ke}onInit(Q,J){var se;const Ke=this.normalizeInstanceIdentifier(J),Be=null!==(se=this.onInitCallbacks.get(Ke))&&void 0!==se?se:new Set;Be.add(Q),this.onInitCallbacks.set(Ke,Be);const at=this.instances.get(Ke);return at&&Q(at,Ke),()=>{Be.delete(Q)}}invokeOnInitCallbacks(Q,J){const se=this.onInitCallbacks.get(J);if(se)for(const Ke of se)try{Ke(Q,J)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:J={}}){let se=this.instances.get(Q);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=Q,_e===te?void 0:_e),options:J}),this.instances.set(Q,se),this.instancesOptions.set(Q,J),this.invokeOnInitCallbacks(se,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,se)}catch{}var _e;return se||null}normalizeInstanceIdentifier(Q=te){return this.component?this.component.multipleInstances?Q:te:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const J=this.getProvider(Q.name);if(J.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);J.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const J=new oe(Q,this);return this.providers.set(Q,J),J}getProviders(){return Array.from(this.providers.values())}}},1877:(Dt,be,x)=>{x.d(be,{Am:()=>_e,Ub:()=>pe,Yd:()=>ge,in:()=>H});const v=[];var H=(()=>{return(Q=H||(H={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",H;var Q})();const F={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},te=H.INFO,oe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ce=(Q,J,...se)=>{if(J<Q.logLevel)return;const Ke=(new Date).toISOString(),Be=oe[J];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Be](`[${Ke}]  ${Q.name}:`,...se)};class ge{constructor(J){this.name=J,this._logLevel=te,this._logHandler=ce,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in H))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?F[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...J),this._logHandler(this,H.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...J),this._logHandler(this,H.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,H.INFO,...J),this._logHandler(this,H.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,H.WARN,...J),this._logHandler(this,H.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...J),this._logHandler(this,H.ERROR,...J)}}function pe(Q){v.forEach(J=>{J.setLogLevel(Q)})}function _e(Q,J){for(const se of v){let Ke=null;J&&J.level&&(Ke=F[J.level]),se.userLogHandler=null===Q?null:(Be,at,...wt)=>{const Se=wt.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");at>=(Ke??Be.logLevel)&&Q({level:H[at].toLowerCase(),message:Se,args:wt,type:Be.name})}}}},259:(Dt,be,x)=>{x.d(be,{C6:()=>v.getApps,Mq:()=>v.getApp});var v=x(9681);(0,v.registerVersion)("firebase","9.17.2","app")},9260:(Dt,be,x)=>{x.d(be,{Z:()=>v.Z});var v=x(3942);v.Z.registerVersion("firebase","9.17.2","app-compat")},4217:(Dt,be,x)=>{x.r(be);var v=x(5861),H=x(3942),F=x(2090),te=x(9681),oe=x(1877),ce=x(655),ge=x(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se_EMAIL_SIGNIN="EMAIL_SIGNIN",se_PASSWORD_RESET="PASSWORD_RESET",se_RECOVER_EMAIL="RECOVER_EMAIL",se_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",se_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",se_VERIFY_EMAIL="VERIFY_EMAIL";const at=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},wt=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Se=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$e=new oe.Yd("@firebase/auth");function rt(f,...l){$e.logLevel<=oe.in.ERROR&&$e.error(`Auth (${te.SDK_VERSION}): ${f}`,...l)}function Fe(f,...l){throw et(f,...l)}function Pe(f,...l){return et(f,...l)}function ze(f,l,d){const y=Object.assign(Object.assign({},wt()),{[l]:d});return new F.LL("auth","Firebase",y).create(l,{appName:f.name})}function tt(f,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&Fe(f,"argument-error"),ze(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(f,...l){if("string"!=typeof f){const d=l[0],y=[...l.slice(1)];return y[0]&&(y[0].appName=f.name),f._errorFactory.create(d,...y)}return Se.create(f,...l)}function Y(f,l,...d){if(!f)throw et(l,...d)}function Re(f){const l="INTERNAL ASSERTION FAILED: "+f;throw rt(l),new Error(l)}function st(f,l){f||Re(l)}const Ye=new Map;function it(f){st(f instanceof Function,"Expected a class definition");let l=Ye.get(f);return l?(st(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,Ye.set(f,l),l)}function Te(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Ie(){return"http:"===Ce()||"https:"===Ce()}function Ce(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Je{constructor(l,d){this.shortDelay=l,this.longDelay=d,st(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function xe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ie()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nt(f,l){st(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class Bt{static initialize(l,d,y){this.fetchImpl=l,d&&(this.headersImpl=d),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vt=new Je(3e4,6e4);function ft(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function Ut(f,l,d,y){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,v.Z)(function*(f,l,d,y,O={}){return _n(f,O,(0,v.Z)(function*(){let $={},he={};y&&("GET"===l?he=y:$={body:JSON.stringify(y)});const Oe=(0,F.xO)(Object.assign({key:f.config.apiKey},he)).slice(1),mt=yield f._getAdditionalHeaders();return mt["Content-Type"]="application/json",f.languageCode&&(mt["X-Firebase-Locale"]=f.languageCode),Bt.fetch()(vt(f,f.config.apiHost,d,Oe),Object.assign({method:l,headers:mt,referrerPolicy:"no-referrer"},$))}))})).apply(this,arguments)}function _n(f,l,d){return pn.apply(this,arguments)}function pn(){return(pn=(0,v.Z)(function*(f,l,d){f._canInitEmulator=!1;const y=Object.assign(Object.assign({},dt),l);try{const O=new Un(f),$=yield Promise.race([d(),O.promise]);O.clearNetworkTimeout();const he=yield $.json();if("needConfirmation"in he)throw Qn(f,"account-exists-with-different-credential",he);if($.ok&&!("errorMessage"in he))return he;{const Oe=$.ok?he.errorMessage:he.error.message,[mt,Pt]=Oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mt)throw Qn(f,"credential-already-in-use",he);if("EMAIL_EXISTS"===mt)throw Qn(f,"email-already-in-use",he);if("USER_DISABLED"===mt)throw Qn(f,"user-disabled",he);const on=y[mt]||mt.toLowerCase().replace(/[_\s]+/g,"-");if(Pt)throw ze(f,on,Pt);Fe(f,on)}}catch(O){if(O instanceof F.ZR)throw O;Fe(f,"internal-error",{message:String(O)})}})).apply(this,arguments)}function Mn(f,l,d,y){return er.apply(this,arguments)}function er(){return(er=(0,v.Z)(function*(f,l,d,y,O={}){const $=yield Ut(f,l,d,y,O);return"mfaPendingCredential"in $&&Fe(f,"multi-factor-auth-required",{_serverResponse:$}),$})).apply(this,arguments)}function vt(f,l,d,y){const O=`${l}${d}?${y}`;return f.config.emulator?nt(f.config,O):`${f.config.apiScheme}://${O}`}class Un{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,y)=>{this.timer=setTimeout(()=>y(Pe(this.auth,"network-request-failed")),Vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(f,l,d){const y={appName:f.name};d.email&&(y.email=d.email),d.phoneNumber&&(y.phoneNumber=d.phoneNumber);const O=Pe(f,l,y);return O.customData._tokenResponse=d,O}function Mt(){return(Mt=(0,v.Z)(function*(f,l){return Ut(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function pt(){return(pt=(0,v.Z)(function*(f,l){return Ut(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function cr(){return(cr=(0,v.Z)(function*(f,l){return Ut(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function En(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Ot(){return(Ot=(0,v.Z)(function*(f,l=!1){const d=(0,F.m9)(f),y=yield d.getIdToken(l),O=Nt(y);Y(O&&O.exp&&O.auth_time&&O.iat,d.auth,"internal-error");const $="object"==typeof O.firebase?O.firebase:void 0,he=$?.sign_in_provider;return{claims:O,token:y,authTime:En(Rt(O.auth_time)),issuedAtTime:En(Rt(O.iat)),expirationTime:En(Rt(O.exp)),signInProvider:he||null,signInSecondFactor:$?.sign_in_second_factor||null}})).apply(this,arguments)}function Rt(f){return 1e3*Number(f)}function Nt(f){const[l,d,y]=f.split(".");if(void 0===l||void 0===d||void 0===y)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,F.tV)(d);return O?JSON.parse(O):(rt("Failed to decode base64 JWT payload"),null)}catch(O){return rt("Caught error parsing JWT payload as JSON",O?.toString()),null}}function Tn(f,l){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,v.Z)(function*(f,l,d=!1){if(d)return l;try{return yield l}catch(y){throw y instanceof F.ZR&&function or({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(y)&&f.auth.currentUser===f&&(yield f.auth.signOut()),y}})).apply(this,arguments)}class gr{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const O=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const y=this.getInterval(l);this.timerId=setTimeout((0,v.Z)(function*(){yield d.iteration()}),y)}iteration(){var l=this;return(0,v.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&l.schedule(!0))}l.schedule()})()}}class Ii{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function In(f){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,v.Z)(function*(f){var l;const d=f.auth,y=yield f.getIdToken(),O=yield Tn(f,function Zr(f,l){return cr.apply(this,arguments)}(d,{idToken:y}));Y(O?.users.length,d,"internal-error");const $=O.users[0];f._notifyReloadListener($);const he=null!==(l=$.providerUserInfo)&&void 0!==l&&l.length?function ct(f){return f.map(l=>{var{providerId:d}=l,y=(0,ce._T)(l,["providerId"]);return{providerId:d,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}($.providerUserInfo):[],Oe=function Rr(f,l){return[...f.filter(y=>!l.some(O=>O.providerId===y.providerId)),...l]}(f.providerData,he),on=!!f.isAnonymous&&!(f.email&&$.passwordHash||Oe?.length),qt={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:Oe,metadata:new Ii($.createdAt,$.lastLoginAt),isAnonymous:on};Object.assign(f,qt)}),Dr.apply(this,arguments)}function Ft(){return(Ft=(0,v.Z)(function*(f){const l=(0,F.m9)(f);yield In(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Ct(){return(Ct=(0,v.Z)(function*(f,l){const d=yield _n(f,{},(0,v.Z)(function*(){const y=(0,F.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:O,apiKey:$}=f.config,he=vt(f,O,"/v1/token",`key=${$}`),Oe=yield f._getAdditionalHeaders();return Oe["Content-Type"]="application/x-www-form-urlencoded",Bt.fetch()(he,{method:"POST",headers:Oe,body:y})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){Y(l.idToken,"internal-error"),Y(typeof l.idToken<"u","internal-error"),Y(typeof l.refreshToken<"u","internal-error");const d="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function kn(f){const l=Nt(f);return Y(l,"internal-error"),Y(typeof l.exp<"u","internal-error"),Y(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var y=this;return(0,v.Z)(function*(){return Y(!y.accessToken||y.refreshToken,l,"user-token-expired"),d||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(l,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var y=this;return(0,v.Z)(function*(){const{accessToken:O,refreshToken:$,expiresIn:he}=yield function Ve(f,l){return Ct.apply(this,arguments)}(l,d);y.updateTokensAndExpiration(O,$,Number(he))})()}updateTokensAndExpiration(l,d,y){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(l,d){const{refreshToken:y,accessToken:O,expirationTime:$}=d,he=new xt;return y&&(Y("string"==typeof y,"internal-error",{appName:l}),he.refreshToken=y),O&&(Y("string"==typeof O,"internal-error",{appName:l}),he.accessToken=O),$&&(Y("number"==typeof $,"internal-error",{appName:l}),he.expirationTime=$),he}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new xt,this.toJSON())}_performRefresh(){return Re("not implemented")}}function jt(f,l){Y("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class Jt{constructor(l){var{uid:d,auth:y,stsTokenManager:O}=l,$=(0,ce._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=y,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=$.displayName||null,this.email=$.email||null,this.emailVerified=$.emailVerified||!1,this.phoneNumber=$.phoneNumber||null,this.photoURL=$.photoURL||null,this.isAnonymous=$.isAnonymous||!1,this.tenantId=$.tenantId||null,this.providerData=$.providerData?[...$.providerData]:[],this.metadata=new Ii($.createdAt||void 0,$.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,v.Z)(function*(){const y=yield Tn(d,d.stsTokenManager.getToken(d.auth,l));return Y(y,d.auth,"internal-error"),d.accessToken!==y&&(d.accessToken=y,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),y})()}getIdTokenResult(l){return function Bn(f){return Ot.apply(this,arguments)}(this,l)}reload(){return function nn(f){return Ft.apply(this,arguments)}(this)}_assign(l){this!==l&&(Y(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new Jt(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var y=this;return(0,v.Z)(function*(){let O=!1;l.idToken&&l.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(l),O=!0),d&&(yield In(y)),yield y.auth._persistUserIfCurrent(y),O&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var l=this;return(0,v.Z)(function*(){const d=yield l.getIdToken();return yield Tn(l,function bn(f,l){return Mt.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var y,O,$,he,Oe,mt,Pt,on;const qt=null!==(y=d.displayName)&&void 0!==y?y:void 0,ei=null!==(O=d.email)&&void 0!==O?O:void 0,mo=null!==($=d.phoneNumber)&&void 0!==$?$:void 0,tl=null!==(he=d.photoURL)&&void 0!==he?he:void 0,Gr=null!==(Oe=d.tenantId)&&void 0!==Oe?Oe:void 0,Aa=null!==(mt=d._redirectEventId)&&void 0!==mt?mt:void 0,Al=null!==(Pt=d.createdAt)&&void 0!==Pt?Pt:void 0,Gl=null!==(on=d.lastLoginAt)&&void 0!==on?on:void 0,{uid:Kl,emailVerified:tc,isAnonymous:Lc,providerData:nc,stsTokenManager:Zl}=d;Y(Kl&&Zl,l,"internal-error");const Iu=xt.fromJSON(this.name,Zl);Y("string"==typeof Kl,l,"internal-error"),jt(qt,l.name),jt(ei,l.name),Y("boolean"==typeof tc,l,"internal-error"),Y("boolean"==typeof Lc,l,"internal-error"),jt(mo,l.name),jt(tl,l.name),jt(Gr,l.name),jt(Aa,l.name),jt(Al,l.name),jt(Gl,l.name);const Du=new Jt({uid:Kl,auth:l,email:ei,emailVerified:tc,displayName:qt,isAnonymous:Lc,photoURL:tl,phoneNumber:mo,tenantId:Gr,stsTokenManager:Iu,createdAt:Al,lastLoginAt:Gl});return nc&&Array.isArray(nc)&&(Du.providerData=nc.map(cd=>Object.assign({},cd))),Aa&&(Du._redirectEventId=Aa),Du}static _fromIdTokenResponse(l,d,y=!1){return(0,v.Z)(function*(){const O=new xt;O.updateFromServerResponse(d);const $=new Jt({uid:d.localId,auth:l,stsTokenManager:O,isAnonymous:y});return yield In($),$})()}}const X=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(d,y){var O=this;return(0,v.Z)(function*(){O.storage[d]=y})()}_get(d){var y=this;return(0,v.Z)(function*(){const O=y.storage[d];return void 0===O?null:O})()}_remove(d){var y=this;return(0,v.Z)(function*(){delete y.storage[d]})()}_addListener(d,y){}_removeListener(d,y){}}return f.type="NONE",f})();function q(f,l,d){return`firebase:${f}:${l}:${d}`}class ie{constructor(l,d,y){this.persistence=l,this.auth=d,this.userKey=y;const{config:O,name:$}=this.auth;this.fullUserKey=q(this.userKey,O.apiKey,$),this.fullPersistenceKey=q("persistence",O.apiKey,$),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,v.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?Jt._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,v.Z)(function*(){if(d.persistence===l)return;const y=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,y?d.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,y="authUser"){return(0,v.Z)(function*(){if(!d.length)return new ie(it(X),l,y);const O=(yield Promise.all(d.map(function(){var Pt=(0,v.Z)(function*(on){if(yield on._isAvailable())return on});return function(on){return Pt.apply(this,arguments)}}()))).filter(Pt=>Pt);let $=O[0]||it(X);const he=q(y,l.config.apiKey,l.name);let Oe=null;for(const Pt of d)try{const on=yield Pt._get(he);if(on){const qt=Jt._fromJSON(l,on);Pt!==$&&(Oe=qt),$=Pt;break}}catch{}const mt=O.filter(Pt=>Pt._shouldAllowMigration);return $._shouldAllowMigration&&mt.length?($=mt[0],Oe&&(yield $._set(he,Oe.toJSON())),yield Promise.all(d.map(function(){var Pt=(0,v.Z)(function*(on){if(on!==$)try{yield on._remove(he)}catch{}});return function(on){return Pt.apply(this,arguments)}}())),new ie($,l,y)):new ie($,l,y)})()}}function Me(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(re(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(ve(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(ye(l))return"Blackberry";if(ke(l))return"Webos";if(_t(l))return"Safari";if((l.includes("chrome/")||ne(l))&&!l.includes("edge/"))return"Chrome";if(W(l))return"Android";{const y=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function ve(f=(0,F.z$)()){return/firefox\//i.test(f)}function _t(f=(0,F.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function ne(f=(0,F.z$)()){return/crios\//i.test(f)}function re(f=(0,F.z$)()){return/iemobile/i.test(f)}function W(f=(0,F.z$)()){return/android/i.test(f)}function ye(f=(0,F.z$)()){return/blackberry/i.test(f)}function ke(f=(0,F.z$)()){return/webos/i.test(f)}function Ze(f=(0,F.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function us(f=(0,F.z$)()){return Ze(f)||W(f)||ke(f)||ye(f)||/windows phone/i.test(f)||re(f)}function Di(f,l=[]){let d;switch(f){case"Browser":d=Me((0,F.z$)());break;case"Worker":d=`${Me((0,F.z$)())}-${f}`;break;default:d=f}const y=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${te.SDK_VERSION}/${y}`}class Li{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,d){const y=$=>new Promise((he,Oe)=>{try{he(l($))}catch(mt){Oe(mt)}});y.onAbort=d,this.queue.push(y);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(l){var d=this;return(0,v.Z)(function*(){if(d.auth.currentUser===l)return;const y=[];try{for(const O of d.queue)yield O(l),O.onAbort&&y.push(O.onAbort)}catch(O){y.reverse();for(const $ of y)try{$()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:O?.message})}})()}}class xo{constructor(l,d,y){this.app=l,this.heartbeatServiceProvider=d,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fi(this),this.idTokenSubscription=new Fi(this),this.beforeStateQueue=new Li(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Se,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(l,d){var y=this;return d&&(this._popupRedirectResolver=it(d)),this._initializationPromise=this.queue((0,v.Z)(function*(){var O,$;if(!y._deleted&&(y.persistenceManager=yield ie.create(y,l),!y._deleted)){if(null!==(O=y._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(d),y.lastNotifiedUid=(null===($=y.currentUser)||void 0===$?void 0:$.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,v.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d,!0)}})()}initializeCurrentUser(l){var d=this;return(0,v.Z)(function*(){var y;const O=yield d.assertedPersistence.getCurrentUser();let $=O,he=!1;if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Oe=null===(y=d.redirectUser)||void 0===y?void 0:y._redirectEventId,mt=$?._redirectEventId,Pt=yield d.tryRedirectSignIn(l);(!Oe||Oe===mt)&&Pt?.user&&($=Pt.user,he=!0)}if(!$)return d.directlySetCurrentUser(null);if(!$._redirectEventId){if(he)try{yield d.beforeStateQueue.runMiddleware($)}catch(Oe){$=O,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Oe))}return $?d.reloadAndSetCurrentUserOrClear($):d.directlySetCurrentUser(null)}return Y(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===$._redirectEventId?d.directlySetCurrentUser($):d.reloadAndSetCurrentUserOrClear($)})()}tryRedirectSignIn(l){var d=this;return(0,v.Z)(function*(){let y=null;try{y=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch{yield d._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,v.Z)(function*(){try{yield In(l)}catch(y){if("auth/network-request-failed"!==y?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function Ue(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,v.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,v.Z)(function*(){const y=l?(0,F.m9)(l):null;return y&&Y(y.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(y&&y._clone(d))})()}_updateCurrentUser(l,d=!1){var y=this;return(0,v.Z)(function*(){if(!y._deleted)return l&&Y(y.tenantId===l.tenantId,y,"tenant-id-mismatch"),d||(yield y.beforeStateQueue.runMiddleware(l)),y.queue((0,v.Z)(function*(){yield y.directlySetCurrentUser(l),y.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,v.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var d=this;return this.queue((0,v.Z)(function*(){yield d.assertedPersistence.setPersistence(it(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new F.LL("auth","Firebase",l())}onAuthStateChanged(l,d,y){return this.registerStateListener(this.authStateSubscription,l,d,y)}beforeAuthStateChanged(l,d){return this.beforeStateQueue.pushCallback(l,d)}onIdTokenChanged(l,d,y){return this.registerStateListener(this.idTokenSubscription,l,d,y)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var y=this;return(0,v.Z)(function*(){const O=yield y.getOrInitRedirectPersistenceManager(d);return null===l?O.removeCurrentUser():O.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,v.Z)(function*(){if(!d.redirectPersistenceManager){const y=l&&it(l)||d._popupRedirectResolver;Y(y,d,"argument-error"),d.redirectPersistenceManager=yield ie.create(d,[it(y._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,v.Z)(function*(){var y,O;return d._isInitialized&&(yield d.queue((0,v.Z)(function*(){}))),(null===(y=d._currentUser)||void 0===y?void 0:y._redirectEventId)===l?d._currentUser:(null===(O=d.redirectUser)||void 0===O?void 0:O._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,v.Z)(function*(){if(l===d.currentUser)return d.queue((0,v.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,y,O){if(this._deleted)return()=>{};const $="function"==typeof d?d:d.next.bind(d),he=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(he,this,"internal-error"),he.then(()=>$(this.currentUser)),"function"==typeof d?l.addObserver(d,y,O):l.addObserver(d)}directlySetCurrentUser(l){var d=this;return(0,v.Z)(function*(){d.currentUser&&d.currentUser!==l&&d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh(),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Di(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,v.Z)(function*(){var d;const y={"X-Client-Version":l.clientVersion};l.app.options.appId&&(y["X-Firebase-gmpid"]=l.app.options.appId);const O=yield null===(d=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();return O&&(y["X-Firebase-Client"]=O),y})()}}function Ln(f){return(0,F.m9)(f)}class Fi{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,F.ne)(d=>this.observer=d)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gn(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function Ir(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class ur{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return Re("not implemented")}_getIdTokenResponse(l){return Re("not implemented")}_linkToIdToken(l,d){return Re("not implemented")}_getReauthenticationResolver(l){return Re("not implemented")}}function $n(f,l){return Et.apply(this,arguments)}function Et(){return(Et=(0,v.Z)(function*(f,l){return Ut(f,"POST","/v1/accounts:resetPassword",ft(f,l))})).apply(this,arguments)}function Xt(f,l){return jn.apply(this,arguments)}function jn(){return(jn=(0,v.Z)(function*(f,l){return Ut(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function di(){return(di=(0,v.Z)(function*(f,l){return Ut(f,"POST","/v1/accounts:update",ft(f,l))})).apply(this,arguments)}function kr(){return(kr=(0,v.Z)(function*(f,l){return Mn(f,"POST","/v1/accounts:signInWithPassword",ft(f,l))})).apply(this,arguments)}function Wn(f,l){return ti.apply(this,arguments)}function ti(){return(ti=(0,v.Z)(function*(f,l){return Ut(f,"POST","/v1/accounts:sendOobCode",ft(f,l))})).apply(this,arguments)}function Qt(){return(Qt=(0,v.Z)(function*(f,l){return Wn(f,l)})).apply(this,arguments)}function cs(){return(cs=(0,v.Z)(function*(f,l){return Wn(f,l)})).apply(this,arguments)}function ni(){return(ni=(0,v.Z)(function*(f,l){return Wn(f,l)})).apply(this,arguments)}function hr(){return(hr=(0,v.Z)(function*(f,l){return Wn(f,l)})).apply(this,arguments)}function Cr(){return(Cr=(0,v.Z)(function*(f,l){return Mn(f,"POST","/v1/accounts:signInWithEmailLink",ft(f,l))})).apply(this,arguments)}function ds(){return(ds=(0,v.Z)(function*(f,l){return Mn(f,"POST","/v1/accounts:signInWithEmailLink",ft(f,l))})).apply(this,arguments)}class Pn extends ur{constructor(l,d,y,O=null){super("password",y),this._email=l,this._password=d,this._tenantId=O}static _fromEmailAndPassword(l,d){return new Pn(l,d,"password")}static _fromEmailAndCode(l,d,y=null){return new Pn(l,d,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,v.Z)(function*(){switch(d.signInMethod){case"password":return function Vn(f,l){return kr.apply(this,arguments)}(l,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function Ci(f,l){return Cr.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:Fe(l,"internal-error")}})()}_linkToIdToken(l,d){var y=this;return(0,v.Z)(function*(){switch(y.signInMethod){case"password":return Xt(l,{idToken:d,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function fi(f,l){return ds.apply(this,arguments)}(l,{idToken:d,email:y._email,oobCode:y._password});default:Fe(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Ui(f,l){return fe.apply(this,arguments)}function fe(){return(fe=(0,v.Z)(function*(f,l){return Mn(f,"POST","/v1/accounts:signInWithIdp",ft(f,l))})).apply(this,arguments)}class me extends ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new me(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):Fe("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:y,signInMethod:O}=d,$=(0,ce._T)(d,["providerId","signInMethod"]);if(!y||!O)return null;const he=new me(y,O);return he.idToken=$.idToken||void 0,he.accessToken=$.accessToken||void 0,he.secret=$.secret,he.nonce=$.nonce,he.pendingToken=$.pendingToken||null,he}_getIdTokenResponse(l){return Ui(l,this.buildRequest())}_linkToIdToken(l,d){const y=this.buildRequest();return y.idToken=d,Ui(l,y)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Ui(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,F.xO)(d)}return l}}function ut(){return(ut=(0,v.Z)(function*(f,l){return Ut(f,"POST","/v1/accounts:sendVerificationCode",ft(f,l))})).apply(this,arguments)}function en(){return(en=(0,v.Z)(function*(f,l){return Mn(f,"POST","/v1/accounts:signInWithPhoneNumber",ft(f,l))})).apply(this,arguments)}function an(){return(an=(0,v.Z)(function*(f,l){const d=yield Mn(f,"POST","/v1/accounts:signInWithPhoneNumber",ft(f,l));if(d.temporaryProof)throw Qn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const mn={USER_NOT_FOUND:"user-not-found"};function Ht(){return(Ht=(0,v.Z)(function*(f,l){return Mn(f,"POST","/v1/accounts:signInWithPhoneNumber",ft(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),mn)})).apply(this,arguments)}class tr extends ur{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new tr({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new tr({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function bt(f,l){return en.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function Sn(f,l){return an.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function dn(f,l){return Ht.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:y,verificationCode:O}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:y,code:O}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:y,phoneNumber:O,temporaryProof:$}=l;return y||d||O||$?new tr({verificationId:d,verificationCode:y,phoneNumber:O,temporaryProof:$}):null}}class Qs{constructor(l){var d,y,O,$,he,Oe;const mt=(0,F.zd)((0,F.pd)(l)),Pt=null!==(d=mt.apiKey)&&void 0!==d?d:null,on=null!==(y=mt.oobCode)&&void 0!==y?y:null,qt=function Zn(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=mt.mode)&&void 0!==O?O:null);Y(Pt&&on&&qt,"argument-error"),this.apiKey=Pt,this.operation=qt,this.code=on,this.continueUrl=null!==($=mt.continueUrl)&&void 0!==$?$:null,this.languageCode=null!==(he=mt.languageCode)&&void 0!==he?he:null,this.tenantId=null!==(Oe=mt.tenantId)&&void 0!==Oe?Oe:null}static parseLink(l){const d=function yo(f){const l=(0,F.zd)((0,F.pd)(f)).link,d=l?(0,F.zd)((0,F.pd)(l)).deep_link_id:null,y=(0,F.zd)((0,F.pd)(f)).deep_link_id;return(y?(0,F.zd)((0,F.pd)(y)).link:null)||y||d||l||f}(l);try{return new Qs(d)}catch{return null}}}let Js=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,y){return Pn._fromEmailAndPassword(d,y)}static credentialWithLink(d,y){const O=Qs.parseLink(y);return Y(O,"argument-error"),Pn._fromEmailAndCode(d,O.code,O.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Rn{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Gt extends Rn{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class nr extends Gt{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return Y("providerId"in d&&"signInMethod"in d,"argument-error"),me._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return Y(l.idToken||l.accessToken,"argument-error"),me._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return nr.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return nr.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:y,oauthTokenSecret:O,pendingToken:$,nonce:he,providerId:Oe}=l;if(!y&&!O&&!d&&!$||!Oe)return null;try{return new nr(Oe)._credential({idToken:d,accessToken:y,nonce:he,pendingToken:$})}catch{return null}}}let vo=(()=>{class f extends Gt{constructor(){super("facebook.com")}static credential(d){return me._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Eo=(()=>{class f extends Gt{constructor(){super("google.com"),this.addScope("profile")}static credential(d,y){return me._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:y})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:y,oauthAccessToken:O}=d;if(!y&&!O)return null;try{return f.credential(y,O)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),ri=(()=>{class f extends Gt{constructor(){super("github.com")}static credential(d){return me._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class fs extends ur{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return Ui(l,this.buildRequest())}_linkToIdToken(l,d){const y=this.buildRequest();return y.idToken=d,Ui(l,y)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Ui(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:y,signInMethod:O,pendingToken:$}=d;return y&&O&&$&&y===O?new fs(y,$):null}static _create(l,d){return new fs(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jr extends Rn{constructor(l){Y(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return jr.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return jr.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=fs.fromJSON(l);return Y(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:y}=l;if(!d||!y)return null;try{return fs._create(y,d)}catch{return null}}}let gs=(()=>{class f extends Gt{constructor(){super("twitter.com")}static credential(d,y){return me._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:y})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:y,oauthTokenSecret:O}=d;if(!y||!O)return null;try{return f.credential(y,O)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Bi(f,l){return wi.apply(this,arguments)}function wi(){return(wi=(0,v.Z)(function*(f,l){return Mn(f,"POST","/v1/accounts:signUp",ft(f,l))})).apply(this,arguments)}class Hr{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,y,O=!1){return(0,v.Z)(function*(){const $=yield Jt._fromIdTokenResponse(l,y,O),he=Io(y);return new Hr({user:$,providerId:he,_tokenResponse:y,operationType:d})})()}static _forOperation(l,d,y){return(0,v.Z)(function*(){yield l._updateTokensIfNecessary(y,!0);const O=Io(y);return new Hr({user:l,providerId:O,_tokenResponse:y,operationType:d})})()}}function Io(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function ii(){return(ii=(0,v.Z)(function*(f){var l;const d=Ln(f);if(yield d._initializationPromise,null!==(l=d.currentUser)&&void 0!==l&&l.isAnonymous)return new Hr({user:d.currentUser,providerId:null,operationType:"signIn"});const y=yield Bi(d,{returnSecureToken:!0}),O=yield Hr._fromIdTokenResponse(d,"signIn",y,!0);return yield d._updateCurrentUser(O.user),O})).apply(this,arguments)}class Do extends F.ZR{constructor(l,d,y,O){var $;super(d.code,d.message),this.operationType=y,this.user=O,Object.setPrototypeOf(this,Do.prototype),this.customData={appName:l.name,tenantId:null!==($=l.tenantId)&&void 0!==$?$:void 0,_serverResponse:d.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(l,d,y,O){return new Do(l,d,y,O)}}function Co(f,l,d,y){return("reauthenticate"===l?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch($=>{throw"auth/multi-factor-auth-required"===$.code?Do._fromErrorAndOperation(f,$,l,y):$})}function xr(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function Vi(){return Vi=(0,v.Z)(function*(f,l){const d=(0,F.m9)(f);yield Lr(!0,d,l);const{providerUserInfo:y}=yield function On(f,l){return pt.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),O=xr(y||[]);return d.providerData=d.providerData.filter($=>O.has($.providerId)),O.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Vi.apply(this,arguments)}function $i(f,l){return ji.apply(this,arguments)}function ji(){return(ji=(0,v.Z)(function*(f,l,d=!1){const y=yield Tn(f,l._linkToIdToken(f.auth,yield f.getIdToken()),d);return Hr._forOperation(f,"link",y)})).apply(this,arguments)}function Lr(f,l,d){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,v.Z)(function*(f,l,d){yield In(l);const O=!1===f?"provider-already-linked":"no-such-provider";Y(xr(l.providerData).has(d)===f,l.auth,O)})).apply(this,arguments)}function Fr(f,l){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,v.Z)(function*(f,l,d=!1){const{auth:y}=f,O="reauthenticate";try{const $=yield Tn(f,Co(y,O,l,f),d);Y($.idToken,y,"internal-error");const he=Nt($.idToken);Y(he,y,"internal-error");const{sub:Oe}=he;return Y(f.uid===Oe,y,"user-mismatch"),Hr._forOperation(f,O,$)}catch($){throw"auth/user-not-found"===$?.code&&Fe(y,"user-mismatch"),$}})).apply(this,arguments)}function _r(f,l){return ko.apply(this,arguments)}function ko(){return(ko=(0,v.Z)(function*(f,l,d=!1){const y="signIn",O=yield Co(f,y,l),$=yield Hr._fromIdTokenResponse(f,y,O);return d||(yield f._updateCurrentUser($.user)),$})).apply(this,arguments)}function fn(f,l){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,v.Z)(function*(f,l){return _r(Ln(f),l)})).apply(this,arguments)}function Fs(f,l){return wr.apply(this,arguments)}function wr(){return(wr=(0,v.Z)(function*(f,l){const d=(0,F.m9)(f);return yield Lr(!1,d,l.providerId),$i(d,l)})).apply(this,arguments)}function wo(f,l){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,v.Z)(function*(f,l){return Fr((0,F.m9)(f),l)})).apply(this,arguments)}function br(){return(br=(0,v.Z)(function*(f,l){return Mn(f,"POST","/v1/accounts:signInWithCustomToken",ft(f,l))})).apply(this,arguments)}function Ji(){return Ji=(0,v.Z)(function*(f,l){const d=Ln(f),y=yield function Ur(f,l){return br.apply(this,arguments)}(d,{token:l,returnSecureToken:!0}),O=yield Hr._fromIdTokenResponse(d,"signIn",y);return yield d._updateCurrentUser(O.user),O}),Ji.apply(this,arguments)}class ms{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?fr._fromServerResponse(l,d):Fe(l,"internal-error")}}class fr extends ms{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new fr(d)}}function Nn(f,l,d){var y;Y((null===(y=d.url)||void 0===y?void 0:y.length)>0,f,"invalid-continue-uri"),Y(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(Y(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(Y(d.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function tn(){return tn=(0,v.Z)(function*(f,l,d){const y=(0,F.m9)(f),O={requestType:"PASSWORD_RESET",email:l};d&&Nn(y,O,d),yield function hi(f,l){return cs.apply(this,arguments)}(y,O)}),tn.apply(this,arguments)}function Xs(){return(Xs=(0,v.Z)(function*(f,l,d){yield $n((0,F.m9)(f),{oobCode:l,newPassword:d})})).apply(this,arguments)}function gi(){return gi=(0,v.Z)(function*(f,l){yield function mr(f,l){return di.apply(this,arguments)}((0,F.m9)(f),{oobCode:l})}),gi.apply(this,arguments)}function es(f,l){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,v.Z)(function*(f,l){const d=(0,F.m9)(f),y=yield $n(d,{oobCode:l}),O=y.requestType;switch(Y(O,d,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(y.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(y.mfaInfo,d,"internal-error");default:Y(y.email,d,"internal-error")}let $=null;return y.mfaInfo&&($=ms._fromServerResponse(Ln(d),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:$},operation:O}})).apply(this,arguments)}function vs(){return(vs=(0,v.Z)(function*(f,l){const{data:d}=yield es((0,F.m9)(f),l);return d.email})).apply(this,arguments)}function kt(){return(kt=(0,v.Z)(function*(f,l,d){const y=Ln(f),O=yield Bi(y,{returnSecureToken:!0,email:l,password:d}),$=yield Hr._fromIdTokenResponse(y,"signIn",O);return yield y._updateCurrentUser($.user),$})).apply(this,arguments)}function yr(){return yr=(0,v.Z)(function*(f,l,d){const y=(0,F.m9)(f),O={requestType:"EMAIL_SIGNIN",email:l};Y(d.handleCodeInApp,y,"argument-error"),d&&Nn(y,O,d),yield function qs(f,l){return ni.apply(this,arguments)}(y,O)}),yr.apply(this,arguments)}function Or(){return(Or=(0,v.Z)(function*(f,l,d){const y=(0,F.m9)(f),O=Js.credentialWithLink(l,d||Te());return Y(O._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),fn(y,O)})).apply(this,arguments)}function eo(){return(eo=(0,v.Z)(function*(f,l){return Ut(f,"POST","/v1/accounts:createAuthUri",ft(f,l))})).apply(this,arguments)}function Es(){return Es=(0,v.Z)(function*(f,l){const y={identifier:l,continueUri:Ie()?Te():"http://localhost"},{signinMethods:O}=yield function Us(f,l){return eo.apply(this,arguments)}((0,F.m9)(f),y);return O||[]}),Es.apply(this,arguments)}function Yn(){return Yn=(0,v.Z)(function*(f,l){const d=(0,F.m9)(f),O={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&Nn(d.auth,O,l);const{email:$}=yield function Mr(f,l){return Qt.apply(this,arguments)}(d.auth,O);$!==f.email&&(yield f.reload())}),Yn.apply(this,arguments)}function to(){return to=(0,v.Z)(function*(f,l,d){const y=(0,F.m9)(f),$={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};d&&Nn(y.auth,$,d);const{email:he}=yield function dr(f,l){return hr.apply(this,arguments)}(y.auth,$);he!==f.email&&(yield f.reload())}),to.apply(this,arguments)}function Nr(){return(Nr=(0,v.Z)(function*(f,l){return Ut(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function no(){return no=(0,v.Z)(function*(f,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const y=(0,F.m9)(f),$={idToken:yield y.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},he=yield Tn(y,function bi(f,l){return Nr.apply(this,arguments)}(y.auth,$));y.displayName=he.displayName||null,y.photoURL=he.photoUrl||null;const Oe=y.providerData.find(({providerId:mt})=>"password"===mt);Oe&&(Oe.displayName=y.displayName,Oe.photoURL=y.photoURL),yield y._updateTokensIfNecessary(he)}),no.apply(this,arguments)}function ro(f,l,d){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,v.Z)(function*(f,l,d){const{auth:y}=f,$={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&($.email=l),d&&($.password=d);const he=yield Tn(f,Xt(y,$));yield f._updateTokensIfNecessary(he,!0)})).apply(this,arguments)}class _i{constructor(l,d,y={}){this.isNewUser=l,this.providerId=d,this.profile=y}}class so extends _i{constructor(l,d,y,O){super(l,d,y),this.username=O}}class Wi extends _i{constructor(l,d){super(l,"facebook.com",d)}}class zi extends so{constructor(l,d){super(l,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Uo extends _i{constructor(l,d){super(l,"google.com",d)}}class Bo extends so{constructor(l,d,y){super(l,"twitter.com",d,y)}}function ma(f){const{user:l,_tokenResponse:d}=f;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function io(f){var l,d;if(!f)return null;const{providerId:y}=f,O=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},$=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!y&&f?.idToken){const he=null===(d=null===(l=Nt(f.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(he)return new _i($,"anonymous"!==he&&"custom"!==he?he:null)}if(!y)return null;switch(y){case"facebook.com":return new Wi($,O);case"github.com":return new zi($,O);case"google.com":return new Uo($,O);case"twitter.com":return new Bo($,O,f.screenName||null);case"custom":case"anonymous":return new _i($,null);default:return new _i($,y,O)}}(d)}class Ti{constructor(l,d,y){this.type=l,this.credential=d,this.auth=y}static _fromIdtoken(l,d){return new Ti("enroll",l,d)}static _fromMfaPendingCredential(l){return new Ti("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,y;if(l?.multiFactorSession){if(null!==(d=l.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ti._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(y=l.multiFactorSession)&&void 0!==y&&y.idToken)return Ti._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Gi{constructor(l,d,y){this.session=l,this.hints=d,this.signInResolver=y}static _fromError(l,d){const y=Ln(l),O=d.customData._serverResponse,$=(O.mfaInfo||[]).map(Oe=>ms._fromServerResponse(y,Oe));Y(O.mfaPendingCredential,y,"internal-error");const he=Ti._fromMfaPendingCredential(O.mfaPendingCredential);return new Gi(he,$,function(){var Oe=(0,v.Z)(function*(mt){const Pt=yield mt._process(y,he);delete O.mfaInfo,delete O.mfaPendingCredential;const on=Object.assign(Object.assign({},O),{idToken:Pt.idToken,refreshToken:Pt.refreshToken});switch(d.operationType){case"signIn":const qt=yield Hr._fromIdTokenResponse(y,d.operationType,on);return yield y._updateCurrentUser(qt.user),qt;case"reauthenticate":return Y(d.user,y,"internal-error"),Hr._forOperation(d.user,d.operationType,on);default:Fe(y,"internal-error")}});return function(mt){return Oe.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,v.Z)(function*(){return d.signInResolver(l)})()}}class Ki{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(y=>ms._fromServerResponse(l.auth,y)))})}static _fromUser(l){return new Ki(l)}getSession(){var l=this;return(0,v.Z)(function*(){return Ti._fromIdtoken(yield l.user.getIdToken(),l.user.auth)})()}enroll(l,d){var y=this;return(0,v.Z)(function*(){const O=l,$=yield y.getSession(),he=yield Tn(y.user,O._process(y.user.auth,$,d));return yield y.user._updateTokensIfNecessary(he),y.user.reload()})()}unenroll(l){var d=this;return(0,v.Z)(function*(){const y="string"==typeof l?l:l.uid,O=yield d.user.getIdToken();try{const $=yield Tn(d.user,function So(f,l){return Ut(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(f,l))}(d.user.auth,{idToken:O,mfaEnrollmentId:y}));d.enrolledFactors=d.enrolledFactors.filter(({uid:he})=>he!==y),yield d.user._updateTokensIfNecessary($),yield d.user.reload()}catch($){throw $}})()}}const js=new WeakMap,D="__sak";class M{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(D,"1"),this.storage.removeItem(D),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const He=(()=>{class f extends M{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,y)=>this.onStorageEvent(d,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function T(){const f=(0,F.z$)();return _t(f)||Ze(f)}()&&function ci(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=us(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const y of Object.keys(this.listeners)){const O=this.storage.getItem(y),$=this.localCache[y];O!==$&&d(y,$,O)}}onStorageEvent(d,y=!1){if(!d.key)return void this.forAllChangedKeys((Oe,mt,Pt)=>{this.notifyListeners(Oe,Pt)});const O=d.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Oe=this.storage.getItem(O);if(d.newValue!==Oe)null!==d.newValue?this.storage.setItem(O,d.newValue):this.storage.removeItem(O);else if(this.localCache[O]===d.newValue&&!y)return}const $=()=>{const Oe=this.storage.getItem(O);!y&&this.localCache[O]===Oe||this.notifyListeners(O,Oe)},he=this.storage.getItem(O);!function Kn(){return(0,F.w1)()&&10===document.documentMode}()||he===d.newValue||d.newValue===d.oldValue?$():setTimeout($,10)}notifyListeners(d,y){this.localCache[d]=y;const O=this.listeners[d];if(O)for(const $ of Array.from(O))$(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,y,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:y,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(y)}_removeListener(d,y){this.listeners[d]&&(this.listeners[d].delete(y),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,y){var O=()=>super._set,$=this;return(0,v.Z)(function*(){yield O().call($,d,y),$.localCache[d]=JSON.stringify(y)})()}_get(d){var y=()=>super._get,O=this;return(0,v.Z)(function*(){const $=yield y().call(O,d);return O.localCache[d]=JSON.stringify($),$})()}_remove(d){var y=()=>super._remove,O=this;return(0,v.Z)(function*(){yield y().call(O,d),delete O.localCache[d]})()}}return f.type="LOCAL",f})(),rn=(()=>{class f extends M{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,y){}_removeListener(d,y){}}return f.type="SESSION",f})();let xn=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const y=this.receivers.find($=>$.isListeningto(d));if(y)return y;const O=new f(d);return this.receivers.push(O),O}isListeningto(d){return this.eventTarget===d}handleEvent(d){var y=this;return(0,v.Z)(function*(){const O=d,{eventId:$,eventType:he,data:Oe}=O.data,mt=y.handlersMap[he];if(!mt?.size)return;O.ports[0].postMessage({status:"ack",eventId:$,eventType:he});const Pt=Array.from(mt).map(function(){var qt=(0,v.Z)(function*(ei){return ei(O.origin,Oe)});return function(ei){return qt.apply(this,arguments)}}()),on=yield function Dn(f){return Promise.all(f.map(function(){var l=(0,v.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(y){return{fulfilled:!1,reason:y}}});return function(d){return l.apply(this,arguments)}}()))}(Pt);O.ports[0].postMessage({status:"done",eventId:$,eventType:he,response:on})})()}_subscribe(d,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(y)}_unsubscribe(d,y){this.handlersMap[d]&&y&&this.handlersMap[d].delete(y),(!y||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function ln(f="",l=10){let d="";for(let y=0;y<l;y++)d+=Math.floor(10*Math.random());return f+d}class rr{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,y=50){var O=this;return(0,v.Z)(function*(){const $=typeof MessageChannel<"u"?new MessageChannel:null;if(!$)throw new Error("connection_unavailable");let he,Oe;return new Promise((mt,Pt)=>{const on=ln("",20);$.port1.start();const qt=setTimeout(()=>{Pt(new Error("unsupported_event"))},y);Oe={messageChannel:$,onMessage(ei){const mo=ei;if(mo.data.eventId===on)switch(mo.data.status){case"ack":clearTimeout(qt),he=setTimeout(()=>{Pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(he),mt(mo.data.response);break;default:clearTimeout(qt),clearTimeout(he),Pt(new Error("invalid_response"))}}},O.handlers.add(Oe),$.port1.addEventListener("message",Oe.onMessage),O.target.postMessage({eventType:l,eventId:on,data:d},[$.port2])}).finally(()=>{Oe&&O.removeMessageHandler(Oe)})})()}}function Zt(){return window}function Tr(){return typeof Zt().WorkerGlobalScope<"u"&&"function"==typeof Zt().importScripts}function Sr(){return(Sr=(0,v.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zi="firebaseLocalStorageDb",Ai=1,oo="firebaseLocalStorage",ya="fbase_key";class Cs{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function ao(f,l){return f.transaction([oo],l?"readwrite":"readonly").objectStore(oo)}function jo(){const f=indexedDB.open(Zi,Ai);return new Promise((l,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const y=f.result;try{y.createObjectStore(oo,{keyPath:ya})}catch(O){d(O)}}),f.addEventListener("success",(0,v.Z)(function*(){const y=f.result;y.objectStoreNames.contains(oo)?l(y):(y.close(),yield function Qr(){const f=indexedDB.deleteDatabase(Zi);return new Cs(f).toPromise()}(),l(yield jo()))}))})}function ws(f,l,d){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,v.Z)(function*(f,l,d){const y=ao(f,!0).put({[ya]:l,value:d});return new Cs(y).toPromise()})).apply(this,arguments)}function lo(){return(lo=(0,v.Z)(function*(f,l){const d=ao(f,!1).get(l),y=yield new Cs(d).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function Wo(f,l){const d=ao(f,!0).delete(l);return new Cs(d).toPromise()}const bs=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,v.Z)(function*(){return d.db||(d.db=yield jo()),d.db})()}_withRetries(d){var y=this;return(0,v.Z)(function*(){let O=0;for(;;)try{const $=yield y._openDb();return yield d($)}catch($){if(O++>3)throw $;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,v.Z)(function*(){return Tr()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,v.Z)(function*(){d.receiver=xn._getInstance(function Si(){return Tr()?self:null}()),d.receiver._subscribe("keyChanged",function(){var y=(0,v.Z)(function*(O,$){return{keyProcessed:(yield d._poll()).includes($.key)}});return function(O,$){return y.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var y=(0,v.Z)(function*(O,$){return["keyChanged"]});return function(O,$){return y.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,v.Z)(function*(){var y,O;if(d.activeServiceWorker=yield function Br(){return Sr.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new rr(d.activeServiceWorker);const $=yield d.sender._send("ping",{},800);$&&null!==(y=$[0])&&void 0!==y&&y.fulfilled&&null!==(O=$[0])&&void 0!==O&&O.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var y=this;return(0,v.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function yi(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:d},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const d=yield jo();return yield ws(d,D,"1"),yield Wo(d,D),!0}catch{}return!1})()}_withPendingWrite(d){var y=this;return(0,v.Z)(function*(){y.pendingWrites++;try{yield d()}finally{y.pendingWrites--}})()}_set(d,y){var O=this;return(0,v.Z)(function*(){return O._withPendingWrite((0,v.Z)(function*(){return yield O._withRetries($=>ws($,d,y)),O.localCache[d]=y,O.notifyServiceWorker(d)}))})()}_get(d){var y=this;return(0,v.Z)(function*(){const O=yield y._withRetries($=>function ta(f,l){return lo.apply(this,arguments)}($,d));return y.localCache[d]=O,O})()}_remove(d){var y=this;return(0,v.Z)(function*(){return y._withPendingWrite((0,v.Z)(function*(){return yield y._withRetries(O=>Wo(O,d)),delete y.localCache[d],y.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,v.Z)(function*(){const y=yield d._withRetries(he=>{const Oe=ao(he,!1).getAll();return new Cs(Oe).toPromise()});if(!y)return[];if(0!==d.pendingWrites)return[];const O=[],$=new Set;for(const{fbase_key:he,value:Oe}of y)$.add(he),JSON.stringify(d.localCache[he])!==JSON.stringify(Oe)&&(d.notifyListeners(he,Oe),O.push(he));for(const he of Object.keys(d.localCache))d.localCache[he]&&!$.has(he)&&(d.notifyListeners(he,null),O.push(he));return O})()}notifyListeners(d,y){this.localCache[d]=y;const O=this.listeners[d];if(O)for(const $ of Array.from(O))$(y)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(y)}_removeListener(d,y){this.listeners[d]&&(this.listeners[d].delete(y),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})();function Mi(){return(Mi=(0,v.Z)(function*(f){return(yield Ut(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ar(f){return new Promise((l,d)=>{const y=document.createElement("script");y.setAttribute("src",f),y.onload=l,y.onerror=O=>{const $=Pe("internal-error");$.customData=O,d($)},y.type="text/javascript",y.charset="UTF-8",function va(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(y)})}function ra(f){return`__${f}${Math.floor(1e6*Math.random())}`}const Ts=1e12;class Ea{constructor(l){this.auth=l,this.counter=Ts,this._widgets=new Map}render(l,d){const y=this.counter;return this._widgets.set(y,new Ol(l,this.auth.name,d||{})),this.counter++,y}reset(l){var d;const y=l||Ts;null===(d=this._widgets.get(y))||void 0===d||d.delete(),this._widgets.delete(y)}getResponse(l){var d;return(null===(d=this._widgets.get(l||Ts))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,v.Z)(function*(){var y;return null===(y=d._widgets.get(l||Ts))||void 0===y||y.execute(),""})()}}class Ol{constructor(l,d,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof l?document.getElementById(l):l;Y(O,"argument-error",{appName:d}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function cl(f){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<f;y++)l.push(d.charAt(Math.floor(Math.random()*d.length)));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ia=ra("rcb"),Ss=new Je(3e4,6e4);class vr{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=Zt().grecaptcha)||void 0===l||!l.render)}load(l,d=""){return Y(function Fa(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),l,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(Zt().grecaptcha):new Promise((y,O)=>{const $=Zt().setTimeout(()=>{O(Pe(l,"network-request-failed"))},Ss.get());Zt()[ia]=()=>{Zt().clearTimeout($),delete Zt()[ia];const Oe=Zt().grecaptcha;if(!Oe)return void O(Pe(l,"internal-error"));const mt=Oe.render;Oe.render=(Pt,on)=>{const qt=mt(Pt,on);return this.counter++,qt},this.hostLanguage=d,y(Oe)},Ar(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:ia,render:"explicit",hl:d})}`).catch(()=>{clearTimeout($),O(Pe(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var d;return!(null===(d=Zt().grecaptcha)||void 0===d||!d.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class co{load(l){return(0,v.Z)(function*(){return new Ea(l)})()}clearedOneInstance(){}}const Ro="recaptcha",Ua={theme:"light",type:"image"};class ho{constructor(l,d=Object.assign({},Ua),y){this.parameters=d,this.type=Ro,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ln(y),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof l?document.getElementById(l):l;Y(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new co:new vr,this.validateStartingState()}verify(){var l=this;return(0,v.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),y=l.getAssertedRecaptcha();return y.getResponse(d)||new Promise($=>{const he=Oe=>{Oe&&(l.tokenChangeListeners.delete(he),$(Oe))};l.tokenChangeListeners.add(he),l.isInvisible&&y.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(y=>y(d)),"function"==typeof l)l(d);else if("string"==typeof l){const y=Zt()[l];"function"==typeof y&&y(d)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,v.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const y=document.createElement("div");d.appendChild(y),d=y}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,v.Z)(function*(){Y(Ie()&&!Tr(),l.auth,"internal-error"),yield function qn(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function Ri(f){return Mi.apply(this,arguments)}(l.auth);Y(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dl{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=tr._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function Ba(){return(Ba=(0,v.Z)(function*(f,l,d){const y=Ln(f),O=yield As(y,l,(0,F.m9)(d));return new dl(O,$=>fn(y,$))})).apply(this,arguments)}function Ia(){return(Ia=(0,v.Z)(function*(f,l,d){const y=(0,F.m9)(f);yield Lr(!1,y,"phone");const O=yield As(y.auth,l,(0,F.m9)(d));return new dl(O,$=>Fs(y,$))})).apply(this,arguments)}function Va(){return(Va=(0,v.Z)(function*(f,l,d){const y=(0,F.m9)(f),O=yield As(y.auth,l,(0,F.m9)(d));return new dl(O,$=>wo(y,$))})).apply(this,arguments)}function As(f,l,d){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,v.Z)(function*(f,l,d){var y;const O=yield d.verify();try{let $;if(Y("string"==typeof O,f,"argument-error"),Y(d.type===Ro,f,"argument-error"),$="string"==typeof l?{phoneNumber:l}:l,"session"in $){const he=$.session;if("phoneNumber"in $)return Y("enroll"===he.type,f,"internal-error"),(yield function ts(f,l){return Ut(f,"POST","/v2/accounts/mfaEnrollment:start",ft(f,l))}(f,{idToken:he.credential,phoneEnrollmentInfo:{phoneNumber:$.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{Y("signin"===he.type,f,"internal-error");const Oe=(null===(y=$.multiFactorHint)||void 0===y?void 0:y.uid)||$.multiFactorUid;return Y(Oe,f,"missing-multi-factor-info"),(yield function uo(f,l){return Ut(f,"POST","/v2/accounts/mfaSignIn:start",ft(f,l))}(f,{mfaPendingCredential:he.credential,mfaEnrollmentId:Oe,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:he}=yield function je(f,l){return ut.apply(this,arguments)}(f,{phoneNumber:$.phoneNumber,recaptchaToken:O});return he}}finally{d._reset()}}),Ca.apply(this,arguments)}function Er(){return(Er=(0,v.Z)(function*(f,l){yield $i((0,F.m9)(f),l)})).apply(this,arguments)}let Rs=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=Ln(d)}verifyPhoneNumber(d,y){return As(this.auth,d,(0,F.m9)(y))}static credential(d,y){return tr._fromVerification(d,y)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:y,temporaryProof:O}=d;return y&&O?tr._fromTokenResponse(y,O):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Yi(f,l){return l?it(l):(Y(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class $a extends ur{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Ui(l,this._buildIdpRequest())}_linkToIdToken(l,d){return Ui(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return Ui(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function Wr(f){return _r(f.auth,new $a(f),f.bypassAuthState)}function Hs(f){const{auth:l,user:d}=f;return Y(d,l,"internal-error"),Fr(d,new $a(f),f.bypassAuthState)}function fo(f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,v.Z)(function*(f){const{auth:l,user:d}=f;return Y(d,l,"internal-error"),$i(d,new $a(f),f.bypassAuthState)})).apply(this,arguments)}class Ws{constructor(l,d,y,O,$=!1){this.auth=l,this.resolver=y,this.user=O,this.bypassAuthState=$,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,v.Z)(function*(y,O){l.pendingPromise={resolve:y,reject:O};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch($){l.reject($)}});return function(y,O){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,v.Z)(function*(){const{urlResponse:y,sessionId:O,postBody:$,tenantId:he,error:Oe,type:mt}=l;if(Oe)return void d.reject(Oe);const Pt={auth:d.auth,requestUri:y,sessionId:O,tenantId:he||void 0,postBody:$||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(mt)(Pt))}catch(on){d.reject(on)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Wr;case"linkViaPopup":case"linkViaRedirect":return fo;case"reauthViaPopup":case"reauthViaRedirect":return Hs;default:Fe(this.auth,"internal-error")}}resolve(l){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wa=new Je(2e3,1e4);function Pi(){return(Pi=(0,v.Z)(function*(f,l,d){const y=Ln(f);tt(f,l,Rn);const O=Yi(y,d);return new Go(y,"signInViaPopup",l,O).executeNotNull()})).apply(this,arguments)}function Jr(){return(Jr=(0,v.Z)(function*(f,l,d){const y=(0,F.m9)(f);tt(y.auth,l,Rn);const O=Yi(y.auth,d);return new Go(y.auth,"reauthViaPopup",l,O,y).executeNotNull()})).apply(this,arguments)}function Oi(){return(Oi=(0,v.Z)(function*(f,l,d){const y=(0,F.m9)(f);tt(y.auth,l,Rn);const O=Yi(y.auth,d);return new Go(y.auth,"linkViaPopup",l,O,y).executeNotNull()})).apply(this,arguments)}let Go=(()=>{class f extends Ws{constructor(d,y,O,$,he){super(d,y,$,he),this.provider=O,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,v.Z)(function*(){const y=yield d.execute();return Y(y,d.auth,"internal-error"),y})()}onExecution(){var d=this;return(0,v.Z)(function*(){st(1===d.filter.length,"Popup operations only handle one event");const y=ln();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],y),d.authWindow.associatedEvent=y,d.resolver._originValidation(d.auth).catch(O=>{d.reject(O)}),d.resolver._isIframeWebStorageSupported(d.auth,O=>{O||d.reject(Pe(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var y,O;this.pollId=null!==(O=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,wa.get())};d()}}return f.currentPopupAction=null,f})();const Mo="pendingRedirect",g=new Map;class _ extends Ws{constructor(l,d,y=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,y),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,v.Z)(function*(){let y=g.get(d.auth._key());if(!y){try{const $=(yield function h(f,l){return I.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;y=()=>Promise.resolve($)}catch(O){y=()=>Promise.reject(O)}g.set(d.auth._key(),y)}return d.bypassAuthState||g.set(d.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,y=this;return(0,v.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(y,l);if("unknown"!==l.type){if(l.eventId){const O=yield y.auth._redirectUserForId(l.eventId);if(O)return y.user=O,d().call(y,l);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function I(){return(I=(0,v.Z)(function*(f,l){const d=yt(l),y=Le(f);if(!(yield y._isAvailable()))return!1;const O="true"===(yield y._get(d));return yield y._remove(d),O})).apply(this,arguments)}function S(f,l){return k.apply(this,arguments)}function k(){return(k=(0,v.Z)(function*(f,l){return Le(f)._set(yt(l),"true")})).apply(this,arguments)}function de(f,l){g.set(f._key(),l)}function Le(f){return it(f._redirectPersistence)}function yt(f){return q(Mo,f.config.apiKey,f.name)}function It(f,l,d){return function vn(f,l,d){return b.apply(this,arguments)}(f,l,d)}function b(){return(b=(0,v.Z)(function*(f,l,d){const y=Ln(f);tt(f,l,Rn),yield y._initializationPromise;const O=Yi(y,d);return yield S(O,y),O._openRedirect(y,l,"signInViaRedirect")})).apply(this,arguments)}function A(f,l,d){return function L(f,l,d){return K.apply(this,arguments)}(f,l,d)}function K(){return(K=(0,v.Z)(function*(f,l,d){const y=(0,F.m9)(f);tt(y.auth,l,Rn),yield y.auth._initializationPromise;const O=Yi(y.auth,d);yield S(O,y.auth);const $=yield sn(y);return O._openRedirect(y.auth,l,"reauthViaRedirect",$)})).apply(this,arguments)}function le(f,l,d){return function we(f,l,d){return Xe.apply(this,arguments)}(f,l,d)}function Xe(){return(Xe=(0,v.Z)(function*(f,l,d){const y=(0,F.m9)(f);tt(y.auth,l,Rn),yield y.auth._initializationPromise;const O=Yi(y.auth,d);yield Lr(!1,y,l.providerId),yield S(O,y.auth);const $=yield sn(y);return O._openRedirect(y.auth,l,"linkViaRedirect",$)})).apply(this,arguments)}function Lt(){return(Lt=(0,v.Z)(function*(f,l){return yield Ln(f)._initializationPromise,zt(f,l,!1)})).apply(this,arguments)}function zt(f,l){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,v.Z)(function*(f,l,d=!1){const y=Ln(f),O=Yi(y,l),he=yield new _(y,O,d).execute();return he&&!d&&(delete he.user._redirectEventId,yield y._persistUserIfCurrent(he.user),yield y._setRedirectUser(null,l)),he})).apply(this,arguments)}function sn(f){return si.apply(this,arguments)}function si(){return(si=(0,v.Z)(function*(f){const l=ln(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class po{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(l,y)&&(d=!0,this.sendToConsumer(l,y),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Ni(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sa(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var y;if(l.error&&!sa(l)){const O=(null===(y=l.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";d.onError(Pe(this.auth,O))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const y=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&y}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ja(l))}saveEventToCache(l){this.cachedEventUids.add(ja(l)),this.lastProcessedEventTime=Date.now()}}function ja(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function sa({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function ss(f){return oa.apply(this,arguments)}function oa(){return(oa=(0,v.Z)(function*(f,l={}){return Ut(f,"GET","/v1/projects",l)})).apply(this,arguments)}const Pu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wc=/^https?/;function Nu(){return(Nu=(0,v.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield ss(f);for(const d of l)try{if(xu(d))return}catch{}Fe(f,"unauthorized-domain")})).apply(this,arguments)}function xu(f){const l=Te(),{protocol:d,hostname:y}=new URL(l);if(f.startsWith("chrome-extension://")){const he=new URL(f);return""===he.hostname&&""===y?"chrome-extension:"===d&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&he.hostname===y}if(!wc.test(d))return!1;if(Pu.test(f))return y===f;const O=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(y)}const eu=new Je(3e4,6e4);function Ha(){const f=Zt().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Wa=null;const Lu=new Je(5e3,15e3),bc="__/auth/iframe",ld="emulator/auth/iframe",tu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sc(f){const l=f.config;Y(l.authDomain,f,"auth-domain-config-required");const d=l.emulator?nt(l,ld):`https://${f.config.authDomain}/${bc}`,y={apiKey:l.apiKey,appName:f.name,v:te.SDK_VERSION},O=Tc.get(f.config.apiHost);O&&(y.eid=O);const $=f._getFrameworks();return $.length&&(y.fw=$.join(",")),`${d}?${(0,F.xO)(y).slice(1)}`}function Ta(){return Ta=(0,v.Z)(function*(f){const l=yield function Ko(f){return Wa=Wa||function ku(f){return new Promise((l,d)=>{var y,O,$;function he(){Ha(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Ha(),d(Pe(f,"network-request-failed"))},timeout:eu.get()})}if(null!==(O=null===(y=Zt().gapi)||void 0===y?void 0:y.iframes)&&void 0!==O&&O.Iframe)l(gapi.iframes.getContext());else{if(null===($=Zt().gapi)||void 0===$||!$.load){const Oe=ra("iframefcb");return Zt()[Oe]=()=>{gapi.load?he():d(Pe(f,"network-request-failed"))},Ar(`https://apis.google.com/js/api.js?onload=${Oe}`).catch(mt=>d(mt))}he()}}).catch(l=>{throw Wa=null,l})}(f),Wa}(f),d=Zt().gapi;return Y(d,f,"internal-error"),l.open({where:document.body,url:Sc(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tu,dontclear:!0},y=>new Promise(function(){var O=(0,v.Z)(function*($,he){yield y.restyle({setHideOnLeave:!1});const Oe=Pe(f,"network-request-failed"),mt=Zt().setTimeout(()=>{he(Oe)},Lu.get());function Pt(){Zt().clearTimeout(mt),$(y)}y.ping(Pt).then(Pt,()=>{he(Oe)})});return function($,he){return O.apply(this,arguments)}}()))}),Ta.apply(this,arguments)}const Fu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uu=500,Bu=600,zs="_blank",Ll="http://localhost";class nu{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Gs="__/auth/handler",fl="emulator/auth/handler";function ru(f,l,d,y,O,$){Y(f.config.authDomain,f,"auth-domain-config-required"),Y(f.config.apiKey,f,"invalid-api-key");const he={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:y,v:te.SDK_VERSION,eventId:O};if(l instanceof Rn){l.setDefaultLanguage(f.languageCode),he.providerId=l.providerId||"",(0,F.xb)(l.getCustomParameters())||(he.customParameters=JSON.stringify(l.getCustomParameters()));for(const[mt,Pt]of Object.entries($||{}))he[mt]=Pt}if(l instanceof Gt){const mt=l.getScopes().filter(Pt=>""!==Pt);mt.length>0&&(he.scopes=mt.join(","))}f.tenantId&&(he.tid=f.tenantId);const Oe=he;for(const mt of Object.keys(Oe))void 0===Oe[mt]&&delete Oe[mt];return`${function Vu({config:f}){return f.emulator?nt(f,fl):`https://${f.authDomain}/${Gs}`}(f)}?${(0,F.xO)(Oe).slice(1)}`}const Ka="webStorageSupport",Za=class pl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rn,this._completeRedirectFn=zt,this._overrideRedirectResult=de}_openPopup(l,d,y,O){var $=this;return(0,v.Z)(function*(){var he;st(null===(he=$.eventManagers[l._key()])||void 0===he?void 0:he.manager,"_initialize() not called before _openPopup()");const Oe=ru(l,d,y,Te(),O);return function Ac(f,l,d,y=Uu,O=Bu){const $=Math.max((window.screen.availHeight-O)/2,0).toString(),he=Math.max((window.screen.availWidth-y)/2,0).toString();let Oe="";const mt=Object.assign(Object.assign({},Fu),{width:y.toString(),height:O.toString(),top:$,left:he}),Pt=(0,F.z$)().toLowerCase();d&&(Oe=ne(Pt)?zs:d),ve(Pt)&&(l=l||Ll,mt.scrollbars="yes");const on=Object.entries(mt).reduce((ei,[mo,tl])=>`${ei}${mo}=${tl},`,"");if(function yn(f=(0,F.z$)()){var l;return Ze(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(Pt)&&"_self"!==Oe)return function Ga(f,l){const d=document.createElement("a");d.href=f,d.target=l;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(y)}(l||"",Oe),new nu(null);const qt=window.open(l||"",Oe,on);Y(qt,f,"popup-blocked");try{qt.focus()}catch{}return new nu(qt)}(l,Oe,ln())})()}_openRedirect(l,d,y,O){var $=this;return(0,v.Z)(function*(){return yield $._originValidation(l),function ir(f){Zt().location.href=f}(ru(l,d,y,Te(),O)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:O,promise:$}=this.eventManagers[d];return O?Promise.resolve(O):(st($,"If manager is not set, promise should be"),$)}const y=this.initAndGetManager(l);return this.eventManagers[d]={promise:y},y.catch(()=>{delete this.eventManagers[d]}),y}initAndGetManager(l){var d=this;return(0,v.Z)(function*(){const y=yield function za(f){return Ta.apply(this,arguments)}(l),O=new po(l);return y.register("authEvent",$=>(Y($?.authEvent,l,"invalid-auth-event"),{status:O.onEvent($.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:O},d.iframes[l._key()]=y,O})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(Ka,{type:Ka},O=>{var $;const he=null===($=O?.[0])||void 0===$?void 0:$[Ka];void 0!==he&&d(!!he),Fe(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Ou(f){return Nu.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return us()||_t()||Ze()}};class os{constructor(l){this.factorId=l}_process(l,d,y){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,y);case"signin":return this._finalizeSignIn(l,d.credential);default:return Re("unexpected MultiFactorSessionType")}}}class xi extends os{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new xi(l)}_finalizeEnroll(l,d,y){return function $o(f,l){return Ut(f,"POST","/v2/accounts/mfaEnrollment:finalize",ft(f,l))}(l,{idToken:d,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function na(f,l){return Ut(f,"POST","/v2/accounts/mfaSignIn:finalize",ft(f,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let iu=(()=>{class f{constructor(){}static assertion(d){return xi._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var Fl="@firebase/auth";class Ya{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,v.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(y=>{l(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);d&&(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zo(){return window}(0,F.Pz)("authIdTokenMaxAge"),function su(f){(0,te._registerComponent)(new ge.wA("auth",(l,{options:d})=>{const y=l.getProvider("app").getImmediate(),O=l.getProvider("heartbeat"),{apiKey:$,authDomain:he}=y.options;return((Oe,mt)=>{Y($&&!$.includes(":"),"invalid-api-key",{appName:Oe.name}),Y(!he?.includes(":"),"argument-error",{appName:Oe.name});const Pt={apiKey:$,authDomain:he,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Di(f)},on=new xo(Oe,mt,Pt);return function N(f,l){const d=l?.persistence||[],y=(Array.isArray(d)?d:[d]).map(it);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(y,l?.popupRedirectResolver)}(on,d),on})(y,O)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,y)=>{l.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new ge.wA("auth-internal",l=>{const d=Ln(l.getProvider("auth").getImmediate());return new Ya(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Fl,"0.21.4",function as(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,te.registerVersion)(Fl,"0.21.4","esm2017")}("Browser");const gl=2e3;function qa(){return qa=(0,v.Z)(function*(f,l,d){var y;const{BuildInfo:O}=Zo();st(l.sessionId,"AuthEvent did not contain a session ID");const $=yield function uu(f){return Ul.apply(this,arguments)}(l.sessionId),he={};return Ze()?he.ibi=O.packageName:W()?he.apn=O.packageName:Fe(f,"operation-not-supported-in-this-environment"),O.displayName&&(he.appDisplayName=O.displayName),he.sessionId=$,ru(f,d,l.type,void 0,null!==(y=l.eventId)&&void 0!==y?y:void 0,he)}),qa.apply(this,arguments)}function ml(){return(ml=(0,v.Z)(function*(f){const{BuildInfo:l}=Zo(),d={};Ze()?d.iosBundleId=l.packageName:W()?d.androidPackageName=l.packageName:Fe(f,"operation-not-supported-in-this-environment"),yield ss(f,d)})).apply(this,arguments)}function _l(){return(_l=(0,v.Z)(function*(f,l,d){const{cordova:y}=Zo();let O=()=>{};try{yield new Promise(($,he)=>{let Oe=null;function mt(){var qt;$();const ei=null===(qt=y.plugins.browsertab)||void 0===qt?void 0:qt.close;"function"==typeof ei&&ei(),"function"==typeof d?.close&&d.close()}function Pt(){Oe||(Oe=window.setTimeout(()=>{he(Pe(f,"redirect-cancelled-by-user"))},gl))}function on(){"visible"===document?.visibilityState&&Pt()}l.addPassiveListener(mt),document.addEventListener("resume",Pt,!1),W()&&document.addEventListener("visibilitychange",on,!1),O=()=>{l.removePassiveListener(mt),document.removeEventListener("resume",Pt,!1),document.removeEventListener("visibilitychange",on,!1),Oe&&window.clearTimeout(Oe)}})}finally{O()}})).apply(this,arguments)}function Ul(){return(Ul=(0,v.Z)(function*(f){const l=function Sa(f){if(st(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const l=new ArrayBuffer(f.length),d=new Uint8Array(l);for(let y=0;y<f.length;y++)d[y]=f.charCodeAt(y);return d}(f),d=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(d)).map(O=>O.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const cu=20;class Wu extends po{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(l)),super.onEvent(l)}initialized(){var l=this;return(0,v.Z)(function*(){yield l.initPromise})()}}function du(f){return hu.apply(this,arguments)}function hu(){return(hu=(0,v.Z)(function*(f){const l=yield fu()._get(vl(f));return l&&(yield fu()._remove(vl(f))),l})).apply(this,arguments)}function la(){const f=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<cu;d++){const y=Math.floor(Math.random()*l.length);f.push(l.charAt(y))}return f.join("")}function fu(){return it(He)}function vl(f){return q("authEvent",f.config.apiKey,f.name)}function Po(f){if(!f?.includes("?"))return{};const[l,...d]=f.split("?");return(0,F.zd)(d.join("?"))}const Gu=class zu{constructor(){this._redirectPersistence=rn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zt,this._overrideRedirectResult=de}_initialize(l){var d=this;return(0,v.Z)(function*(){const y=l._key();let O=d.eventManagers.get(y);return O||(O=new Wu(l),d.eventManagers.set(y,O),d.attachCallbackListeners(l,O)),O})()}_openPopup(l){Fe(l,"operation-not-supported-in-this-environment")}_openRedirect(l,d,y,O){var $=this;return(0,v.Z)(function*(){!function lu(f){var l,d,y,O,$,he,Oe,mt,Pt,on;const qt=Zo();Y("function"==typeof(null===(l=qt?.universalLinks)||void 0===l?void 0:l.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(typeof(null===(d=qt?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y("function"==typeof(null===($=null===(O=null===(y=qt?.cordova)||void 0===y?void 0:y.plugins)||void 0===O?void 0:O.browsertab)||void 0===$?void 0:$.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(mt=null===(Oe=null===(he=qt?.cordova)||void 0===he?void 0:he.plugins)||void 0===Oe?void 0:Oe.browsertab)||void 0===mt?void 0:mt.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(on=null===(Pt=qt?.cordova)||void 0===Pt?void 0:Pt.InAppBrowser)||void 0===on?void 0:on.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const he=yield $._initialize(l);yield he.initialized(),he.resetRedirect(),function j(){g.clear()}(),yield $._originValidation(l);const Oe=function Pc(f,l,d=null){return{type:l,eventId:d,urlResponse:null,sessionId:la(),postBody:null,tenantId:f.tenantId,error:Pe(f,"no-auth-event")}}(l,y,O);yield function yl(f,l){return fu()._set(vl(f),l)}(l,Oe);const mt=yield function Hu(f,l,d){return qa.apply(this,arguments)}(l,Oe,d),Pt=yield function aa(f){const{cordova:l}=Zo();return new Promise(d=>{l.plugins.browsertab.isAvailable(y=>{let O=null;y?l.plugins.browsertab.openUrl(f):O=l.InAppBrowser.open(f,function $t(f=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(O)})})}(mt);return function Mc(f,l,d){return _l.apply(this,arguments)}(l,he,Pt)})()}_isIframeWebStorageSupported(l,d){throw new Error("Method not implemented.")}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function au(f){return ml.apply(this,arguments)}(l)),this.originValidationPromises[d]}attachCallbackListeners(l,d){const{universalLinks:y,handleOpenURL:O,BuildInfo:$}=Zo(),he=setTimeout((0,v.Z)(function*(){yield du(l),d.onEvent(Bl())}),500),Oe=function(){var on=(0,v.Z)(function*(qt){clearTimeout(he);const ei=yield du(l);let mo=null;ei&&qt?.url&&(mo=function Qa(f,l){var d,y;const O=function pu(f){const l=Po(f),d=l.link?decodeURIComponent(l.link):void 0,y=Po(d).link,O=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Po(O).link||O||y||d||f}(l);if(O.includes("/__/auth/callback")){const $=Po(O),he=$.firebaseError?function El(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent($.firebaseError)):null,Oe=null===(y=null===(d=he?.code)||void 0===d?void 0:d.split("auth/"))||void 0===y?void 0:y[1],mt=Oe?Pe(Oe):null;return mt?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:mt,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:O,postBody:null}}return null}(ei,qt.url)),d.onEvent(mo||Bl())});return function(ei){return on.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,Oe);const mt=O,Pt=`${$.packageName.toLowerCase()}://`;Zo().handleOpenURL=function(){var on=(0,v.Z)(function*(qt){if(qt.toLowerCase().startsWith(Pt)&&Oe({url:qt}),"function"==typeof mt)try{mt(qt)}catch(ei){console.error(ei)}});return function(qt){return on.apply(this,arguments)}}()}};function Bl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pe("no-auth-event")}}const Ku=1e3;function Dl(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Cl(f=(0,F.z$)()){return!("file:"!==Dl()&&"ionic:"!==Dl()&&"capacitor:"!==Dl()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ja(){try{const f=self.localStorage,l=ln();if(f)return f.setItem(l,"1"),f.removeItem(l),!function _u(f=(0,F.z$)()){return function qu(){return(0,F.w1)()&&11===document?.documentMode}()||function mu(f=(0,F.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,F.hl)()}catch{return wl()&&(0,F.hl)()}return!1}function wl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xr(){return(function Zu(){return"http:"===Dl()||"https:"===Dl()}()||(0,F.ru)()||Cl())&&!function Yu(){return(0,F.b$)()||(0,F.UG)()}()&&Ja()&&!wl()}function ua(){return Cl()&&typeof document<"u"}function ca(){return(ca=(0,v.Z)(function*(){return!!ua()&&new Promise(f=>{const l=setTimeout(()=>{f(!1)},Ku);document.addEventListener("deviceready",()=>{clearTimeout(l),f(!0)})})})).apply(this,arguments)}const Vr={LOCAL:"local",NONE:"none",SESSION:"session"},Oo=Y,yu="persistence";function Qu(f){return vu.apply(this,arguments)}function vu(){return(vu=(0,v.Z)(function*(f){yield f._initializationPromise;const l=bl(),d=q(yu,f.config.apiKey,f.name);l&&l.setItem(d,f._getPersistence())})).apply(this,arguments)}function bl(){var f;try{return(null===(f=function ls(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const Ju=Y;class go{constructor(){this.browserResolver=it(Za),this.cordovaResolver=it(Gu),this.underlyingResolver=null,this._redirectPersistence=rn,this._completeRedirectFn=zt,this._overrideRedirectResult=de}_initialize(l){var d=this;return(0,v.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,d,y,O){var $=this;return(0,v.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openPopup(l,d,y,O)})()}_openRedirect(l,d,y,O){var $=this;return(0,v.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openRedirect(l,d,y,O)})()}_isIframeWebStorageSupported(l,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,d)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return ua()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ju(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,v.Z)(function*(){if(l.underlyingResolver)return;const d=yield function qo(){return ca.apply(this,arguments)}();l.underlyingResolver=d?l.cordovaResolver:l.browserResolver})()}}function $l(f){return f.unwrap()}function Tl(f){return Sl(f)}function Sl(f){const{_tokenResponse:l}=f instanceof F.ZR?f.customData:f;if(!l)return null;if(!(f instanceof F.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return Rs.credentialFromResult(f);const d=l.providerId;if(!d||d===_e.PASSWORD)return null;let y;switch(d){case _e.GOOGLE:y=Eo;break;case _e.FACEBOOK:y=vo;break;case _e.GITHUB:y=ri;break;case _e.TWITTER:y=gs;break;default:const{oauthIdToken:O,oauthAccessToken:$,oauthTokenSecret:he,pendingToken:Oe,nonce:mt}=l;return $||he||O||Oe?Oe?d.startsWith("saml.")?fs._create(d,Oe):me._fromParams({providerId:d,signInMethod:d,pendingToken:Oe,idToken:O,accessToken:$}):new nr(d).credential({idToken:O,accessToken:$,rawNonce:mt}):null}return f instanceof F.ZR?y.credentialFromError(f):y.credentialFromResult(f)}function ki(f,l){return l.catch(d=>{throw d instanceof F.ZR&&function jl(f,l){var d;const y=null===(d=l.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new Eu(f,function pr(f,l){var d;const y=(0,F.m9)(f),O=l;return Y(l.customData.operationType,y,"argument-error"),Y(null===(d=O.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,y,"argument-error"),Gi._fromError(y,O)}(f,l));else if(y){const O=Sl(l),$=l;O&&($.credential=O,$.tenantId=y.tenantId||void 0,$.email=y.email||void 0,$.phoneNumber=y.phoneNumber||void 0)}}(f,d),d}).then(d=>{const O=d.user;return{operationType:d.operationType,credential:Tl(d),additionalUserInfo:ma(d),user:Os.getOrCreate(O)}})}function el(f,l){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,v.Z)(function*(f,l){const d=yield l;return{verificationId:d.verificationId,confirm:y=>ki(f,d.confirm(y))}})).apply(this,arguments)}class Eu{constructor(l,d){this.resolver=d,this.auth=function Xa(f){return f.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return ki($l(this.auth),this.resolver.resolveSignIn(l))}}class Os{constructor(l){this._delegate=l,this.multiFactor=function _a(f){const l=(0,F.m9)(f);return js.has(l)||js.set(l,Ki._fromUser(l)),js.get(l)}(l)}static getOrCreate(l){return Os.USER_MAP.has(l)||Os.USER_MAP.set(l,new Os(l)),Os.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var d=this;return(0,v.Z)(function*(){return ki(d.auth,Fs(d._delegate,l))})()}linkWithPhoneNumber(l,d){var y=this;return(0,v.Z)(function*(){return el(y.auth,function hl(f,l,d){return Ia.apply(this,arguments)}(y._delegate,l,d))})()}linkWithPopup(l){var d=this;return(0,v.Z)(function*(){return ki(d.auth,function Ps(f,l,d){return Oi.apply(this,arguments)}(d._delegate,l,go))})()}linkWithRedirect(l){var d=this;return(0,v.Z)(function*(){return yield Qu(Ln(d.auth)),le(d._delegate,l,go)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var d=this;return(0,v.Z)(function*(){return ki(d.auth,wo(d._delegate,l))})()}reauthenticateWithPhoneNumber(l,d){return el(this.auth,function Da(f,l,d){return Va.apply(this,arguments)}(this._delegate,l,d))}reauthenticateWithPopup(l){return ki(this.auth,function kl(f,l,d){return Jr.apply(this,arguments)}(this._delegate,l,go))}reauthenticateWithRedirect(l){var d=this;return(0,v.Z)(function*(){return yield Qu(Ln(d.auth)),A(d._delegate,l,go)})()}sendEmailVerification(l){return function Bs(f,l){return Yn.apply(this,arguments)}(this._delegate,l)}unlink(l){var d=this;return(0,v.Z)(function*(){return yield function hn(f,l){return Vi.apply(this,arguments)}(d._delegate,l),d})()}updateEmail(l){return function ea(f,l){return ro((0,F.m9)(f),l,null)}(this._delegate,l)}updatePassword(l){return function Is(f,l){return ro((0,F.m9)(f),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function xl(f,l){return Er.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function Xo(f,l){return no.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,d){return function mi(f,l,d){return to.apply(this,arguments)}(this._delegate,l,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Os.USER_MAP=new WeakMap;const ha=Y;let Ns=(()=>{class f{constructor(d,y){if(this.app=d,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:O}=d.options;ha(O,"invalid-api-key",{appName:d.name}),ha(O,"invalid-api-key",{appName:d.name});const $=typeof window<"u"?go:void 0;this._delegate=y.initialize({options:{persistence:Xu(O,d.name),popupRedirectResolver:$}}),this._delegate._updateErrorMap(at),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Os.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,y){!function xs(f,l,d){const y=Ln(f);Y(y._canInitEmulator,y,"emulator-config-failed"),Y(/^https?:\/\//.test(l),y,"invalid-emulator-scheme");const O=!!d?.disableWarnings,$=gn(l),{host:he,port:Oe}=function lr(f){const l=gn(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!d)return{host:"",port:null};const y=d[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(y);if(O){const $=O[1];return{host:$,port:Ir(y.substr($.length+1))}}{const[$,he]=y.split(":");return{host:$,port:Ir(he)}}}(l);y.config.emulator={url:`${$}//${he}${null===Oe?"":`:${Oe}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:he,port:Oe,protocol:$.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function $r(){function f(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,y)}applyActionCode(d){return function pi(f,l){return gi.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return es(this._delegate,d)}confirmPasswordReset(d,y){return function _s(f,l,d){return Xs.apply(this,arguments)}(this._delegate,d,y)}createUserWithEmailAndPassword(d,y){var O=this;return(0,v.Z)(function*(){return ki(O._delegate,function Qe(f,l,d){return kt.apply(this,arguments)}(O._delegate,d,y))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function bo(f,l){return Es.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Fo(f,l){return"EMAIL_SIGNIN"===Qs.parseLink(l)?.operation}(0,d)}getRedirectResult(){var d=this;return(0,v.Z)(function*(){ha(Xr(),d._delegate,"operation-not-supported-in-this-environment");const y=yield function Tt(f,l){return Lt.apply(this,arguments)}(d._delegate,go);return y?ki(d._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Il(f,l){Ln(f)._logFramework(l)}(this._delegate,d)}onAuthStateChanged(d,y,O){const{next:$,error:he,complete:Oe}=Wl(d,y,O);return this._delegate.onAuthStateChanged($,he,Oe)}onIdTokenChanged(d,y,O){const{next:$,error:he,complete:Oe}=Wl(d,y,O);return this._delegate.onIdTokenChanged($,he,Oe)}sendSignInLinkToEmail(d,y){return function ga(f,l,d){return yr.apply(this,arguments)}(this._delegate,d,y)}sendPasswordResetEmail(d,y){return function Xi(f,l,d){return tn.apply(this,arguments)}(this._delegate,d,y||void 0)}setPersistence(d){var y=this;return(0,v.Z)(function*(){let O;switch(function da(f,l){Oo(Object.values(Vr).includes(l),f,"invalid-persistence-type"),(0,F.b$)()?Oo(l!==Vr.SESSION,f,"unsupported-persistence-type"):(0,F.UG)()?Oo(l===Vr.NONE,f,"unsupported-persistence-type"):wl()?Oo(l===Vr.NONE||l===Vr.LOCAL&&(0,F.hl)(),f,"unsupported-persistence-type"):Oo(l===Vr.NONE||Ja(),f,"unsupported-persistence-type")}(y._delegate,d),d){case Vr.SESSION:O=rn;break;case Vr.LOCAL:O=(yield it(bs)._isAvailable())?bs:He;break;case Vr.NONE:O=X;break;default:return Fe("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(O)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return ki(this._delegate,function Jo(f){return ii.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return ki(this._delegate,fn(this._delegate,d))}signInWithCustomToken(d){return ki(this._delegate,function Lo(f,l){return Ji.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,y){return ki(this._delegate,function Hn(f,l,d){return fn((0,F.m9)(f),Js.credential(l,d))}(this._delegate,d,y))}signInWithEmailLink(d,y){return ki(this._delegate,function Hi(f,l,d){return Or.apply(this,arguments)}(this._delegate,d,y))}signInWithPhoneNumber(d,y){return el(this._delegate,function Nl(f,l,d){return Ba.apply(this,arguments)}(this._delegate,d,y))}signInWithPopup(d){var y=this;return(0,v.Z)(function*(){return ha(Xr(),y._delegate,"operation-not-supported-in-this-environment"),ki(y._delegate,function ba(f,l,d){return Pi.apply(this,arguments)}(y._delegate,d,go))})()}signInWithRedirect(d){var y=this;return(0,v.Z)(function*(){return ha(Xr(),y._delegate,"operation-not-supported-in-this-environment"),yield Qu(y._delegate),It(y._delegate,d,go)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function ys(f,l){return vs.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Vr,f})();function Wl(f,l,d){let y=f;"function"!=typeof f&&({next:y,error:l,complete:d}=f);const O=y;return{next:he=>O(he&&Os.getOrCreate(he)),error:l,complete:d}}function Xu(f,l){const d=function Oc(f,l){const d=bl();if(!d)return[];const y=q(yu,f,l);switch(d.getItem(y)){case Vr.NONE:return[X];case Vr.LOCAL:return[bs,rn];case Vr.SESSION:return[rn];default:return[]}}(f,l);if(typeof self<"u"&&!d.includes(bs)&&d.push(bs),typeof window<"u")for(const y of[He,rn])d.includes(y)||d.push(y);return d.includes(X)||d.push(X),d}class zl{constructor(){this.providerId="phone",this._delegate=new Rs($l(H.Z.auth()))}static credential(l,d){return Rs.credential(l,d)}verifyPhoneNumber(l,d){return this._delegate.verifyPhoneNumber(l,d)}unwrap(){return this._delegate}}zl.PHONE_SIGN_IN_METHOD=Rs.PHONE_SIGN_IN_METHOD,zl.PROVIDER_ID=Rs.PROVIDER_ID;const Nc=Y;class ec{constructor(l,d,y=H.Z.app()){var O;Nc(null===(O=y.options)||void 0===O?void 0:O.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new ho(l,d,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kc(f){f.INTERNAL.registerComponent(new ge.wA("auth-compat",l=>{const d=l.getProvider("app-compat").getImmediate(),y=l.getProvider("auth");return new Ns(d,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:se_EMAIL_SIGNIN,PASSWORD_RESET:se_PASSWORD_RESET,RECOVER_EMAIL:se_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:se_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:se_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:se_VERIFY_EMAIL}},EmailAuthProvider:Js,FacebookAuthProvider:vo,GithubAuthProvider:ri,GoogleAuthProvider:Eo,OAuthProvider:nr,SAMLAuthProvider:jr,PhoneAuthProvider:zl,PhoneMultiFactorGenerator:iu,RecaptchaVerifier:ec,TwitterAuthProvider:gs,Auth:Ns,AuthCredential:ur,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.3.4")}(H.Z)},8766:(Dt,be,x)=>{x.d(be,{Lj:()=>Fe,X3:()=>rt});var v=x(5861);const H=(Y,Re)=>Re.some(st=>Y instanceof st);let F,te;const ge=new WeakMap,pe=new WeakMap,_e=new WeakMap,Q=new WeakMap,J=new WeakMap;let Be={get(Y,Re,st){if(Y instanceof IDBTransaction){if("done"===Re)return pe.get(Y);if("objectStoreNames"===Re)return Y.objectStoreNames||_e.get(Y);if("store"===Re)return st.objectStoreNames[1]?void 0:st.objectStore(st.objectStoreNames[0])}return We(Y[Re])},set:(Y,Re,st)=>(Y[Re]=st,!0),has:(Y,Re)=>Y instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in Y};function Se(Y){return"function"==typeof Y?function wt(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...Re){return Y.apply($e(this),Re),We(ge.get(this))}:function(...Re){return We(Y.apply($e(this),Re))}:function(Re,...st){const Ye=Y.call($e(this),Re,...st);return _e.set(Ye,Re.sort?Re.sort():[Re]),We(Ye)}}(Y):(Y instanceof IDBTransaction&&function Ke(Y){if(pe.has(Y))return;const Re=new Promise((st,Ye)=>{const it=()=>{Y.removeEventListener("complete",lt),Y.removeEventListener("error",N),Y.removeEventListener("abort",N)},lt=()=>{st(),it()},N=()=>{Ye(Y.error||new DOMException("AbortError","AbortError")),it()};Y.addEventListener("complete",lt),Y.addEventListener("error",N),Y.addEventListener("abort",N)});pe.set(Y,Re)}(Y),H(Y,function oe(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,Be):Y)}function We(Y){if(Y instanceof IDBRequest)return function se(Y){const Re=new Promise((st,Ye)=>{const it=()=>{Y.removeEventListener("success",lt),Y.removeEventListener("error",N)},lt=()=>{st(We(Y.result)),it()},N=()=>{Ye(Y.error),it()};Y.addEventListener("success",lt),Y.addEventListener("error",N)});return Re.then(st=>{st instanceof IDBCursor&&ge.set(st,Y)}).catch(()=>{}),J.set(Re,Y),Re}(Y);if(Q.has(Y))return Q.get(Y);const Re=Se(Y);return Re!==Y&&(Q.set(Y,Re),J.set(Re,Y)),Re}const $e=Y=>J.get(Y);function rt(Y,Re,{blocked:st,upgrade:Ye,blocking:it,terminated:lt}={}){const N=indexedDB.open(Y,Re),Te=We(N);return Ye&&N.addEventListener("upgradeneeded",Ie=>{Ye(We(N.result),Ie.oldVersion,Ie.newVersion,We(N.transaction))}),st&&N.addEventListener("blocked",()=>st()),Te.then(Ie=>{lt&&Ie.addEventListener("close",()=>lt()),it&&Ie.addEventListener("versionchange",()=>it())}).catch(()=>{}),Te}function Fe(Y,{blocked:Re}={}){const st=indexedDB.deleteDatabase(Y);return Re&&st.addEventListener("blocked",()=>Re()),We(st).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],tt=new Map;function et(Y,Re){if(!(Y instanceof IDBDatabase)||Re in Y||"string"!=typeof Re)return;if(tt.get(Re))return tt.get(Re);const st=Re.replace(/FromIndex$/,""),Ye=Re!==st,it=ze.includes(st);if(!(st in(Ye?IDBIndex:IDBObjectStore).prototype)||!it&&!Pe.includes(st))return;const lt=function(){var N=(0,v.Z)(function*(Te,...Ie){const Ce=this.transaction(Te,it?"readwrite":"readonly");let xe=Ce.store;return Ye&&(xe=xe.index(Ie.shift())),(yield Promise.all([xe[st](...Ie),it&&Ce.done]))[0]});return function(Ie){return N.apply(this,arguments)}}();return tt.set(Re,lt),lt}!function at(Y){Be=Y(Be)}(Y=>({...Y,get:(Re,st,Ye)=>et(Re,st)||Y.get(Re,st,Ye),has:(Re,st)=>!!et(Re,st)||Y.has(Re,st)}))},5861:(Dt,be,x)=>{function v(F,te,oe,ce,ge,pe,_e){try{var Q=F[pe](_e),J=Q.value}catch(se){return void oe(se)}Q.done?te(J):Promise.resolve(J).then(ce,ge)}function H(F){return function(){var te=this,oe=arguments;return new Promise(function(ce,ge){var pe=F.apply(te,oe);function _e(J){v(pe,ce,ge,_e,Q,"next",J)}function Q(J){v(pe,ce,ge,_e,Q,"throw",J)}_e(void 0)})}}x.d(be,{Z:()=>H})}},Dt=>{Dt(Dt.s=2092)}]);